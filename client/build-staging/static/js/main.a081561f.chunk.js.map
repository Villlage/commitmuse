{"version":3,"sources":["app/pages/public/404/index.tsx","app/components/Icon.tsx","helpers/base.tsx","config/environment.ts","services/logging.service.ts","services/base.service.ts","services/isa.service.ts","app/components/Message/index.tsx","app/modules/common/PageContent/index.tsx","app/modules/company/MyIsa/IsaStatus/index.tsx","app/components/Select/Select.tsx","app/components/Loader.tsx","app/pages/public/company/my-isa/index.tsx","app/components/TooltipBadge/index.tsx","app/modules/on-boarding/BoardingField/index.tsx","constants/system.ts","app/modules/on-boarding/ISACalculator/index.tsx","app/pages/public/coach/on-boarding/index.tsx","app/components/ExpansionPanel/index.tsx","app/modules/company/CreateIsa/FAQ/index.tsx","app/components/Input/index.tsx","constants/auth.ts","app/components/Button/index.tsx","app/modules/common/IsaAssessment/index.tsx","app/pages/public/company/my-isa/create-isa/index.tsx","helpers/formattings.ts","services/auth.service.ts","app/components/ButtonSelect/index.tsx","app/pages/public/auth/sign-up/index.tsx","app/pages/public/auth/sign-in/index.tsx","app/components/Field/index.tsx","app/components/Tabs/index.tsx","app/modules/common/Status/index.tsx","app/pages/public/company/my-isa/isa-overview/index.tsx","app/modules/client/IsaOfferReview/index.tsx","app/modules/common/Stepper/index.tsx","services/client.service.ts","app/pages/public/client/isa-offer-steps/sign-up/index.tsx","services/plaid.service.ts","app/pages/public/client/isa-offer-steps/review/index.tsx","app/pages/public/client/settings/index.tsx","services/admin.service.ts","app/modules/admin/IsaBox/index.tsx","app/pages/admin/Isas/index.tsx","app/pages/admin/Plaid/index.tsx","app/modules/admin/UserBox/index.tsx","app/pages/admin/Users/index.tsx","services/company.service.ts","app/pages/public/company/register/index.tsx","app/modules/company/SubscriptionOffer/index.tsx","constants/mockData.ts","app/pages/public/company/subscription/index.tsx","app/modules/company/MenuSideBar/index.tsx","app/pages/public/company/dashboard/index.tsx","app/modules/common/PageHeader/index.tsx","app/components/PopUp/index.tsx","app/pages/public/company/dashboard/coaches/index.tsx","app/pages/public/company/dashboard/billing-and-subs/index.tsx","app/pages/public/company/dashboard/my-isas/index.tsx","app/pages/public/company/dashboard/my-isas/isa-overview/index.tsx","app/pages/public/company/dashboard/my-isas/create-isa/index.tsx","Routes.tsx","redux/reducers/auth.ts","redux/store.ts","services/user.service.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["NotFound","props","className","onClick","history","goBack","generateIconLink","icon","icons","active_star","arrow_right","save_profile","select_down","select_up","save_pdf","share","close","star","usa","pdf","gigs_handshake","briefcase","refer","certificate","round_down","checkmark","logo","calendar","person","share_gray","plus","star_outline","emptyProjects","send","sendWhite","arrow_up","tooltip_arrow","delete","edit","account","company","new_isa_plus","pencil","question_circle","question_circle_active","code","empty_isa","bell","arrow_to_button","eye","mail","key","gear","globe","building","location","globus","home","file","university","round_blue_user","round_blue_doc","emy_owens","Icon","replace","color","style","mask","backgroundColor","src","alt","emailREGEX","validateEmail","email","test","String","toLowerCase","notEmptyArray","arr","Array","isArray","length","fixClass","noScroll","objectToUrlParams","obj","Object","keys","forEach","undefined","_","map","join","isNumber","navigator","platform","value","Number","isInteger","copyToClipboard","window","innerWidth","str","el","document","createElement","body","appendChild","select","execCommand","removeChild","makeName","u","first_name","last_name","roundK","val","Math","round","EPSILON","ENV","dev","MAIN_API","PLAID_PUBLIC_KEY","PLAID_ENV","staging","production","currentEnv","log","message","optionalParams","console","BaseService","handleError","res","error","values","err","i","handleResponseType","a","contentType","headers","get","indexOf","json","text","getJSON","url","params","fetch","method","credentials","response","postJSON","data","saveCookie","JSON","stringify","patchJSON","deleteJSON","postFormData","baseService","IsaService","isa","isa_id","Message","static","background","PageContent","child","React","createEl","title","children","status_colors","created","bg","active","paying","completed","IsaStatus","name","status","borderColor","Select","useState","showOptions","setShowOptions","isError","disabled","label","placeholder","marginLeft","options","option","index","onChange","Wrapper","styled","div","Loader","id","width","height","viewBox","fill","stroke","strokeWidth","points","isaService","MyIsa","filter","set_filter","isas","set_isas","request_error","set_request_error","loading","set_loading","getIsas","setTimeout","toString","useLayoutEffect","e","includes","push","student","to","TooltipBadge","show","set_show","tooltip","BoardingField","type","target","suffix","USER_TYPES","SYSTEM_COLORS","MainPrimary","MainSecondary","MainSuccess","MainError","MainWarning","MainInfo","MainLight","MainWhite","BodyLight","BodyDarker","Title","Border","BorderDark","Background","ActivePrimary","ActiveSecondary","ActiveSuccess","ActiveError","ActiveWarning","ActiveInfo","ActiveLight","ActiveBorder","HoverPrimary","HoverSecondary","HoverError","HoverSuccess","HoverInfo","HoverWarning","HoverLight","HoverBorder","HoverWhite","ISACalculator","copied_to_clipboard","set_copied_to_clipboard","current_income","set_current_income","future_income","set_future_income","useEffect","textAlign","min","max","step","bill","percentage","months","future_bill","__percentage","__months","__max","__current_income","__future_income","embedCalculator","OnBoarding","pricing","set_pricing","set_percentage","risk_assessment","set_risk_assessment","pay_time","set_pay_time","pay_maximum","set_pay_maximum","currentUser","hourly_rate","ExpansionPanel","isOpen","set_isOpen","content","FAQ","FAQs","faq","Input","visible","set_visible","rippled","set_rippled","onFocus","onBlur","postFix","passwordLength","Btn","button","Button","IsaAssessment","CreateIsa","selected_pricing","set_selected_pricing","client","set_client","set_error","description","time_to_be_paid","cap","cancellation_period","risk","total_income","set_total_income","setIncome","notValid","some","sendOffer","create","removeComma","cancellation_period_weeks","coach_id","addComma","toLocaleString","item","formatDate","date","moment","format","AuthService","user","password","Options","section","ButtonSelect","onSelect","selected","authService","SignUp","set_user","password_confirm","set_password_confirm","onSubmit","rest","register","fetchUser","SignIn","login","user_role","Field","Tabs","tabs","tab","isActive","activeTab","Status","find","s","IsaOverview","set_isa","active_tab","set_active_tab","match","fetchIsa","getIsaById","IsaOfferReview","coach","href","onNext","Steps","Stepper","steps","activeIndex","ClientService","user_id","token","clientService","ClientIsaSignUp","set_password","resetPassword","PlaidService","meta","public_token","metadata","companyId","company_id","plaidService","offerStatuses","ClientIsaOffer","offer_step","set_offer_step","getIsa","getOffer","onSuccess","createItem","err_msg","handleSignUp","open","config","clientName","product","env","publicKey","plaid_token","usePlaidLink","offer_strategy","ready","Settings","onLogout","signOut","marginTop","AdminService","IsaBox","created_at","adminService","AdminIsas","fetchIsas","AdminPlaid","AdminUserBox","profile_picture_link","AdminUsers","users","set_users","fetchUsers","getUsers","CompanyService","companyService","on_boarding_steps","CompanyOnBoarding","active_step","set_active_step","number_of_employees_estimate","address_line_1","address_line_2","country","zip_code","city","state","set_data","localStorage","getItem","createCompanyItem","removeItem","onRegister","address","setItem","boarding_steps","0","v","1","SubscriptionOffer","offer","oldCost","cost","OFFERS","Subscription","set_mask","getMask","subscribe","createSubscription","is_active","menu_items","route","MenuSideBar","aria-disabled","activeClassName","CompanyDashboard","coaches","last_payment","total_revenue","setData","overview","PageHeader","show_menu","set_show_menu","useHistory","setCurrentUser","PopUp","onClose","CompanyCoaches","set_coaches","show_new_coach_popup","set_show_new_coach_popup","set_coach","getCoaches","BillingAndSubs","tab_strategy","subscription","billing","invoices","CompanyIsas","CompanyIsaOverview","CompanyCreateIsa","Routes","routerProps","adminRoute","Component","path","privateRoute","exact","render","basename","initialState","phone_number","company_name","company_type","company_website","building_types","project_types","number_of_hourly_employees_range","rootReducer","combineReducers","auth","action","store","middlewares","reduxThunk","createStore","applyMiddleware","UserService","details","configStore","userService","App","set_plaid_token","getToken","tokenRes","link_token","checkAuth","getCurrentUser","Boolean","hostname","ReactDOM","getElementById","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.a081561f.chunk.js","sourcesContent":["import React from 'react'\r\nimport './style.scss'\r\n\r\nexport default function NotFound(props: any) {\r\n  return (\r\n    <section className=\"NotFound-page\">\r\n      <h1>This page doesn't exist</h1>\r\n      <h2>Check your link please</h2>\r\n      <button onClick={() => props.history.goBack()}>Go back</button>\r\n    </section>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport { CSSProperties } from 'react'\r\n\r\nconst iconsFolder = '/web/assets/icons/'\r\n\r\nconst generateIconLink = (icon: SystemIcons | string) => iconsFolder + icon + '.svg'\r\n\r\nexport const icons: any = {\r\n  active_star: generateIconLink('active_star'),\r\n  arrow_right: generateIconLink('arrow_right'),\r\n  save_profile: generateIconLink('save_profile'),\r\n  select_down: generateIconLink('select_down'),\r\n  select_up: generateIconLink('select_up'),\r\n  save_pdf: generateIconLink('save_pdf'),\r\n  share: generateIconLink('share'),\r\n  close: generateIconLink('close'),\r\n  star: generateIconLink('star'),\r\n  usa: generateIconLink('usa'),\r\n  pdf: generateIconLink('pdf'),\r\n  gigs_handshake: generateIconLink('gigs_handshake'),\r\n  briefcase: generateIconLink('briefcase'),\r\n  refer: generateIconLink('refer'),\r\n  certificate: generateIconLink('certificate'),\r\n  round_down: generateIconLink('round_down'),\r\n  checkmark: generateIconLink('checkmark'),\r\n  logo: generateIconLink('logo'),\r\n  calendar: generateIconLink('calendar'),\r\n  person: generateIconLink('person'),\r\n  share_gray: generateIconLink('share_gray'),\r\n  plus: generateIconLink('plus'),\r\n  star_outline: generateIconLink('star_outline'),\r\n  emptyProjects: generateIconLink('emptyProjects'),\r\n  send: generateIconLink('Send'),\r\n  sendWhite: generateIconLink('SendWhite'),\r\n  arrow_up: generateIconLink('arrow_up'),\r\n  tooltip_arrow: generateIconLink('tooltip_arrow'),\r\n  delete: generateIconLink('Delete'),\r\n  edit: generateIconLink('Edit'),\r\n  account: generateIconLink('account'),\r\n  company: generateIconLink('company'),\r\n  new_isa_plus: generateIconLink('new_isa_plus'),\r\n  pencil: generateIconLink('pencil'),\r\n  question_circle: generateIconLink('question-circle'),\r\n  question_circle_active: generateIconLink('question-circle-active'),\r\n  code: generateIconLink('code'),\r\n  empty_isa: generateIconLink('empty_isa'),\r\n  'caret-down': generateIconLink('caret-down'),\r\n  bell: generateIconLink('bell'),\r\n  arrow_to_button: generateIconLink('arrow_to_button'),\r\n  'chevron-right': generateIconLink('chevron-right'),\r\n  'arrow-right': generateIconLink('arrow-right'),\r\n  eye: generateIconLink('eye'),\r\n  mail: generateIconLink('mail'),\r\n  'file-download': generateIconLink('file-download'),\r\n  key: generateIconLink('key'),\r\n  gear: generateIconLink('gear'),\r\n  globe: generateIconLink('globe'),\r\n  building: generateIconLink('building'),\r\n  location: generateIconLink('location'),\r\n  'check-circle': generateIconLink('check-circle'),\r\n  'blue-plus': generateIconLink('blue-plus'),\r\n  globus: generateIconLink('globus'),\r\n  'money-check': generateIconLink('money-check'),\r\n  'user-tie': generateIconLink('user-tie'),\r\n  'user-graduate': generateIconLink('user-graduate'),\r\n  home: generateIconLink('home'),\r\n  file: generateIconLink('file'),\r\n  'credit-card': generateIconLink('credit-card'),\r\n  university: generateIconLink('university'),\r\n  round_blue_user: generateIconLink('round_blue_user'),\r\n  round_blue_doc: generateIconLink('round_blue_doc'),\r\n  'user-circle': generateIconLink('user-circle'),\r\n  emy_owens: generateIconLink('emy_owens'),\r\n}\r\n\r\nexport type SystemIcons =\r\n  | 'file-download'\r\n  | 'new_isa_plus'\r\n  | 'active_star'\r\n  | 'arrow_right'\r\n  | 'close'\r\n  | 'pdf'\r\n  | 'save_pdf'\r\n  | 'save_profile'\r\n  | 'select_down'\r\n  | 'select_up'\r\n  | 'share'\r\n  | 'star'\r\n  | 'usa'\r\n  | 'gigs_handshake'\r\n  | 'briefcase'\r\n  | 'refer'\r\n  | 'certificate'\r\n  | 'round_down'\r\n  | 'checkmark'\r\n  | 'logo'\r\n  | 'calendar'\r\n  | 'person'\r\n  | 'share_gray'\r\n  | 'plus'\r\n  | 'star_outline'\r\n  | 'emptyProjects'\r\n  | 'send'\r\n  | 'sendWhite'\r\n  | 'arrow_up'\r\n  | 'tooltip_arrow'\r\n  | 'delete'\r\n  | 'edit'\r\n  | 'account'\r\n  | 'company'\r\n  | 'pencil'\r\n  | 'question_circle'\r\n  | 'question_circle_active'\r\n  | 'code'\r\n  | 'empty_isa'\r\n  | 'caret-down'\r\n  | 'bell'\r\n  | 'arrow_to_button'\r\n  | 'chevron-right'\r\n  | 'arrow-right'\r\n  | 'eye'\r\n  | 'mail'\r\n  | 'key'\r\n  | 'gear'\r\n  | 'globe'\r\n  | 'building'\r\n  | 'location'\r\n  | 'globus'\r\n  | 'check-circle'\r\n  | 'blue-plus'\r\n  | 'money-check'\r\n  | 'user-tie'\r\n  | 'user-graduate'\r\n  | 'home'\r\n  | 'file'\r\n  | 'credit-card'\r\n  | 'university'\r\n  | 'round_blue_user'\r\n  | 'round_blue_doc'\r\n  | 'user-circle'\r\n  | 'emy_owens'\r\n\r\ninterface IconProps {\r\n  icon: SystemIcons\r\n  color?: string\r\n  style?: CSSProperties\r\n  disabled?: boolean\r\n  animated?: boolean\r\n  className?: string\r\n  onClick?(): void\r\n}\r\n\r\nexport default function Icon(props: IconProps) {\r\n  const icon = props.icon.replace(/ /g, '')\r\n  return !!icons[icon] ? (\r\n    props.color ? (\r\n      <div\r\n        style={{\r\n          mask: `url(${icons[icon]})`,\r\n          backgroundColor: props.color,\r\n        }}\r\n      />\r\n    ) : (\r\n      <img\r\n        onClick={props.onClick}\r\n        src={icons[icon]}\r\n        alt={props.icon + 'icon'}\r\n        style={props.style}\r\n        className={props.className}\r\n      />\r\n    )\r\n  ) : (\r\n    <span>No such icon</span>\r\n  )\r\n}\r\n","/* istanbul ignore file */\r\n\r\nimport * as _ from 'lodash'\r\nimport React, { ClassAttributes, DOMAttributes } from 'react'\r\nimport { Coach, User } from '../interfaces/baseIntefaces'\r\n\r\n//eslint-disable-next-line\r\nconst emailREGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\r\nexport const validateEmail = (email: string) => emailREGEX.test(String(email).toLowerCase())\r\nexport const validatePhoneNumber = (phoneNumber: string) =>\r\n  phoneNumber && isNumber(phoneNumber) && phoneNumber.length > 8\r\n\r\nexport const notEmptyArray = (arr: any[] | null | undefined) => Array.isArray(arr) && arr.length > 0\r\n\r\nexport const fixClass = (className: any) => (className ? ' ' + className : '')\r\n\r\nexport const noScroll = <style>{`html { overflow: hidden; }`}</style>\r\n\r\n// helper to count array of objects by object's specific property\r\nexport const countArrayByProp = (arr: any[], prop: string, val: any) =>\r\n  notEmptyArray(arr) ? arr.reduce((acc, cur) => (cur[prop] === val ? ++acc : acc), 0) : 0\r\n\r\n// helper to count array of objects by object's specific property\r\nexport const countArrayByPropLength = (arr: any[], prop: string, val: number) =>\r\n  notEmptyArray(arr) ? arr.reduce((acc, cur) => (cur[prop].length === val ? ++acc : acc), 0) : 0\r\n\r\n// helper to count array of objects by object's specific property\r\nexport const countArrayByExistProp = (arr: any[], prop: string) =>\r\n  notEmptyArray(arr) ? arr.reduce((acc, cur) => (!!cur[prop] ? ++acc : acc), 0) : 0\r\n\r\n// helper to turn object to url query string params. ex: {a: 1, b:2} to ?a=1&b=2\r\nexport const objectToUrlParams = (obj: any) => {\r\n  if (!obj) return ''\r\n  Object.keys(obj).forEach(key => {\r\n    if (obj[key] === null || obj[key] === undefined || obj[key] === '' || obj[key].length === 0) {\r\n      delete obj[key]\r\n    }\r\n  })\r\n  if (_.isEmpty(obj)) return ''\r\n  return (\r\n    '?' +\r\n    Object.keys(obj)\r\n      .map(key => key + '=' + obj[key])\r\n      .join('&')\r\n  )\r\n}\r\n\r\n// helper to capitalize string\r\nexport const capitalize = (str: string) =>\r\n  str\r\n    ? str\r\n        .split(' ')\r\n        .map(i => i.replace(/^\\w/, c => c.toUpperCase()))\r\n        .join(' ')\r\n    : ''\r\n\r\n// helper to check if MacOs is used by current user\r\nexport const isMac: boolean = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)\r\n\r\n// helper to use debounce from lodash\r\nexport const withDebounce = (func: any, delay: number) => _.debounce(func, delay)\r\n\r\n// helper to check if value is number\r\nexport const isNumber = (value: number | string) => Number.isInteger(Number(value))\r\n\r\n// helper to check if current device is mobile phone\r\nexport const is_mobile = window.innerWidth < 600\r\n\r\n// helper to get query params from url\r\nexport const useQuery = (location: Location) => new URLSearchParams(location.search)\r\n\r\n// recursive function to return as a string last property of the object\r\nexport const lastProperty = (obj: any): any => {\r\n  if (typeof obj !== 'object') {\r\n    return obj\r\n  }\r\n  for (const prop in obj) {\r\n    if (Array.isArray(obj[prop])) {\r\n      return `${prop}: ${obj[prop][0]}`\r\n    }\r\n    return lastProperty(obj[prop])\r\n  }\r\n}\r\n\r\nexport const hidePhoneNumber = (num: string) => {\r\n  if (!num) return ''\r\n  const area_code_and_country_code = num.substr(0, Math.min(4, num.length))\r\n  return area_code_and_country_code + ' XXX-XXXX'\r\n}\r\n\r\nexport const hideEmail = (email: string) =>\r\n  email\r\n    ? email\r\n        .split('@')[0]\r\n        .split('')\r\n        .map(() => 'x')\r\n        .join('') +\r\n      '@' +\r\n      email.split('@')[1]\r\n    : ''\r\n\r\nexport const copyToClipboard = (str: string) => {\r\n  const el = document.createElement('textarea')\r\n  el.value = str\r\n  document.body.appendChild(el)\r\n  el.select()\r\n  document.execCommand('copy')\r\n  document.body.removeChild(el)\r\n}\r\n\r\n// helper to get 1 lvl object difference\r\nexport const objDiff = (a: any, b: any) =>\r\n  _.reduce(a, (result, value, key: any) => (_.isEqual(value, b[key]) ? result : result.concat(key)), [])\r\n\r\nexport const embedCalculator = (\r\n  __percentage = 17,\r\n  __months = 7,\r\n  __max = 100,\r\n  __current_income = 95,\r\n  __future_income = 125,\r\n) =>\r\n  copyToClipboard(\r\n    `\r\n<script id=\"commit-muse-calc\">\r\n  const style = \"input[type=range]{width:100%;background-color:#fff;-webkit-appearance:none;border:0;margin:0}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:rgba(255,255,255,.6);border:1px solid #fff;width:100%;height:4px;cursor:pointer}input[type=range]::-webkit-slider-thumb{margin-top:-9px;width:20px;height:20px;background:#fff;border:0;border-radius:20px;cursor:pointer;-webkit-appearance:none}input[type=range]:focus::-webkit-slider-runnable-track{background:#fff}input[type=range]::-moz-range-track{background:rgba(255,255,255,.6);border:1px solid #fff;width:100%;height:4px;cursor:pointer}input[type=range]::-moz-range-thumb{width:20px;height:20px;background:#fff;border:0;border-radius:20px;cursor:pointer}input[type=range]::-ms-track{background:0 0;border-color:transparent;border-width:8px 0;color:transparent;width:100%;height:4px;cursor:pointer}input[type=range]::-ms-fill-lower{background:#fff;border:1px solid #fff}input[type=range]::-ms-fill-upper{background:rgba(255,255,255,.6);border:1px solid #fff}input[type=range]::-ms-thumb{width:20px;height:20px;background:#fff;border:0;border-radius:20px;cursor:pointer;margin-top:0}input[type=range]:focus::-ms-fill-lower{background:rgba(255,255,255,.6)}input[type=range]:focus::-ms-fill-upper{background:#fff}@supports (-ms-ime-align:auto){input[type=range]{margin:0}}#future_amount::-ms-thumb{background:#65d6ad!important}#future_amount::-moz-range-thumb{background:#65d6ad!important}#future_amount::-webkit-slider-thumb{background:#65d6ad!important}.ISACalculator-module{width:100%;max-width:512px;border-radius:10px;overflow:hidden;margin:0 auto}.ISACalculator-module header{background:#19216c;color:#fff;font-family:Heebo,sans-serif;font-style:normal;font-weight:500;font-size:16px;display:flex;justify-content:center;align-items:center;padding:12px 0}.ISACalculator-module header h2{font-weight:400}.ISACalculator-module .body .slider-wrapper{background:#4c63b6;padding:20px 16px}.ISACalculator-module .body .slider-wrapper .titles{display:grid;grid-template-columns:1fr 1fr}.ISACalculator-module .body .slider-wrapper .titles h2{font-family:Heebo-Bold,sans-serif;font-style:normal;font-weight:500;font-size:14px;text-transform:uppercase;color:#bed0f7}.ISACalculator-module .body .slider-wrapper .titles p{color:#fff;font-family:Heebo-Bold,sans-serif;font-style:normal;font-weight:500;font-size:16px}.ISACalculator-module .body .slider-wrapper .future-bill{display:flex;justify-content:space-between;margin-top:20px;padding-top:20px;border-top:1px solid #ffffff33}.ISACalculator-module .body .slider-wrapper .future-bill label{font-family:Heebo,sans-serif;font-style:normal;font-weight:500;font-size:14px;text-transform:uppercase;color:#bed0f7}.ISACalculator-module .body .slider-wrapper .future-bill p{color:#fff;font-family:Heebo-Bold,sans-serif;font-style:normal;font-weight:500;font-size:16px}.Slider-component{height:20px;display:flex;align-items:center;margin-top:20px}.empty-line{height:4px;width:100%;background:#ffffff4d;border-radius:3px;display:flex;justify-content:center}.line{width:100%}\"\r\n  const pe=document.getElementById(\"commit-muse-calc\").parentElement;let _percentage=${__percentage},_months=${__months},_max=${__max},_current_income=${__current_income},_future_income=${__future_income},bill=_percentage/100*_future_income*(_months/12);const set_bill=(e,n)=>(bill=_percentage/100*n*(_months/12),n>_max&&(bill=_max),bill>e&&(bill=0),document.getElementById(\"bill\").innerText=bill.toFixed(2).toString()),currentChange=e=>{const n=Number(e.target.value);_current_income=n,document.getElementById(\"current\").innerText=e.target.value,set_bill(n,_future_income)},futureChange=e=>{const n=Number(e.target.value);_future_income=n,document.getElementById(\"future\").innerText=e.target.value,set_bill(_current_income,n)},calc=\\`\\\\n<section class=\"ISACalculator-module\">\\\\n  <style>\\\\n  \\${style}\\\\n  </style>\\\\n  <header>\\\\n  <h2>ISA Calculator</h2>\\\\n</header>\\\\n<div class=\"body\">\\\\n  <div class=\"slider-wrapper\">\\\\n  <div class=\"titles\">\\\\n  <div>\\\\n  <h2>current income</h2>\\\\n<p><span id=\"current\">\\${_current_income}</span>K / YEAR</p>\\\\n  </div>\\\\n  <div>\\\\n  <h2>future income</h2>\\\\n<p><span id=\"future\">\\${_future_income}</span>K / YEAR</p>\\\\n  </div>\\\\n  </div>\\\\n\\\\n  <section class=\"Slider-component\">\\\\n  <div class=\"empty-line\">\\\\n  <input onchange=\"currentChange(event)\" class=\"line\" value=\"\\${_current_income}\" min=\"0\" max=\"200\" step=\"1\" id=\"current_amount\" type=\"range\" />\\\\n  <input onchange=\"futureChange(event)\" class=\"line\" value=\"\\${_future_income}\" min=\"0\" max=\"200\" step=\"1\" id=\"future_amount\" type=\"range\" />\\\\n  </div>\\\\n  </section>\\\\n\\\\n  <div class=\"future-bill\">\\\\n  <label>Future Bill</label>\\\\n<p>$<span id=\"bill\">\\${bill}</span>K / YEAR (\\${_percentage}%)</p>\\\\n  </div>\\\\n  </div>\\\\n  </div>\\\\n\\\\n  </section>\\\\n  \\`;pe.insertAdjacentHTML(\"beforeend\",calc);\r\n</script>\r\n`,\r\n  )\r\n\r\nexport const createEl = <P extends DOMAttributes<T>, T extends Element>(\r\n  el: string,\r\n  child: any,\r\n  props?: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement> | null,\r\n) => child && React.createElement(`${el}`, props, child)\r\n\r\nexport const makeName = (u: Coach | User) => (u ? u.first_name + ' ' + u.last_name : '')\r\n\r\n// helper to check if value is number\r\nexport const intOrFloat = (value: string) =>\r\n  /^(?=.)([+-]?([0-9]*)(\\.([0-9]+))?)$/.test(value) || value === '' || value[value.length - 1] === '.'\r\n\r\nexport const roundK = (val: number) => Math.round((val + Number.EPSILON) * 100) / 100\r\n","import ENVIRONMENT from './current_environment'\r\n\r\nexport type ENVs = 'staging' | 'production' | 'dev'\r\n\r\nconst ENV = {\r\n  dev: {\r\n    MAIN_API: 'http://localhost:5000/',\r\n    PLAID_PUBLIC_KEY: 'a004a070f0629da694fbae916414f3',\r\n    PLAID_ENV: 'sandbox',\r\n  },\r\n  staging: {\r\n    MAIN_API: 'https://staging.commitmuse.com/',\r\n    PLAID_PUBLIC_KEY: 'a004a070f0629da694fbae916414f3',\r\n    PLAID_ENV: 'sandbox',\r\n  },\r\n  production: {\r\n    MAIN_API: 'https://commitmuse.herokuapp.com/',\r\n    PLAID_PUBLIC_KEY: 'a004a070f0629da694fbae916414f3',\r\n    PLAID_ENV: 'development',\r\n  },\r\n}\r\n\r\nconst currentEnv = () => ENV[ENVIRONMENT]\r\n\r\nexport default currentEnv\r\n\r\n","const logsEnabled = true\r\n\r\nexport const log = (message?: any, ...optionalParams: any[]) => {\r\n  if (logsEnabled) {\r\n    console.log(message, ...optionalParams)\r\n  }\r\n}\r\n","import currentEnv from '../config/environment'\r\nimport { objectToUrlParams } from '../helpers/base'\r\nimport { log } from './logging.service'\r\n\r\nexport default class BaseService {\r\n  public MAIN_API = currentEnv().MAIN_API\r\n\r\n  private handleError = (res: { error: { any: string[] } | string }) => {\r\n    if (typeof res.error === 'string') return res\r\n    const values = Object.values(res.error)\r\n    const keys = Object.keys(res.error)\r\n    const err = {\r\n      error: keys\r\n        .map((key, i) => {\r\n          const message = Array.isArray(values[i]) ? values[i].join(', ') : Object.values(values[i]).join(', ')\r\n          return key + ': ' + message\r\n        })\r\n        .join('\\n'),\r\n    }\r\n    log('Error in handleError method in BaseService', err)\r\n    return err\r\n  }\r\n\r\n  // check if type of response is JSON\r\n  private handleResponseType = async (res: Response) => {\r\n    const contentType = res.headers.get('content-type')\r\n    if (contentType && contentType.indexOf('application/json') !== -1) {\r\n      return await res.json()\r\n    } else {\r\n      log('Received type is not JSON but *: ', await res.text())\r\n      return null\r\n    }\r\n  }\r\n\r\n  // define request headers\r\n  private headers = () => {\r\n    return {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Headers': '*',\r\n    }\r\n  }\r\n\r\n  getJSON = async (url: string, params?: object) => {\r\n    const res = await fetch(this.MAIN_API + url + `${objectToUrlParams(params)}`, {\r\n      method: 'GET',\r\n      headers: this.headers(),\r\n      credentials: 'include',\r\n    })\r\n    const response = await this.handleResponseType(res)\r\n    if (response && response.error) {\r\n      return this.handleError(response)\r\n    }\r\n    return response\r\n  }\r\n\r\n  postJSON = async (url: string, data: any, saveCookie?: boolean) => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: 'POST',\r\n        headers: this.headers(),\r\n        body: JSON.stringify(data),\r\n        credentials: 'include',\r\n      })\r\n\r\n      if (saveCookie) {\r\n        log(res)\r\n      }\r\n\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error) {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing postJSON in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n\r\n  patchJSON = async (url: string, data: any) => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: 'PATCH',\r\n        headers: this.headers(),\r\n        body: JSON.stringify(data),\r\n        credentials: 'include',\r\n      })\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error && typeof response.error === 'object') {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing patchJSON in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n\r\n  deleteJSON = async (url: string, data: any) => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: 'DELETE',\r\n        headers: this.headers(),\r\n        body: JSON.stringify(data),\r\n        credentials: 'include',\r\n      })\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error && typeof response.error === 'object') {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing patchJSON in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n\r\n  postFormData = async (url: string, data: FormData, method?: 'post' | 'patch') => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: method || 'post',\r\n        credentials: 'include',\r\n        body: data,\r\n      })\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error) {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing postFormData in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n}\r\n","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class IsaService {\r\n  public async getIsas() {\r\n    return await baseService.getJSON('isas')\r\n  }\r\n\r\n  public async create(isa: any) {\r\n    return await baseService.postJSON('isas', isa)\r\n  }\r\n\r\n  public async getIsaById(isa_id: number) {\r\n    return await baseService.getJSON(`isas/${isa_id}`)\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { fixClass } from '../../../helpers/base'\r\n\r\nexport type MessageType = {\r\n  type: 'alert' | 'info'\r\n  text: string\r\n}\r\n\r\ninterface MessageProps {\r\n  message: MessageType | string\r\n  background?: string\r\n  static?: boolean\r\n  onClick?: () => void\r\n}\r\n\r\nconst Message = (props: MessageProps) => {\r\n  if (!props.message) return null\r\n  return typeof props.message === 'string' ? (\r\n    <div\r\n      className={`Message-component alert${fixClass(props.static && 'static')}`}\r\n      style={props.background ? { background: props.background } : {}}\r\n    >\r\n      {props.message}\r\n    </div>\r\n  ) : (\r\n    <div className={`Message-component info${fixClass(props.static && 'static')}`}>\r\n      <h2>Info</h2>\r\n      <p>{props.message.text}</p>\r\n      {props.onClick && (\r\n        <div>\r\n          <button onClick={props.onClick}>OK</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { createEl } from '../../../../helpers/base'\r\nimport Message, { MessageType } from '../../../components/Message'\r\n\r\ninterface PageContentProps {\r\n  children: React.ReactChild | React.ReactChild[]\r\n  title?: string | React.ReactElement\r\n  error?: MessageType | string\r\n}\r\n\r\nexport default function PageContent(props: PageContentProps) {\r\n  return (\r\n    <section className=\"PageContent-module\">\r\n      <section className=\"content\">\r\n        {createEl('h1', props.title, { className: 'page-title' })}\r\n        {props.children}\r\n      </section>\r\n      <Message message={props.error || ''} />\r\n    </section>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\n\r\nconst status_colors: any = {\r\n  created: {\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  active: {\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  paying: {\r\n    bg: '#FFF3C4',\r\n    text: '#CB6E17',\r\n  },\r\n  completed: {\r\n    bg: '#BAE3FF',\r\n    text: '#0967D2',\r\n  },\r\n}\r\n\r\ntype IsaStatusProps = {\r\n  status: any\r\n  name: string\r\n  onClick(): void\r\n}\r\n\r\nexport default function IsaStatus(props: IsaStatusProps) {\r\n  return (\r\n    <div className=\"IsaStatus-module\" onClick={props.onClick}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        {props.status === 'paying' && (\r\n          <p\r\n            style={{\r\n              color: status_colors[props.status].text,\r\n            }}\r\n            className={props.status}\r\n          >\r\n            PAYING - 5K of 20K\r\n          </p>\r\n        )}\r\n        {props.status === 'completed' && (\r\n          <p\r\n            style={{\r\n              color: status_colors[props.status].text,\r\n            }}\r\n            className={props.status}\r\n          >\r\n            COMPLETED - 20K\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        // className={props.status + fixClass(props.status !== 'active' && 'round')}\r\n        className={props.status}\r\n        style={{\r\n          color: status_colors[props.status] ? status_colors[props.status].text : status_colors.status_colors.text,\r\n          background: status_colors[props.status] ? status_colors[props.status].bg : status_colors.status_colors.text,\r\n          borderColor: status_colors[props.status]\r\n            ? status_colors[props.status].text\r\n            : status_colors.status_colors.text,\r\n        }}\r\n      >\r\n        {/*{props.status === 'paying' && (*/}\r\n        {/*  <CircularProgressbar*/}\r\n        {/*    lineColor={status_colors[props.status].text}*/}\r\n        {/*    textColor={status_colors[props.status].text}*/}\r\n        {/*    value={25}*/}\r\n        {/*    text={`${25}%`}*/}\r\n        {/*  />*/}\r\n        {/*)}*/}\r\n        {/*{props.status === 'completed' && (*/}\r\n        {/*  <CircularProgressbar*/}\r\n        {/*    lineColor={status_colors[props.status].text}*/}\r\n        {/*    textColor={status_colors[props.status].text}*/}\r\n        {/*    value={100}*/}\r\n        {/*    text={`${100}%`}*/}\r\n        {/*  />*/}\r\n        {/*)}*/}\r\n        {props.status}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { useState } from 'react'\r\nimport { notEmptyArray, fixClass } from '../../../helpers/base'\r\nimport Icon, { SystemIcons } from '../Icon'\r\n\r\ninterface SelectProps {\r\n  value: string\r\n  options: string[] | null | undefined\r\n  onChange(option: string): void\r\n  placeholder: string\r\n  label?: string\r\n  error?: string\r\n  disabled?: boolean\r\n  icon?: SystemIcons\r\n}\r\n\r\nexport default function Select(props: SelectProps) {\r\n  const [showOptions, setShowOptions] = useState(false)\r\n  const isError = props.error && props.error.length > 0\r\n  return (\r\n    <div className={`Select-component${fixClass(isError && 'has-error')}${fixClass(props.disabled && 'disabled')}`}>\r\n      {props.label && <label>{props.label}</label>}\r\n      <div\r\n        onClick={() => !props.disabled && setShowOptions(!showOptions)}\r\n        className={`placeholder ${!!props.value ? 'value' : ''}`}\r\n      >\r\n        {props.icon && <Icon className=\"selected-icon\" icon={props.icon} />}\r\n\r\n        <div className=\"select-container\">\r\n          <div className={`ripple${fixClass(!!props.value && 'focused')}`}>{props.placeholder}</div>\r\n          {props.value || props.placeholder}\r\n        </div>\r\n        <Icon style={{ marginLeft: 8 }} className=\"caret_down\" icon=\"select_down\" />\r\n        {showOptions && notEmptyArray(props.options) && (\r\n          <div className=\"options\">\r\n            {props.options!.map((option, index) => (\r\n              <div\r\n                className={`option${fixClass(option === props.value && 'selected')}`}\r\n                key={index}\r\n                onClick={() => {\r\n                  setShowOptions(false)\r\n                  props.onChange(option)\r\n                }}\r\n              >\r\n                {option}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showOptions && <div onClick={() => setShowOptions(!showOptions)} className=\"overlay\" />}\r\n      {isError && <p className=\"error\">{props.error}</p>}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Icon from './Icon'\r\n\r\ninterface LoaderProps {}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  img {\r\n    width: 40px;\r\n    position: relative;\r\n    top: -77px;\r\n  }\r\n  svg {\r\n    -webkit-transform-origin: 50% 65%;\r\n    transform-origin: 50% 65%;\r\n  }\r\n\r\n  svg polygon {\r\n    stroke-dasharray: 17;\r\n    -webkit-animation: dash 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\r\n    animation: dash 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\r\n  }\r\n\r\n  @-webkit-keyframes dash {\r\n    to {\r\n      stroke-dashoffset: 136;\r\n    }\r\n  }\r\n\r\n  @keyframes dash {\r\n    to {\r\n      stroke-dashoffset: 136;\r\n    }\r\n  }\r\n  @-webkit-keyframes rotate {\r\n    100% {\r\n      -webkit-transform: rotate(360deg);\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @keyframes rotate {\r\n    100% {\r\n      -webkit-transform: rotate(360deg);\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`\r\n\r\nexport default function Loader(props: LoaderProps) {\r\n  return (\r\n    <Wrapper>\r\n      <svg id=\"triangle\" width=\"150px\" height=\"150px\" viewBox=\"-3 -4 39 39\">\r\n        <polygon fill=\"#FFFFFF\" stroke=\"#954bde\" strokeWidth=\"1\" points=\"16,0 32,32 0,32\" />\r\n      </svg>\r\n      <Icon icon=\"logo\" />\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport Icon from '../../../../components/Icon'\r\nimport { notEmptyArray } from '../../../../../helpers/base'\r\nimport IsaService from '../../../../../services/isa.service'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport { Link } from 'react-router-dom'\r\nimport IsaStatus from '../../../../modules/company/MyIsa/IsaStatus'\r\nimport Select from '../../../../components/Select/Select'\r\nimport Message from '../../../../components/Message'\r\nimport Loader from '../../../../components/Loader'\r\n\r\nconst isaService = new IsaService()\r\n\r\ninterface MyIsa extends ScreenProps {}\r\n\r\nexport default function MyIsa(props: MyIsa) {\r\n  const [filter, set_filter] = useState('')\r\n  const [isas, set_isas] = useState<any[]>([])\r\n  const [request_error, set_request_error] = useState('')\r\n  const [loading, set_loading] = useState(true)\r\n\r\n  const getIsas = async () => {\r\n    set_loading(true)\r\n\r\n    try {\r\n      const res = await isaService.getIsas()\r\n\r\n      if (res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n      set_loading(false)\r\n      set_isas(res)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    getIsas()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"MyIsa-page\">\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <PageContent>\r\n          <header className=\"page-header\">\r\n            <h1 className=\"page-title\">My ISA’s</h1>\r\n            {notEmptyArray(isas) && (\r\n              <Select\r\n                value={filter}\r\n                options={['View all', 'active', 'paying', 'completed']}\r\n                onChange={e => set_filter(e)}\r\n                placeholder={'View all'}\r\n              />\r\n            )}\r\n          </header>\r\n          {notEmptyArray(isas) ? (\r\n            <section className=\"my_isa\">\r\n              {isas\r\n                .filter((i: any) => i.status.includes(filter === 'View all' ? '' : filter))\r\n                .map((isa: any, index: number) => (\r\n                  <IsaStatus\r\n                    onClick={() => props.history.push('/isa/' + isa.id)}\r\n                    key={index}\r\n                    name={isa.student.first_name + ' ' + isa.student.last_name}\r\n                    status={isa.status}\r\n                  />\r\n                ))}\r\n              <Link to=\"isa/create\" className=\"new_isa\">\r\n                <Icon icon=\"new_isa_plus\" />\r\n                NEW ISA\r\n              </Link>\r\n            </section>\r\n          ) : (\r\n            <section className=\"empty-isa\">\r\n              <div className=\"icon\">\r\n                <Icon icon=\"empty_isa\" />\r\n              </div>\r\n              <h2>You have no ISA offers.</h2>\r\n              <div className=\"text_with_icon\">\r\n                <p>Start by creating a new one.</p>\r\n                <Icon icon=\"arrow_to_button\" />\r\n              </div>\r\n              <Link to=\"isa/create\" className=\"new_isa\">\r\n                <Icon icon=\"new_isa_plus\" />\r\n                NEW ISA\r\n              </Link>\r\n            </section>\r\n          )}\r\n        </PageContent>\r\n      )}\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../Icon'\r\n\r\ninterface TooltipBadgeProps {\r\n  tooltip: string\r\n  label: string\r\n}\r\n\r\nexport default function TooltipBadge(props: TooltipBadgeProps) {\r\n  const [show, set_show] = useState(false)\r\n  const icon = show ? `/web/assets/icons/question-circle-active.svg` : `/web/assets/icons/question-circle.svg`\r\n  return (\r\n    <div className=\"TooltipBadge-component\">\r\n      <label onClick={() => set_show(!show)}>{props.label}</label>\r\n      <div onClick={() => set_show(!show)} className=\"question_circle\">\r\n        <img alt=\"circle\" src={icon} />\r\n        {show && (\r\n          <div className=\"tooltip\">\r\n            {props.tooltip} <Icon icon=\"tooltip_arrow\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { isNumber } from '../../../../helpers/base'\r\nimport TooltipBadge from '../../../components/TooltipBadge'\r\n\r\ninterface BoardingFieldProps {\r\n  label: string\r\n  value: number\r\n  onChange(e: number): void\r\n  suffix: string\r\n  tooltip: string\r\n}\r\n\r\nexport default function BoardingField(props: BoardingFieldProps) {\r\n  return (\r\n    <div className=\"BoardingField-module\">\r\n      <TooltipBadge label={props.label} tooltip={props.tooltip} />\r\n      <div className=\"input\">\r\n        <input\r\n          type=\"text\"\r\n          value={props.value}\r\n          onChange={e => isNumber(e.target.value) && props.onChange(Number(e.target.value))}\r\n        />\r\n        <span>{props.suffix}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const USER_TYPES = ['company', 'coach', 'client']\r\n\r\nexport const COLORS = {\r\n  body_darker: '#5E6672',\r\n  title: '#354151',\r\n  border: '#E1E8EE',\r\n  body_light: '#8795A9',\r\n  main: {\r\n    primary: '#253784',\r\n    secondary: '#3C3D4D',\r\n    light: '#F2F5F9',\r\n    white: '#FFFFFF',\r\n  },\r\n}\r\n\r\nexport const SYSTEM_COLORS = {\r\n  MainPrimary: '#253784',\r\n  MainSecondary: '#3c3d4d',\r\n  MainSuccess: '#21b881',\r\n  MainError: '#dc3545',\r\n  MainWarning: '#F0B429',\r\n  MainInfo: '#17a2b8',\r\n  MainLight: '#f2f5f9',\r\n  MainWhite: '#ffffff',\r\n  BodyLight: '#8795a9',\r\n  BodyDarker: '#5e6672',\r\n  Title: '#354151',\r\n  Border: '#e1e8ee',\r\n  BorderDark: '#c6ccd1',\r\n  Background: '#f2f3f4',\r\n  ActivePrimary: '#4152ab',\r\n  ActiveSecondary: '#282833',\r\n  ActiveSuccess: '#18aa75',\r\n  ActiveError: '#bd2130',\r\n  ActiveWarning: '#d39e00',\r\n  ActiveInfo: '#117a8b',\r\n  ActiveLight: '#e4e7eb',\r\n  ActiveBorder: '#c8ced4',\r\n  HoverPrimary: '#4558b8',\r\n  HoverSecondary: '#323340',\r\n  HoverError: '#c82333',\r\n  HoverSuccess: '#218838',\r\n  HoverInfo: '#138496',\r\n  HoverWarning: '#e0a800',\r\n  HoverLight: '#ebeef2',\r\n  HoverBorder: '#d4dbe0',\r\n  HoverWhite: '#f9f9f9',\r\n}\r\n\r\nexport const _SYSTEM_COLORS = {\r\n  White: '#FFFFFF',\r\n  Gray1: '#F5F5F5',\r\n  Gray2: '#E0E0E0',\r\n  Gray3: '#BDBDBD',\r\n  Gray4: '#9E9E9E',\r\n  Black1: '#757575',\r\n  Black2: '#424242',\r\n  Black3: '#212121',\r\n\r\n  GrayIndigo: '#888499',\r\n  Indigo1: '#E0E8F9',\r\n  Indigo2: '#BED0F7',\r\n  Indigo4: '#647ACB',\r\n  Indigo5: '#4C63B6',\r\n  Indigo6: '#35469C',\r\n  Indigo7: '#19216C',\r\n\r\n  Yellow1: '#FFFBEA',\r\n  Yellow2: '#FFF3C4',\r\n  Yellow3: '#F7C948',\r\n  Yellow4: '#F0B429',\r\n  Yellow5: '#CB6E17',\r\n  Yellow6: '#8D2B0B',\r\n\r\n  Green1: '#EFFCF6',\r\n  Green2: '#C6F7E2',\r\n  Green3: '#3EBD93',\r\n  Green4: '#199473',\r\n  Green5: '#147D64',\r\n  Green6: '#014D40',\r\n\r\n  Red1: '#FFE3E3',\r\n  Red2: '#FFBDBD',\r\n  Red3: '#EF4E4E',\r\n  Red4: '#CF1124',\r\n  Red5: '#8A041A',\r\n  Red6: '#610316',\r\n\r\n  Blue1: '#E6F6FF',\r\n  Blue2: '#BAE3FF',\r\n  Blue3: '#2186EB',\r\n  Blue4: '#0967D2',\r\n  Blue5: '#03449E',\r\n  Blue6: '#002159',\r\n}\r\n\r\nexport const status_colors = [\r\n  {\r\n    label: 'created',\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  {\r\n    label: 'active',\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  {\r\n    label: 'paying',\r\n    bg: '#FFF3C4',\r\n    text: '#CB6E17',\r\n    active: true,\r\n  },\r\n  {\r\n    label: 'completed',\r\n    bg: '#BAE3FF',\r\n    text: '#0967D2',\r\n  },\r\n]\r\n","import React, { useEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../../../components/Icon'\r\nimport { embedCalculator, roundK } from '../../../../helpers/base'\r\nimport Message from '../../../components/Message'\r\nimport { SYSTEM_COLORS } from '../../../../constants/system'\r\n\r\ninterface ISACalculatorProps {\r\n  current_income: number\r\n  percentage: number\r\n  months: number\r\n  max: number\r\n}\r\n\r\nexport default function ISACalculator(props: ISACalculatorProps) {\r\n  const [copied_to_clipboard, set_copied_to_clipboard] = useState(false)\r\n  const [current_income, set_current_income] = useState(props.current_income)\r\n  const [future_income, set_future_income] = useState(125)\r\n\r\n  useEffect(() => {\r\n    set_current_income(props.current_income / 1000)\r\n  }, [props.current_income])\r\n\r\n  const future_bill = () => {\r\n    let bill = (props.percentage / 100) * future_income * (props.months / 12)\r\n\r\n    if (future_income > props.max) {\r\n      bill = props.max\r\n    }\r\n\r\n    if (bill > current_income) {\r\n      bill = 0\r\n    }\r\n\r\n    if (future_income < current_income) {\r\n      bill = 0\r\n    }\r\n\r\n    return bill\r\n  }\r\n\r\n  const handleCopy = () => {\r\n    embedCalculator(props.percentage, props.months, props.max, current_income, future_income)\r\n    set_copied_to_clipboard(true)\r\n    return setTimeout(() => set_copied_to_clipboard(false), 2000)\r\n  }\r\n\r\n  return (\r\n    <section className=\"ISACalculator-module\">\r\n      <header>\r\n        <h2>ISA Calculator</h2>\r\n      </header>\r\n\r\n      <div className=\"body\">\r\n        <div className=\"slider-wrapper\">\r\n          <div className=\"titles\">\r\n            <div>\r\n              <h2>current income</h2>\r\n              <p>${roundK(current_income)}K / YEAR</p>\r\n            </div>\r\n            <div style={{ textAlign: 'right' }}>\r\n              <h2>future income</h2>\r\n              <p>${roundK(future_income)}K / YEAR</p>\r\n            </div>\r\n          </div>\r\n\r\n          <section className=\"slider\">\r\n            <input\r\n              onChange={e => set_current_income(Number(e.target.value))}\r\n              className=\"line\"\r\n              value={current_income}\r\n              min={0}\r\n              max={200}\r\n              step={1}\r\n              type=\"range\"\r\n            />\r\n            <input\r\n              onChange={e => set_future_income(Number(e.target.value))}\r\n              className=\"line\"\r\n              id=\"future_amount\"\r\n              value={future_income}\r\n              min={0}\r\n              max={200}\r\n              step={1}\r\n              type=\"range\"\r\n            />\r\n          </section>\r\n\r\n          <div className=\"future-bill\">\r\n            <label>Future Bill</label>\r\n            <p>\r\n              ${roundK(future_bill())}K <span>/ YEAR</span> ({props.percentage}%)\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <footer>\r\n        <p>Embed this calculator in your website:</p>\r\n        <button onClick={handleCopy}>\r\n          <Icon icon=\"code\" />\r\n          copy code\r\n        </button>\r\n      </footer>\r\n      {copied_to_clipboard && <Message message=\"Copied to clipboard!\" background={SYSTEM_COLORS.MainSuccess} />}\r\n    </section>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../../../../components/Icon'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport BoardingField from '../../../../modules/on-boarding/BoardingField'\r\nimport TooltipBadge from '../../../../components/TooltipBadge'\r\nimport ISACalculator from '../../../../modules/on-boarding/ISACalculator'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\n\r\ninterface OnBoardingProps extends ScreenProps {}\r\n\r\nconst tooltip = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.'\r\n\r\nexport default function OnBoarding(props: OnBoardingProps) {\r\n  const [pricing, set_pricing] = useState<'total' | 'raise'>('total')\r\n  const [percentage, set_percentage] = useState(17)\r\n  const [risk_assessment, set_risk_assessment] = useState(20)\r\n  const [pay_time, set_pay_time] = useState(7)\r\n  const [pay_maximum, set_pay_maximum] = useState(10000)\r\n\r\n  return (\r\n    <article className=\"OnBoarding-page\">\r\n      <PageContent>\r\n        <section className=\"form_wrapper\">\r\n          <header>\r\n            <h1>\r\n              {props.currentUser.first_name} {props.currentUser.last_name}\r\n            </h1>\r\n            <h2>Hourly Rate {props.currentUser.hourly_rate} USD</h2>\r\n            <Icon icon=\"pencil\" />\r\n          </header>\r\n          <footer>\r\n            <div className=\"pricing\">\r\n              <TooltipBadge label=\"Pricing\" tooltip={tooltip} />\r\n              <div className=\"selects\">\r\n                <button onClick={() => set_pricing('total')} className={pricing === 'total' ? 'active' : ''}>\r\n                  From total income\r\n                </button>\r\n                <button onClick={() => set_pricing('raise')} className={pricing !== 'total' ? 'active' : ''}>\r\n                  From new raise\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"fields percents\">\r\n              <BoardingField\r\n                label=\"Percentage to be Paid\"\r\n                value={percentage}\r\n                onChange={e => set_percentage(e)}\r\n                tooltip={tooltip}\r\n                suffix=\"%\"\r\n              />\r\n              <BoardingField\r\n                label=\"Risk assessment\"\r\n                value={risk_assessment}\r\n                onChange={e => set_risk_assessment(e)}\r\n                tooltip={tooltip}\r\n                suffix=\"%\"\r\n              />\r\n            </div>\r\n            <div className=\"fields amount\">\r\n              <BoardingField\r\n                tooltip={tooltip}\r\n                label=\"Time to be paid\"\r\n                value={pay_time}\r\n                onChange={e => set_pay_time(e)}\r\n                suffix=\"Months\"\r\n              />\r\n              <BoardingField\r\n                tooltip={tooltip}\r\n                label=\"MAXIMUM TO BE PAID\"\r\n                value={pay_maximum}\r\n                onChange={e => set_pay_maximum(e)}\r\n                suffix=\"USD\"\r\n              />\r\n            </div>\r\n\r\n            <section className=\"message\">\r\n              <TooltipBadge label=\"Isa assessment\" tooltip={tooltip} />\r\n              <h2>This ISA looks good!</h2>\r\n            </section>\r\n          </footer>\r\n        </section>\r\n        <ISACalculator percentage={percentage} months={pay_time} max={pay_maximum} current_income={10000} />\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../Icon'\r\nimport { fixClass } from '../../../helpers/base'\r\n\r\ninterface ExpansionPanelProps {\r\n  title: string\r\n  content: any\r\n  isOpen?: boolean\r\n}\r\n\r\nexport default function ExpansionPanel(props: ExpansionPanelProps) {\r\n  const [isOpen, set_isOpen] = useState(props.isOpen || false)\r\n  return (\r\n    <section className=\"ExpansionPanel-component\">\r\n      <div className={`question${fixClass(isOpen && 'is-open')}`} onClick={() => set_isOpen(!isOpen)}>\r\n        <Icon icon=\"chevron-right\" />\r\n        <h2>{props.title}</h2>\r\n      </div>\r\n      <div className={`answer${fixClass(isOpen && 'is-open')}`}>{props.content}</div>\r\n    </section>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport ExpansionPanel from '../../../../components/ExpansionPanel'\r\nimport ISACalculator from '../../../on-boarding/ISACalculator'\r\n\r\ninterface FAQProps {}\r\n\r\nexport default function FAQ(props: FAQProps) {\r\n  const FAQs = [\r\n    {\r\n      title: 'How does it work?',\r\n      isOpen: true,\r\n      content: (\r\n        <p>\r\n          Income Share Agreements (ISAs) relieve the upfront financial burden of a student. The educator agrees to a\r\n          contract where the student does not pay tuition until they secure a salary. Then, a fixed percentage of\r\n          their income is paid to the educator via the app for a fixed duration. It is not a traditional loan or\r\n          grant, and there is no principal balance or interest rate.\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Am I allowed to cancel the ISA?',\r\n      content: (\r\n        <p>\r\n          There is an allotted cancellation period that the student is allowed to utilize in the case that they choose\r\n          to cancel the contract. After that allotment, the contract can only be cancelled if the educator agrees to it.\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: 'May I repay my ISA early?',\r\n      content: <p>The ISA may be prepaid by paying the total payment cap that is stated in your disclosure.</p>,\r\n    },\r\n    {\r\n      title: 'Can someone hide their payments from me and pay less or not pay at all?',\r\n      content: (\r\n        <p>\r\n          Commit Muse will validate the student’s bank account as well as verify their income and taxes before the ISA\r\n          is complete. Therefore, they will not be able to hide or skip payments.\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: \"What happens when someone doesn't pay the ISA?\",\r\n      content: (\r\n        <p>\r\n          There is always a possibility of bad actors even if we take every precaution against them. In this case, we\r\n          have collection agencies who will ensure the money reaches the educator. For any further concerns, we would be\r\n          happy to talk!\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Is it legal?',\r\n      content: (\r\n        <p>\r\n          ISAs are 100% legal. According to CareerKarma, more than $500 million in ISAs will be generated in 2020 alone.\r\n        </p>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <section className=\"FAQ-module\">\r\n      <h2 className=\"faq-title\">Frequently Asked Questions</h2>\r\n      {FAQs.map((faq, i) => (\r\n        <ExpansionPanel key={i} title={faq.title} content={faq.content} isOpen={faq.isOpen} />\r\n      ))}\r\n    </section>\r\n  )\r\n}\r\n","import './style.scss'\r\nimport React, { CSSProperties, useState } from 'react'\r\nimport { fixClass } from '../../../helpers/base'\r\nimport Icon, { SystemIcons } from '../Icon'\r\n\r\ninterface InputProps {\r\n  onChange(e: string): void\r\n  value: string | number\r\n  placeholder?: string\r\n  error?: string\r\n  className?: string\r\n  postFix?: string\r\n  icon?: SystemIcons\r\n  style?: CSSProperties\r\n  type?: string\r\n  disabled?: boolean\r\n}\r\n\r\nexport default function Input(props: InputProps) {\r\n  const [visible, set_visible] = useState(props.type !== 'password')\r\n  const [rippled, set_rippled] = useState(false)\r\n  return (\r\n    <div\r\n      className={`Input-component${fixClass(props.error && 'has-error')}${fixClass(props.className)}${fixClass(\r\n        props.icon && 'with-icon',\r\n      )}${fixClass(rippled && 'rippled')}`}\r\n    >\r\n      {props.icon && <Icon icon={props.icon} />}\r\n      <div className=\"input-container\">\r\n        <div className={`ripple${fixClass((rippled || !!props.value) && 'focused')}`}>{props.placeholder}</div>\r\n        <input\r\n          onFocus={() => set_rippled(true)}\r\n          onBlur={() => {\r\n            !props.value && set_rippled(false)\r\n          }}\r\n          disabled={props.disabled}\r\n          type={visible ? 'text' : props.type || 'text'}\r\n          onChange={e => props.onChange(e.target.value)}\r\n          style={props.style}\r\n          placeholder={rippled ? '' : props.placeholder}\r\n          value={props.value}\r\n        />\r\n      </div>\r\n      {props.postFix && <div className=\"post-fix\">{props.postFix}</div>}\r\n      {props.type === 'password' && <Icon className=\"eye-icon\" onClick={() => set_visible(!visible)} icon=\"eye\" />}\r\n      {props.error && props.error.length > 0 && <p className=\"error\">{props.error}</p>}\r\n    </div>\r\n  )\r\n}\r\n","export const requiredFieldError = 'Field is required'\r\nexport const phoneNumberMustBeValid = 'Please enter a valid phone number'\r\nexport const emailErrorMessage = 'Please enter a valid email'\r\nexport const passwordLength = 'Must be at least 6 characters'\r\nexport const passwordMustMatch = 'Password must match'\r\n","import * as React from 'react'\r\nimport { CSSProperties } from 'react'\r\nimport styled from 'styled-components'\r\nimport { SYSTEM_COLORS } from '../../../constants/system'\r\nimport { fixClass } from '../../../helpers/base'\r\nimport './style.scss'\r\nimport Icon, { SystemIcons } from '../Icon'\r\n\r\nconst Btn = styled.button<any>`\r\n  // @ts-ignore\r\n  background: ${props => SYSTEM_COLORS[props.background]};\r\n  color: ${props => props.color || 'white'};\r\n  :hover {\r\n    // @ts-ignore\r\n    background: ${props => SYSTEM_COLORS[props.background.replace('Main', 'Hover')]};\r\n  }\r\n`\r\n\r\ntype ButtonBackground =\r\n  | 'MainPrimary'\r\n  | 'MainSecondary'\r\n  | 'MainSuccess'\r\n  | 'MainError'\r\n  | 'MainWarning'\r\n  | 'MainInfo'\r\n  | 'MainLight'\r\n  | 'MainWhite'\r\n\r\ninterface ButtonProps {\r\n  children: any\r\n  onClick?: any\r\n  className?: string\r\n  background?: ButtonBackground\r\n  color?: string\r\n  style?: CSSProperties\r\n  disabled?: boolean\r\n  loading?: boolean\r\n  icon?: SystemIcons\r\n}\r\n\r\nexport default function Button(props: ButtonProps) {\r\n  return (\r\n    <Btn\r\n      className={`Button-component${fixClass(props.className)}`}\r\n      style={props.style}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled || props.loading}\r\n      background={props.background || 'MainPrimary'}\r\n      color={['MainLight', 'MainWhite'].includes(props.background || '') ? SYSTEM_COLORS.Title : props.color}\r\n    >\r\n      {props.loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          {props.children} {props.icon && <Icon icon={props.icon} style={{ marginLeft: 6 }} />}\r\n        </>\r\n      )}\r\n    </Btn>\r\n  )\r\n}\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"lds-ring\">\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport TooltipBadge from '../../../components/TooltipBadge'\r\nimport { fixClass } from '../../../../helpers/base'\r\n\r\ninterface IsaAssessmentProps {\r\n  className?: string\r\n}\r\n\r\nexport default function IsaAssessment(props: IsaAssessmentProps) {\r\n  return (\r\n    <div className={`IsaAssessment-module${fixClass(props.className)}`}>\r\n      <TooltipBadge label=\"Isa assessment\" tooltip=\"good\" />\r\n      <p>This ISA looks good!</p>\r\n    </div>\r\n  )\r\n}\r\n","import './style.scss'\r\nimport { ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport FAQ from '../../../../../modules/company/CreateIsa/FAQ'\r\nimport React, { useState } from 'react'\r\nimport { fixClass, isNumber, validateEmail } from '../../../../../../helpers/base'\r\nimport Input from '../../../../../components/Input'\r\nimport TooltipBadge from '../../../../../components/TooltipBadge'\r\nimport { emailErrorMessage } from '../../../../../../constants/auth'\r\nimport Button from '../../../../../components/Button'\r\nimport IsaService from '../../../../../../services/isa.service'\r\nimport Message from '../../../../../components/Message'\r\nimport IsaAssessment from '../../../../../modules/common/IsaAssessment'\r\nimport ISACalculator from '../../../../../modules/on-boarding/ISACalculator'\r\nimport Stepper from '../../../../../modules/common/Stepper'\r\n\r\nconst isaService = new IsaService()\r\n\r\nconst pricing = ['From total income', 'From new raise', 'Placement']\r\nconst OFFER_STEPS = ['client', 'program', 'isa offer', 'review', 'contract']\r\n\r\ntype IncomeKeys =\r\n  | 'description'\r\n  | 'percentage'\r\n  | 'time_to_be_paid'\r\n  | 'cap'\r\n  | 'cancellation_period'\r\n  | 'risk'\r\n  | 'current_income'\r\n\r\ninterface CreateIsaProps extends ScreenProps {}\r\n\r\nexport default function CreateIsa(props: CreateIsaProps) {\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n  const [selected_pricing, set_selected_pricing] = useState(pricing[0])\r\n  const [active_step, set_active_step] = useState(0)\r\n\r\n  const [client, set_client] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  })\r\n\r\n  const [error, set_error] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  })\r\n\r\n  const [total_income, set_total_income] = useState({\r\n    description: '',\r\n    percentage: '17',\r\n    time_to_be_paid: '2',\r\n    cap: '10000',\r\n    cancellation_period: '2',\r\n    risk: '20',\r\n    current_income: '80000',\r\n  })\r\n\r\n  const setIncome = (e: string, key: IncomeKeys) => set_total_income({ ...total_income, [key]: e })\r\n\r\n  const notValid = () =>\r\n    Object.values(client).some(i => i === '') ||\r\n    Object.values(total_income).some(i => i === '') ||\r\n    !validateEmail(client.email)\r\n\r\n  const sendOffer = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await isaService.create({\r\n        current_income: removeComma(total_income.current_income),\r\n        percentage: Number(total_income.percentage),\r\n        cap: removeComma(total_income.cap),\r\n        cancellation_period_weeks: Number(total_income.cancellation_period),\r\n        time_to_be_paid: Number(total_income.time_to_be_paid),\r\n        status: 'created',\r\n        description: total_income.description,\r\n        client,\r\n        coach_id: props.currentUser.id,\r\n      })\r\n\r\n      if (res && res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n      set_loading(false)\r\n\r\n      return props.history.push(`/isa/${res.id}`)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const addComma = (str: string) => {\r\n    return Number(str.replace(/,/g, '')).toLocaleString()\r\n  }\r\n\r\n  const removeComma = (str: string) => {\r\n    return Number(str.replace(/,/g, ''))\r\n  }\r\n\r\n  const offer_step_strategy: any = {\r\n    client: '',\r\n    program: '',\r\n    'isa offer': '',\r\n    review: '',\r\n    contract: '',\r\n  }\r\n\r\n  return (\r\n    <article className=\"CreateIsa-page\">\r\n      <PageContent title=\"New ISA Offer\">\r\n        <section className=\"container\">\r\n          <section className=\"offer-steps\">\r\n            {/*<Stepper steps={OFFER_STEPS} activeIndex={active_step}/>*/}\r\n            {/*{offer_step_strategy[OFFER_STEPS[active_step]]}*/}\r\n          </section>\r\n          <section className=\"client-info\">\r\n            <header>\r\n              <h2>Client Information</h2>\r\n              <Input\r\n                onChange={e => set_client({ ...client, first_name: e })}\r\n                value={client.first_name}\r\n                placeholder=\"First Name\"\r\n              />\r\n              <Input\r\n                onChange={e => set_client({ ...client, last_name: e })}\r\n                value={client.last_name}\r\n                placeholder=\"Last Name\"\r\n              />\r\n              <Input\r\n                className=\"email\"\r\n                error={error.email}\r\n                onChange={e => {\r\n                  set_error({ ...error, email: '' })\r\n                  set_client({ ...client, email: e })\r\n                  !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n                }}\r\n                value={client.email}\r\n                placeholder=\"Email Address\"\r\n              />\r\n            </header>\r\n            <footer>\r\n              <h2>Offer Details</h2>\r\n              <TooltipBadge label=\"Pricing\" tooltip=\"help text\" />\r\n              <div className=\"selects\">\r\n                {pricing.map((item, i) => (\r\n                  <button\r\n                    key={i}\r\n                    className={`${fixClass(selected_pricing === item && 'selected')}`}\r\n                    onClick={() => set_selected_pricing(item)}\r\n                  >\r\n                    {item}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div className=\"form\">\r\n                <Input\r\n                  onChange={e => setIncome(e, 'description')}\r\n                  placeholder=\"Description\"\r\n                  value={total_income.description}\r\n                />\r\n                {selected_pricing === 'From total income' && (\r\n                  <>\r\n                    <Input\r\n                      postFix=\"$\"\r\n                      onChange={e => setIncome(e, 'current_income')}\r\n                      placeholder=\"Current income\"\r\n                      value={addComma(total_income.current_income)}\r\n                    />\r\n                    <Input\r\n                      postFix=\"%\"\r\n                      onChange={e => isNumber(e) && Number(e) > 0 && Number(e) < 100 && setIncome(e, 'percentage')}\r\n                      placeholder=\"Percentage to be Paid\"\r\n                      value={total_income.percentage}\r\n                    />\r\n                    <Input\r\n                      postFix=\"Months\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'time_to_be_paid')}\r\n                      placeholder=\"Time to be Paid\"\r\n                      value={total_income.time_to_be_paid}\r\n                    />\r\n                    <Input\r\n                      postFix=\"USD\"\r\n                      onChange={e => setIncome(e, 'cap')}\r\n                      placeholder=\"Maximum to be paid\"\r\n                      value={addComma(total_income.cap)}\r\n                    />\r\n                    <Input\r\n                      postFix=\"Weeks\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'cancellation_period')}\r\n                      placeholder=\"Cancellation Period\"\r\n                      value={total_income.cancellation_period}\r\n                    />\r\n                    <Input\r\n                      postFix=\"%\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'risk')}\r\n                      placeholder=\"Risk Assessment\"\r\n                      value={total_income.risk}\r\n                    />\r\n                    {!notValid() && <IsaAssessment />}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </footer>\r\n            {selected_pricing.length > 0 && (\r\n              <div className=\"actions\">\r\n                <Button disabled={notValid()} onClick={sendOffer} loading={loading}>\r\n                  REVIEW and send offer\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          <section className=\"faq-and-calc\">\r\n            <ISACalculator\r\n              current_income={removeComma(total_income.current_income)}\r\n              percentage={Number(total_income.percentage)}\r\n              months={Number(total_income.time_to_be_paid)}\r\n              max={removeComma(total_income.cap)}\r\n            />\r\n            <FAQ />\r\n          </section>\r\n        </section>\r\n      </PageContent>\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const formatDate = (date: string) => moment(date).format('MM/DD/YYYY')\r\n\r\nexport const formatEmail = (email: string) => email.replace(/ /g, '').toLowerCase()\r\n","import BaseService from './base.service'\r\nimport { formatEmail } from '../helpers/formattings'\r\n\r\nconst baseService = new BaseService()\r\n\r\ninterface User {\r\n  email: string\r\n  password: string\r\n  type?: string\r\n}\r\n\r\nexport default class AuthService {\r\n  public async register(user: User) {\r\n    return await baseService.postJSON('register', user)\r\n  }\r\n\r\n  public async login(user: { password: string; email: string }) {\r\n    return await baseService.postJSON('login', { email: formatEmail(user.email), password: user.password })\r\n  }\r\n\r\n  public async signOut() {\r\n    return await baseService.getJSON('logout')\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { fixClass } from '../../../helpers/base'\r\nimport './style.scss'\r\nimport styled from 'styled-components'\r\n\r\nconst Options = styled.section<any>`\r\n  display: grid;\r\n  grid-template-columns: ${props => new Array(props.length).fill('1fr ').join('')};\r\n`\r\n\r\ninterface ButtonSelectProps {\r\n  options: string[]\r\n  selected: string\r\n  onSelect(option: string): void\r\n}\r\n\r\nexport default function ButtonSelect(props: ButtonSelectProps) {\r\n  return (\r\n    <Options length={props.options.length} className=\"ButtonSelect-component\">\r\n      {props.options.map((option, i) => (\r\n        <div\r\n          onClick={() => props.onSelect(option)}\r\n          className={`option${fixClass(option === props.selected && 'selected')}`}\r\n          key={i}\r\n        >\r\n          {option}\r\n        </div>\r\n      ))}\r\n    </Options>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Input from '../../../../components/Input'\r\nimport Icon from '../../../../components/Icon'\r\nimport { validateEmail } from '../../../../../helpers/base'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport AuthService from '../../../../../services/auth.service'\r\nimport { emailErrorMessage, passwordLength, passwordMustMatch, requiredFieldError } from '../../../../../constants/auth'\r\nimport Button from '../../../../components/Button'\r\nimport Message from '../../../../components/Message'\r\nimport { Link } from 'react-router-dom'\r\nimport ButtonSelect from '../../../../components/ButtonSelect'\r\nimport { USER_TYPES } from '../../../../../constants/system'\r\n\r\nconst authService = new AuthService()\r\n\r\nexport default function SignUp(props: ScreenProps) {\r\n  const [user, set_user] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    password: '',\r\n    type: 'company',\r\n  })\r\n\r\n  const [password_confirm, set_password_confirm] = useState('')\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const [error, set_error] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    password: '',\r\n    password_confirm: '',\r\n  })\r\n\r\n  const notValid = () =>\r\n    Object.values(user).some(i => i === '') ||\r\n    !validateEmail(user.email) ||\r\n    user.password.length < 6 ||\r\n    user.password !== password_confirm\r\n\r\n  const onSubmit = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const { type, ...rest } = user\r\n      const res =\r\n        type === 'client' ? await authService.register({ type: 'students', ...rest }) : await authService.register(rest)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_loading(false)\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        await props.fetchUser()\r\n        set_loading(false)\r\n\r\n        if (type === 'company') {\r\n          return props.history.push('/company/register')\r\n        }\r\n\r\n        return props.history.push('/my-isa')\r\n      }\r\n    } catch (e) {\r\n      set_loading(false)\r\n      log('Error on sign in: ', e)\r\n      set_request_error(e.error || e.toString)\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"SignUp-page\">\r\n      <PageContent>\r\n        <h2>Register</h2>\r\n        <section className=\"form\">\r\n          <div className=\"fields\">\r\n            <Input\r\n              icon=\"account\"\r\n              placeholder=\"First Name *\"\r\n              error={error.first_name}\r\n              value={user.first_name}\r\n              onChange={e => {\r\n                set_error({ ...error, first_name: '' })\r\n                set_user({ ...user, first_name: e })\r\n                e.length < 1 && set_error({ ...error, first_name: requiredFieldError })\r\n              }}\r\n            />\r\n            <Input\r\n              icon=\"account\"\r\n              placeholder=\"Last Name *\"\r\n              error={error.last_name}\r\n              value={user.last_name}\r\n              onChange={e => {\r\n                set_error({ ...error, last_name: '' })\r\n                set_user({ ...user, last_name: e })\r\n                e.length < 1 && set_error({ ...error, last_name: requiredFieldError })\r\n              }}\r\n            />\r\n\r\n            <Input\r\n              className=\"full\"\r\n              icon=\"mail\"\r\n              placeholder=\"Email Address *\"\r\n              error={error.email}\r\n              value={user.email}\r\n              onChange={e => {\r\n                set_error({ ...error, email: '' })\r\n                set_user({ ...user, email: e })\r\n                !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n              }}\r\n            />\r\n            <Input\r\n              className=\"full\"\r\n              icon=\"key\"\r\n              placeholder=\"Password *\"\r\n              type=\"password\"\r\n              error={error.password}\r\n              value={user.password}\r\n              onChange={e => {\r\n                set_error({ ...error, password: '' })\r\n                set_user({ ...user, password: e })\r\n                e.length < 6 && set_error({ ...error, password: passwordLength })\r\n              }}\r\n            />\r\n            <Input\r\n              className=\"full\"\r\n              icon=\"key\"\r\n              placeholder=\"Confirm your password *\"\r\n              type=\"password\"\r\n              error={error.password_confirm}\r\n              value={password_confirm}\r\n              onChange={e => {\r\n                set_error({ ...error, password_confirm: '' })\r\n                set_password_confirm(e)\r\n                e !== user.password && set_error({ ...error, password_confirm: passwordMustMatch })\r\n              }}\r\n            />\r\n            <div className=\"select-type full\">\r\n              <label>I am a:</label>\r\n              <ButtonSelect\r\n                options={USER_TYPES}\r\n                selected={user.type}\r\n                onSelect={e => set_user({ ...user, type: e })}\r\n              />\r\n            </div>\r\n          </div>\r\n          <footer className=\"full\">\r\n            <p>\r\n              Already have an account? <Link to=\"/login\">Sign In</Link>\r\n            </p>\r\n\r\n            <Button disabled={notValid()} onClick={onSubmit} loading={loading}>\r\n              NEXT <Icon icon=\"arrow-right\" />{' '}\r\n            </Button>\r\n          </footer>\r\n        </section>\r\n      </PageContent>\r\n      {request_error.length > 0 && <Message message={request_error} />}\r\n    </article>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Input from '../../../../components/Input'\r\nimport Icon from '../../../../components/Icon'\r\nimport { validateEmail } from '../../../../../helpers/base'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport AuthService from '../../../../../services/auth.service'\r\nimport { emailErrorMessage, passwordLength } from '../../../../../constants/auth'\r\nimport Button from '../../../../components/Button'\r\nimport Message from '../../../../components/Message'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst authService = new AuthService()\r\n\r\nexport default function SignIn(props: ScreenProps) {\r\n  const [user, set_user] = useState({\r\n    email: '',\r\n    password: '',\r\n  })\r\n\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const [error, set_error] = useState({\r\n    email: '',\r\n    password: '',\r\n  })\r\n\r\n  const notValid = () =>\r\n    Object.values(user).some(i => i === '') || !validateEmail(user.email) || user.password.length < 6\r\n\r\n  const onSubmit = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await authService.login(user)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_loading(false)\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        await props.fetchUser()\r\n        set_loading(false)\r\n\r\n        if (res.user_role === 1) {\r\n          return props.history.push('admin/users')\r\n        } else {\r\n          return res.company ? props.history.push('/company/dashboard') : props.history.push('/my-isa')\r\n        }\r\n      }\r\n    } catch (e) {\r\n      set_loading(false)\r\n      log('Error on sign in: ', e)\r\n      set_request_error(e.error || e.toString)\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"SignIn-page\">\r\n      <PageContent>\r\n        <h2>Login</h2>\r\n        <section className=\"form\">\r\n          <div className=\"fields\">\r\n            <Input\r\n              icon=\"mail\"\r\n              placeholder=\"Email Address\"\r\n              error={error.email}\r\n              value={user.email}\r\n              onChange={e => {\r\n                set_error({ ...error, email: '' })\r\n                set_user({ ...user, email: e })\r\n                !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n              }}\r\n            />\r\n            <Input\r\n              icon=\"key\"\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              error={error.password}\r\n              value={user.password}\r\n              onChange={e => {\r\n                set_error({ ...error, password: '' })\r\n                set_user({ ...user, password: e })\r\n                e.length < 6 && set_error({ ...error, password: passwordLength })\r\n              }}\r\n            />\r\n          </div>\r\n          <footer className=\"full\">\r\n            <p>\r\n              Don't have an account? <Link to=\"/register\">Sign Up</Link>\r\n            </p>\r\n\r\n            <Button disabled={notValid()} onClick={onSubmit} loading={loading}>\r\n              Login <Icon icon=\"arrow-right\" />{' '}\r\n            </Button>\r\n          </footer>\r\n        </section>\r\n      </PageContent>\r\n      {request_error.length > 0 && <Message message={request_error} />}\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { fixClass } from '../../../helpers/base'\r\n\r\ninterface FieldProps {\r\n  children: any\r\n  title: string\r\n  className?: string\r\n}\r\n\r\nexport default function Field(props: FieldProps) {\r\n  return (\r\n    <div className={`Field-component${fixClass(props.className)}`}>\r\n      <label>{props.title}</label>\r\n      <p>{props.children}</p>\r\n    </div>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { notEmptyArray } from '../../../helpers/base'\r\n\r\ninterface TabsProps {\r\n  tabs: string[]\r\n  activeTab: string\r\n  onChange(tabs: string): void\r\n}\r\n\r\nexport default function Tabs(props: TabsProps) {\r\n  return (\r\n    <div className=\"Tabs-module\">\r\n      {notEmptyArray(props.tabs) &&\r\n        props.tabs.map((tab, index) => {\r\n          const isActive = tab.toLowerCase() === props.activeTab.toLowerCase()\r\n          return (\r\n            <div\r\n              style={\r\n                isActive\r\n                  ? {\r\n                      color: '#19216C',\r\n                      borderColor: '#19216C',\r\n                    }\r\n                  : undefined\r\n              }\r\n              onClick={() => props.onChange(tab)}\r\n              key={index}\r\n            >\r\n              {tab}\r\n            </div>\r\n          )\r\n        })}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { status_colors } from '../../../../constants/system'\r\nimport { fixClass } from '../../../../helpers/base'\r\n\r\ninterface StatusProps {\r\n  selected: 'created' | 'active' | 'paying' | 'completed'\r\n}\r\n\r\nexport default function Status(props: StatusProps) {\r\n  const className = status_colors.find(s => s.label === props.selected)\r\n  return (\r\n    <section className=\"Status-module\">\r\n      {status_colors.map((status, i) => (\r\n        <div\r\n          className={`status${fixClass(className && className.label === status.label && 'selected')}${fixClass(\r\n            className && className.label,\r\n          )}`}\r\n          key={i}\r\n        >\r\n          {status.label}\r\n        </div>\r\n      ))}\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport Field from '../../../../../components/Field'\r\nimport Tabs from '../../../../../components/Tabs'\r\nimport Status from '../../../../../modules/common/Status'\r\nimport IsaService from '../../../../../../services/isa.service'\r\nimport Loader from '../../../../../components/Loader'\r\nimport { makeName } from '../../../../../../helpers/base'\r\nimport Message from '../../../../../components/Message'\r\n\r\ninterface IsaOverviewProps extends ScreenProps {\r\n  match: any\r\n}\r\n\r\nconst isaService = new IsaService()\r\n\r\nexport default function IsaOverview(props: IsaOverviewProps) {\r\n  const [isa, set_isa] = useState<any>([])\r\n  const [active_tab, set_active_tab] = useState('ISA OFFER')\r\n  const [request_error, set_request_error] = useState('')\r\n  const [loading, set_loading] = useState(true)\r\n\r\n  const isa_id = props.match.params.id\r\n\r\n  const fetchIsa = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await isaService.getIsaById(isa_id)\r\n\r\n      if (res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_isa(res)\r\n      set_loading(false)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchIsa()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"IsaOverview-page\">\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        isa && (\r\n          <PageContent>\r\n            <h1 className=\"page-title\">{makeName(isa.student)}</h1>\r\n            <section className=\"form\">\r\n              <Tabs tabs={['overview', 'isa offer']} onChange={tab => set_active_tab(tab)} activeTab={active_tab} />\r\n              {active_tab === 'overview' ? (\r\n                <div className=\"overview\">\r\n                  <div>\r\n                    <label>Total Paid</label>\r\n                    <p>\r\n                      0 USD\r\n                      <span>of {isa.cap} USD</span>\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Last Payment</label>\r\n                    <p>\r\n                      {/*1,250 USD*/}\r\n                      {/*<span>August 8th 2020</span>*/}\r\n                      N/A\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Current Income</label>\r\n                    {/*<p>95K / YEAR</p>*/}\r\n                    <p>${isa.current_income} / YEAR</p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Previous Income</label>\r\n                    {/*<p>95K / YEAR</p>*/}\r\n                    <p>${isa.current_income} / YEAR</p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <Status selected={isa.status} />\r\n                  <div className=\"fields\">\r\n                    <Field title=\"company\">{makeName(props.currentUser)}</Field>\r\n                    <Field title=\"Client\">{makeName(isa.student)}</Field>\r\n                    <Field className=\"full\" title=\"Current Income\">\r\n                      ${isa.current_income} / YEAR\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"time to be paid\">\r\n                      {isa.time_to_be_paid || '-'} weeks\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Percentage to be paid\">\r\n                      {isa.percentage || '-'}%\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Description\">\r\n                      {isa.description || '-'}\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Cancellation Period\">\r\n                      {isa.cancellation_period_weeks || '-'} weeks\r\n                    </Field>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </section>\r\n            <Message message={request_error} />\r\n          </PageContent>\r\n        )\r\n      )}\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport Field from '../../../components/Field'\r\nimport IsaAssessment from '../../common/IsaAssessment'\r\nimport Icon from '../../../components/Icon'\r\nimport Button from '../../../components/Button'\r\nimport { makeName } from '../../../../helpers/base'\r\n\r\ninterface IsaOfferReviewProps {\r\n  isa: any\r\n  onNext(): void\r\n}\r\n\r\nexport default function IsaOfferReview(props: IsaOfferReviewProps) {\r\n  return (\r\n    <section className=\"client-isa_offer_review\">\r\n      <div className=\"fields\">\r\n        <Field title=\"company\">{makeName(props.isa.coach)}</Field>\r\n        <Field title=\"Client\">{makeName(props.isa.student)}</Field>\r\n        <Field className=\"full\" title=\"Current Income\">\r\n          ${props.isa.current_income}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Maximum to be paid\">\r\n          ${props.isa.cap}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Percentage to be paid\">\r\n          {props.isa.percentage}%\r\n        </Field>\r\n        <Field className=\"full\" title=\"Description\">\r\n          {props.isa.description}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Cancellation Period\">\r\n          {props.isa.cancellation_period_weeks ? props.isa.cancellation_period_weeks + ' weeks' : '-'}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Time to be paid\">\r\n          {props.isa.time_to_be_paid ? props.isa.time_to_be_paid + ' month(s)' : '-'}\r\n        </Field>\r\n        <IsaAssessment className=\"full\" />\r\n      </div>\r\n      <footer>\r\n        <a href=\"#\">\r\n          <Icon icon=\"file-download\" />\r\n          DOWNLOAD CONTRACT\r\n        </a>\r\n        <Button background=\"MainWarning\" onClick={props.onNext}>\r\n          ACCEPT OFFER\r\n        </Button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { fixClass } from '../../../../helpers/base'\r\nimport styled from 'styled-components'\r\n\r\nconst Steps = styled.section<any>`\r\n  grid-template-columns: ${props => new Array(props.length).fill('1fr ').join('')};\r\n`\r\n\r\ninterface StepperProps {\r\n  steps: Array<string>\r\n  activeIndex: number\r\n}\r\n\r\nexport default function Stepper(props: StepperProps) {\r\n  return (\r\n    <Steps length={props.steps.length} className=\"Stepper-module\">\r\n      {props.steps.map((step, i) => (\r\n        <div className={`status${fixClass(i === props.activeIndex && 'selected')}`} key={i}>\r\n          {step}\r\n        </div>\r\n      ))}\r\n    </Steps>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class ClientService {\r\n  public async getOffer(isa_id: number) {\r\n    return await baseService.getJSON(`client/isas/${isa_id}`)\r\n  }\r\n\r\n  public async resetPassword(user_id: number, password: string) {\r\n    return await baseService.patchJSON(`users/reset-password`, {\r\n      token: user_id,\r\n      password: password,\r\n    })\r\n  }\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Input from '../../../../../components/Input'\r\nimport Button from '../../../../../components/Button'\r\nimport { validateEmail } from '../../../../../../helpers/base'\r\nimport AuthService from '../../../../../../services/auth.service'\r\nimport { log } from '../../../../../../services/logging.service'\r\nimport { emailErrorMessage, passwordLength, passwordMustMatch } from '../../../../../../constants/auth'\r\nimport Message from '../../../../../components/Message'\r\nimport ClientService from '../../../../../../services/client.service'\r\n\r\nconst clientService = new ClientService()\r\n\r\ninterface ClientIsaSignUpProps {\r\n  user_id: number\r\n  email: string\r\n  onNext(): void\r\n}\r\n\r\nexport default function ClientIsaSignUp(props: ClientIsaSignUpProps) {\r\n  const [password, set_password] = useState('')\r\n\r\n  const [password_confirm, set_password_confirm] = useState('')\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const [error, set_error] = useState({\r\n    password: '',\r\n    password_confirm: '',\r\n  })\r\n\r\n  const onSubmit = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await clientService.resetPassword(props.user_id, password)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_loading(false)\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        set_loading(false)\r\n        await props.onNext()\r\n      }\r\n    } catch (e) {\r\n      set_loading(false)\r\n      log('Error on sign in: ', e)\r\n      set_request_error(e.error || e.toString)\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const notValid = () => password.length < 6 || password_confirm !== password\r\n\r\n  return (\r\n    <section className=\"ClientIsaSignUp-module\">\r\n      <div className=\"fields\">\r\n        <Input\r\n          disabled={true}\r\n          className=\"full\"\r\n          icon=\"mail\"\r\n          placeholder=\"Email Address *\"\r\n          value={props.email}\r\n          onChange={e => null}\r\n        />\r\n        <Input\r\n          className=\"full\"\r\n          icon=\"key\"\r\n          placeholder=\"Password *\"\r\n          type=\"password\"\r\n          error={error.password}\r\n          value={password}\r\n          onChange={e => {\r\n            set_error({ ...error, password: '' })\r\n            set_password(e)\r\n            e.length < 6 && set_error({ ...error, password: passwordLength })\r\n          }}\r\n        />\r\n        <Input\r\n          className=\"full\"\r\n          icon=\"key\"\r\n          placeholder=\"Confirm your password *\"\r\n          type=\"password\"\r\n          error={error.password_confirm}\r\n          value={password_confirm}\r\n          onChange={e => {\r\n            set_error({ ...error, password_confirm: '' })\r\n            set_password_confirm(e)\r\n            e !== password && set_error({ ...error, password_confirm: passwordMustMatch })\r\n          }}\r\n        />\r\n      </div>\r\n      <footer>\r\n        <Button background=\"MainWarning\" disabled={notValid()} onClick={onSubmit} icon=\"arrow-right\" loading={loading}>\r\n          NEXT\r\n        </Button>\r\n      </footer>\r\n      {request_error.length > 0 && <Message message={request_error} />}\r\n    </section>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\nimport { PlaidMetadata } from '../interfaces/baseIntefaces'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class PlaidService {\r\n\r\n  public async getToken() {\r\n    return await baseService.getJSON('plaid/link-token')\r\n  }\r\n\r\n  public async createItem(token: string, meta: PlaidMetadata) {\r\n    return await baseService.postJSON('plaid/items', {\r\n      public_token: token,\r\n      metadata: meta,\r\n    })\r\n  }\r\n\r\n  public async createCompanyItem(token: string, meta: PlaidMetadata, companyId: number | string) {\r\n    return await baseService.postJSON(`plaid/items?company_id=${companyId}`, {\r\n      public_token: token,\r\n      metadata: meta,\r\n      company_id: companyId\r\n    })\r\n  }\r\n\r\n  public async getMask(companyId: string | number) {\r\n    return await baseService.getJSON(`plaid/items?company_id=${companyId}`)\r\n  }\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { PlaidMetadata, ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport FAQ from '../../../../../modules/company/CreateIsa/FAQ'\r\nimport IsaOfferReview from '../../../../../modules/client/IsaOfferReview'\r\nimport Stepper from '../../../../../modules/common/Stepper'\r\nimport ClientIsaSignUp from '../sign-up'\r\nimport { usePlaidLink } from 'react-plaid-link'\r\nimport PlaidService from '../../../../../../services/plaid.service'\r\nimport Message from '../../../../../components/Message'\r\nimport Button from '../../../../../components/Button'\r\nimport ClientService from '../../../../../../services/client.service'\r\nimport ISACalculator from '../../../../../modules/on-boarding/ISACalculator'\r\nimport currentEnv from '../../../../../../config/environment'\r\n\r\nconst plaidService = new PlaidService()\r\nconst clientService = new ClientService()\r\nconst offerStatuses = ['review offer', 'sign up', 'link bank', 'sign contract']\r\n\r\ninterface ClientIsaOfferProps extends ScreenProps {\r\n  match: any\r\n}\r\n\r\nexport default function ClientIsaOffer(props: ClientIsaOfferProps) {\r\n  const [isa, set_isa] = useState<any>(null)\r\n  const [offer_step, set_offer_step] = useState(0)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const isa_id = props.match.params.id\r\n\r\n  const getIsa = async () => {\r\n    try {\r\n      const res = await clientService.getOffer(isa_id)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_offer_step(offer_step - 1)\r\n          set_request_error(res.error)\r\n          setTimeout(() => set_request_error(''), 3000)\r\n        } else {\r\n          set_isa(res)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    getIsa()\r\n  }, [])\r\n\r\n  const onSuccess = async (token: string, metadata: PlaidMetadata) => {\r\n    try {\r\n      const res = await plaidService.createItem(token, metadata)\r\n\r\n      if (res) {\r\n        if (res.error || res.err_msg) {\r\n          set_offer_step(offer_step - 1)\r\n          set_request_error(res.error || res.err_msg)\r\n          setTimeout(() => set_request_error(''), 3000)\r\n        } else {\r\n          props.history.push(`/isa/${isa_id || 1}`)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      set_offer_step(offer_step - 1)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const handleSignUp = async () => {\r\n    set_offer_step(offer_step + 1)\r\n    await props.fetchUser()\r\n    open()\r\n  }\r\n\r\n  const config = {\r\n    clientName: 'Commit Muse',\r\n    product: ['auth', 'transactions'],\r\n    env: currentEnv().PLAID_ENV,\r\n    publicKey: currentEnv().PLAID_PUBLIC_KEY,\r\n    onSuccess: onSuccess,\r\n    token: props.plaid_token\r\n  }\r\n\r\n  const { open, ready, error } = usePlaidLink(config)\r\n  const offer_strategy: any = isa && {\r\n    'review offer': (\r\n      <IsaOfferReview\r\n        isa={isa}\r\n        onNext={() => {\r\n          set_offer_step(offer_step + 1)\r\n        }}\r\n      />\r\n    ),\r\n    'sign up': isa && (\r\n      <ClientIsaSignUp email={isa.student.email} user_id={isa.student.id.toString()} onNext={handleSignUp} />\r\n    ),\r\n    'link bank': (\r\n      <section className=\"link_bank\">\r\n        <Button background=\"MainWarning\" onClick={() => open()}>\r\n          Link Bank\r\n        </Button>\r\n      </section>\r\n    ),\r\n  }\r\n\r\n  return (\r\n    <article className=\"ClientIsaOffer-page\">\r\n      <PageContent>\r\n        <section className=\"offer-steps\">\r\n          <Stepper steps={offerStatuses} activeIndex={offer_step} />\r\n          {isa && offer_strategy[offerStatuses[offer_step]]}\r\n        </section>\r\n\r\n        {isa && (\r\n          <section>\r\n            <ISACalculator\r\n              current_income={isa.current_income}\r\n              percentage={isa.percentage}\r\n              months={isa.time_to_be_paid}\r\n              max={isa.cap}\r\n            />\r\n            <FAQ />\r\n          </section>\r\n        )}\r\n      </PageContent>\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Field from '../../../../components/Field'\r\nimport Button from '../../../../components/Button'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport AuthService from '../../../../../services/auth.service'\r\n\r\nconst authService = new AuthService()\r\n\r\ninterface SettingsProps extends ScreenProps {}\r\n\r\nexport default function Settings(props: SettingsProps) {\r\n  const onLogout = async () => {\r\n    try {\r\n      await authService.signOut()\r\n      await props.fetchUser()\r\n      props.history.push('/login')\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"Settings-page\">\r\n      <PageContent title=\"Settings\">\r\n        <div className=\"wrapper\">\r\n          <h2>Account Information</h2>\r\n          <section className=\"account_info\">\r\n            <Field title=\"FIRST NAME\">{props.currentUser.first_name}</Field>\r\n            <Field title=\"LAST NAME\">{props.currentUser.last_name}</Field>\r\n            <Field className=\"full\" title=\"Email address\">\r\n              {props.currentUser.email}\r\n            </Field>\r\n            <Field className=\"full\" title=\"\">\r\n              Change Password\r\n            </Field>\r\n          </section>\r\n          <h2>Contract Information</h2>\r\n          <section className=\"contract_info\">\r\n            <Field className=\"full\" title=\"Current income\">\r\n              $ - / YEAR\r\n            </Field>\r\n            <Field className=\"full\" title=\"\">\r\n              Cancel ISA Contract\r\n            </Field>\r\n          </section>\r\n          <Button style={{ marginTop: 16 }} onClick={onLogout}>\r\n            Logout\r\n          </Button>\r\n        </div>\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class AdminService {\r\n  public async getUsers() {\r\n    return await baseService.getJSON(`admin/users`)\r\n  }\r\n  public async getIsas() {\r\n    return await baseService.getJSON(`admin/isas`)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { ISA } from '../../../../interfaces/baseIntefaces'\r\nimport Button from '../../../components/Button'\r\nimport Field from '../../../components/Field'\r\nimport { formatDate } from '../../../../helpers/formattings'\r\n\r\ninterface IsaBoxProps {\r\n  isa: ISA\r\n}\r\n\r\nexport default function IsaBox(props: IsaBoxProps) {\r\n  return (\r\n    <section className=\"IsaBox-module\">\r\n      <header>\r\n        <div className=\"left-actions\">\r\n          <Button>EDIT</Button>\r\n        </div>\r\n        <div className=\"right-actions\">\r\n          <Button>VIEW</Button>\r\n        </div>\r\n      </header>\r\n      <div className=\"body\">\r\n        <div>\r\n          <Field title=\"ID\">{props.isa.id}</Field>\r\n          <Field title=\"Created at\">{formatDate(props.isa.created_at)}</Field>\r\n          <Field title=\"Coach ID\">{props.isa.coach}</Field>\r\n          <Field title=\"Student ID\">{props.isa.student}</Field>\r\n          <Field title=\"Status\">{props.isa.status}</Field>\r\n        </div>\r\n        <div>\r\n          <Field title=\"CAP\">{props.isa.cap}</Field>\r\n          <Field title=\"Current income\">{props.isa.current_income}</Field>\r\n          <Field title=\"Percentage\">{props.isa.percentage}</Field>\r\n          <Field title=\"Time to be paid\">{props.isa.time_to_be_paid}</Field>\r\n        </div>\r\n        <Field title=\"description\">{props.isa.description}</Field>\r\n      </div>\r\n      <footer></footer>\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport AdminService from '../../../../services/admin.service'\r\nimport { ISA, ScreenProps } from '../../../../interfaces/baseIntefaces'\r\nimport { log } from '../../../../services/logging.service'\r\nimport { notEmptyArray } from '../../../../helpers/base'\r\nimport IsaBox from '../../../modules/admin/IsaBox'\r\n\r\nconst adminService = new AdminService()\r\n\r\ninterface AdminIsasProps extends ScreenProps {}\r\n\r\nexport default function AdminIsas(props: AdminIsasProps) {\r\n  const [isas, set_isas] = useState<ISA[]>([])\r\n\r\n  const fetchIsas = async () => {\r\n    try {\r\n      const res = await adminService.getIsas()\r\n      set_isas(res)\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchIsas()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"AdminIsas-page\">\r\n      <div className=\"content\">{notEmptyArray(isas) && isas.map((isa, i) => <IsaBox key={i} isa={isa} />)}</div>\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\n\r\nexport default function AdminPlaid(props: any) {\r\n  return (\r\n    <article className=\"AdminPlaid-page\">\r\n      <div className=\"content\"></div>\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { User } from '../../../../interfaces/baseIntefaces'\r\nimport Button from '../../../components/Button'\r\nimport Icon from '../../../components/Icon'\r\nimport Field from '../../../components/Field'\r\n\r\ninterface AdminUserBoxProps {\r\n  user: User\r\n}\r\n\r\nexport default function AdminUserBox(props: AdminUserBoxProps) {\r\n  return (\r\n    <section className=\"AdminUserBox-module\">\r\n      <header>\r\n        <div className=\"profile-photo\">\r\n          {props.user.profile_picture_link ? (\r\n            <img src={props.user.profile_picture_link} alt=\"profile_picture\" />\r\n          ) : (\r\n            <Icon icon=\"person\" />\r\n          )}\r\n        </div>\r\n        <div className=\"right-actions\">\r\n          <Button>EDIT</Button>\r\n          <Button>VIEW</Button>\r\n        </div>\r\n      </header>\r\n      <div className=\"body\">\r\n        <Field title=\"ID\">{props.user.id}</Field>\r\n        <Field title=\"Name\">\r\n          {props.user.first_name} {props.user.last_name}\r\n        </Field>\r\n        <Field title=\"Email\">{props.user.email}</Field>\r\n        <Field title=\"Type\">{props.user.type}</Field>\r\n      </div>\r\n      <footer></footer>\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps, User } from '../../../../interfaces/baseIntefaces'\r\nimport AdminService from '../../../../services/admin.service'\r\nimport { log } from '../../../../services/logging.service'\r\nimport { notEmptyArray } from '../../../../helpers/base'\r\nimport AdminUserBox from '../../../modules/admin/UserBox'\r\n\r\nconst adminService = new AdminService()\r\n\r\ninterface AdminUsersProps extends ScreenProps {}\r\n\r\nexport default function AdminUsers(props: AdminUsersProps) {\r\n  const [users, set_users] = useState<User[]>([])\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const res = await adminService.getUsers()\r\n      set_users(res)\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchUsers()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"AdminUsers-page\">\r\n      <div className=\"content\">{notEmptyArray(users) && users.map(u => <AdminUserBox key={u.id} user={u} />)}</div>\r\n    </article>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\nimport { Company } from '../interfaces/baseIntefaces'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class CompanyService {\r\n  public async create(company: Company) {\r\n    return await baseService.postJSON('companies', company)\r\n  }\r\n\r\n  public async companyPricing(companyId: string) {\r\n    return await baseService.getJSON(`companies/${companyId}/pricing`)\r\n  }\r\n\r\n  public async overview(companyId: number) {\r\n    return await baseService.getJSON(`companies/${companyId}/overview`)\r\n  }\r\n\r\n  public async createSubscription(company_id: string | number) {\r\n    return await baseService.postJSON(`subscriptions`, { company_id })\r\n  }\r\n\r\n  public async coaches(company_id: number) {\r\n    return await baseService.getJSON(`companies/${company_id}/coaches`)\r\n  }\r\n\r\n  public async isas(company_id: number) {\r\n    return await baseService.getJSON(`companies/${company_id}/isas`)\r\n  }\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport { PlaidMetadata, ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Stepper from '../../../../modules/common/Stepper'\r\nimport Select from '../../../../components/Select/Select'\r\nimport Input from '../../../../components/Input'\r\nimport Button from '../../../../components/Button'\r\nimport CompanyService from '../../../../../services/company.service'\r\nimport Message from '../../../../components/Message'\r\nimport { usePlaidLink } from 'react-plaid-link'\r\nimport PlaidService from '../../../../../services/plaid.service'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport currentEnv from '../../../../../config/environment'\r\n\r\nconst companyService = new CompanyService()\r\nconst plaidService = new PlaidService()\r\n\r\nconst on_boarding_steps = ['company details', 'link bank']\r\n\r\ntype CompanyOnBoardingKeys =\r\n  | 'number_of_employees_estimate'\r\n  | 'name'\r\n  | 'address_line_1'\r\n  | 'address_line_2'\r\n  | 'country'\r\n  | 'zip_code'\r\n  | 'city'\r\n  | 'state'\r\n\r\ninterface CompanyOnBoardingProps extends ScreenProps {}\r\n\r\nexport default function CompanyOnBoarding(props: CompanyOnBoardingProps) {\r\n  const [request_error, set_request_error] = useState('')\r\n  const [active_step, set_active_step] = useState(0)\r\n  const [data, set_data] = useState({\r\n    number_of_employees_estimate: '1',\r\n    name: '',\r\n    address_line_1: '',\r\n    address_line_2: '',\r\n    country: '',\r\n    zip_code: '',\r\n    city: '',\r\n    state: '',\r\n  })\r\n\r\n  const notValid = () => {\r\n    const { address_line_2, ...rest } = data\r\n    return Object.values(rest).some((v: any) => v.length === 0)\r\n  }\r\n\r\n  const onSuccess = async (token: string, metadata: PlaidMetadata) => {\r\n    try {\r\n      const companyId = localStorage.getItem('companyId')\r\n      const res = await plaidService.createCompanyItem(token, metadata, companyId as string)\r\n      if (res) {\r\n        const error = res.error || res.err_msg\r\n\r\n        if (error) {\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n        localStorage.removeItem('companyId')\r\n\r\n        props.history.push(`/subscription/${companyId}`)\r\n      }\r\n    } catch (e) {\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const config = {\r\n    clientName: 'Commit Muse',\r\n    env: currentEnv().PLAID_ENV,\r\n    product: ['auth', 'transactions'],\r\n    publicKey: currentEnv().PLAID_PUBLIC_KEY,\r\n    onSuccess: onSuccess,\r\n    token: props.plaid_token\r\n  }\r\n\r\n  const { open } = usePlaidLink(config)\r\n\r\n  const onRegister = async () => {\r\n    try {\r\n      const res = await companyService.create({\r\n        name: data.name,\r\n        number_of_employees_estimate: data.number_of_employees_estimate,\r\n        address: `${data.address_line_1}, ${data.address_line_2}, ${data.country}, ${data.city}, ${data.state}, ${data.zip_code}`,\r\n      })\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        log(res)\r\n        set_request_error(res.error || res.err_msg)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n      localStorage.setItem('companyId', res.id)\r\n      await props.fetchUser()\r\n\r\n      set_active_step(active_step + 1)\r\n      open()\r\n    } catch (e) {\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const onChange = (e: any, key: CompanyOnBoardingKeys) => {\r\n    set_data({ ...data, [key]: e })\r\n  }\r\n\r\n  const boarding_steps: any = {\r\n    0: (\r\n      <>\r\n        <div className=\"fields\">\r\n          <Select\r\n            icon=\"globe\"\r\n            value={data.number_of_employees_estimate}\r\n            options={['1', '2-10', '10-50', '50+']}\r\n            onChange={e => onChange(e, 'number_of_employees_estimate')}\r\n            placeholder=\"Number of people in the company\"\r\n          />\r\n          <Input icon=\"building\" onChange={e => onChange(e, 'name')} value={data.name} placeholder=\"Company Name\" />\r\n          <Input\r\n            icon=\"location\"\r\n            onChange={e => onChange(e, 'address_line_1')}\r\n            value={data.address_line_1}\r\n            placeholder=\"Address Line 1\"\r\n          />\r\n          <Input\r\n            icon=\"location\"\r\n            onChange={e => onChange(e, 'address_line_2')}\r\n            value={data.address_line_2}\r\n            placeholder=\"Address Line 2\"\r\n          />\r\n          <Input icon=\"globus\" onChange={e => onChange(e, 'country')} value={data.country} placeholder=\"Country\" />\r\n          <div className=\"zip-code\">\r\n            <Input onChange={e => onChange(e, 'zip_code')} value={data.zip_code} placeholder=\"Zip Code\" />\r\n            <Input onChange={e => onChange(e, 'city')} value={data.city} placeholder=\"City\" />\r\n            <Input onChange={e => onChange(e, 'state')} value={data.state} placeholder=\"State\" />\r\n          </div>\r\n        </div>\r\n        <footer>\r\n          <Button disabled={notValid()} onClick={onRegister} background=\"MainWarning\" icon=\"arrow-right\">\r\n            NEXT\r\n          </Button>\r\n        </footer>\r\n      </>\r\n    ),\r\n    1: (\r\n      <section className=\"link_bank\">\r\n        <Button background=\"MainWarning\" onClick={() => open()}>\r\n          Link Bank\r\n        </Button>\r\n        <Button className=\"skip\" onClick={() => props.history.push(`/subscription/${props.currentUser.company}`)}>\r\n          Skip for later\r\n        </Button>\r\n      </section>\r\n    ),\r\n  }\r\n\r\n  return (\r\n    <article className=\"CompanyOnBoarding-page\">\r\n      <PageContent>\r\n        <h2>Register</h2>\r\n        <section className=\"on_boarding-form\">\r\n          <Stepper steps={on_boarding_steps} activeIndex={active_step} />\r\n          {boarding_steps[active_step]}\r\n          <Message message={request_error} />\r\n        </section>\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\n\r\ninterface Offer {\r\n  title: string\r\n  description: string\r\n  oldCost: number\r\n  cost: number\r\n}\r\n\r\nexport default function SubscriptionOffer({ offer }: { offer: Offer }) {\r\n  return (\r\n    <div className=\"SubscriptionOffer-module\">\r\n      <div className=\"description\">\r\n        <h2>{offer.title}</h2>\r\n        <p>{offer.description}</p>\r\n      </div>\r\n      <div className=\"cost\">\r\n        <h2>${offer.oldCost}</h2>\r\n        <p>${offer.cost}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const OFFERS = [\r\n  {\r\n    title: 'Monthly Suscription',\r\n    description: 'Complete access to Commit Muse',\r\n    oldCost: 50,\r\n    cost: 30,\r\n  },\r\n  {\r\n    title: 'Client Fee',\r\n    description: 'Per active ISA student, each month',\r\n    oldCost: 8,\r\n    cost: 2,\r\n  },\r\n]\r\n\r\nexport const INVOICES = [\r\n  {\r\n    date: 'Jun 21, 2020',\r\n    invoice_number: '#123455',\r\n    billing_period: 'May -Jun',\r\n    amount: '24.00 USD',\r\n    status: 'Paid',\r\n  },\r\n  {\r\n    date: 'Jun 21, 2020',\r\n    invoice_number: '#123455',\r\n    billing_period: 'May -Jun',\r\n    amount: '24.00 USD',\r\n    status: 'Paid',\r\n  },\r\n  {\r\n    date: 'Jun 21, 2020',\r\n    invoice_number: '#123455',\r\n    billing_period: 'May -Jun',\r\n    amount: '24.00 USD',\r\n    status: 'Paid',\r\n  },\r\n  {\r\n    date: 'Jun 21, 2020',\r\n    invoice_number: '#123455',\r\n    billing_period: 'May -Jun',\r\n    amount: '24.00 USD',\r\n    status: 'Paid',\r\n  },\r\n  {\r\n    date: 'Jun 21, 2020',\r\n    invoice_number: '#123455',\r\n    billing_period: 'May -Jun',\r\n    amount: '24.00 USD',\r\n    status: 'Paid',\r\n  },\r\n  {\r\n    date: 'Jun 21, 2020',\r\n    invoice_number: '#123455',\r\n    billing_period: 'May -Jun',\r\n    amount: '24.00 USD',\r\n    status: 'Paid',\r\n  },\r\n]","import React, { useLayoutEffect, useState } from 'react'\r\nimport './syle.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Icon from '../../../../components/Icon'\r\nimport Button from '../../../../components/Button'\r\nimport PlaidService from '../../../../../services/plaid.service'\r\nimport Message from '../../../../components/Message'\r\nimport Loader from '../../../../components/Loader'\r\nimport CompanyService from '../../../../../services/company.service'\r\nimport SubscriptionOffer from '../../../../modules/company/SubscriptionOffer'\r\nimport { OFFERS } from '../../../../../constants/mockData'\r\n\r\nconst plaidService = new PlaidService()\r\nconst companyService = new CompanyService()\r\n\r\ninterface SubscriptionProps extends ScreenProps {\r\n  match: {\r\n    params: {\r\n      id: string\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Subscription(props: SubscriptionProps) {\r\n  const [request_error, set_request_error] = useState<any>('')\r\n  const [mask, set_mask] = useState<string | null>('')\r\n  const [loading, set_loading] = useState<boolean>(true)\r\n  const companyId = props.match.params.id\r\n\r\n  const getMask = async () => {\r\n    try {\r\n      const res = await plaidService.getMask(companyId)\r\n\r\n      set_loading(false)\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        set_request_error(res.error || res.err_msg)\r\n        set_mask(null)\r\n      }\r\n    } catch (e) {\r\n      set_mask(null)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n      return set_loading(false)\r\n    }\r\n  }\r\n\r\n  const subscribe = async () => {\r\n    try {\r\n      const res = await companyService.createSubscription(companyId)\r\n\r\n      set_loading(false)\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        set_request_error(res.error || res.err_msg)\r\n        set_mask(null)\r\n      }\r\n\r\n      if (res && res.is_active) {\r\n        set_request_error({ text: 'Subscription created', type: 'info' })\r\n        return setTimeout(() => props.history.push('/company/dashboard'), 2000)\r\n      }\r\n    } catch (e) {\r\n      set_mask(null)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n      return set_loading(false)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    companyId && getMask()\r\n  }, [])\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : (\r\n    <article className=\"Subscription-page\">\r\n      <PageContent title=\"Subscription\">\r\n        {mask !== null ? (\r\n          <section className=\"subscription-offer\">\r\n            <h2>Early adopter Discount offer:</h2>\r\n            <div className=\"offer-list\">\r\n              {OFFERS.map((offer, i) => (\r\n                <SubscriptionOffer offer={offer} key={i} />\r\n              ))}\r\n            </div>\r\n            <div className=\"payment-method\">\r\n              <h2>Payment method</h2>\r\n              <div>\r\n                <p>\r\n                  {mask ? (\r\n                    <>\r\n                      <Icon icon=\"check-circle\" />\r\n                      Account ending in {mask}\r\n                    </>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </p>\r\n                {/*hidden for now until we have design for it*/}\r\n                {/*<Button>*/}\r\n                {/*  <Icon icon=\"blue-plus\" />*/}\r\n                {/*  Other Payment Method*/}\r\n                {/*</Button>*/}\r\n              </div>\r\n            </div>\r\n            <footer>\r\n              <Button onClick={() => props.history.push('/company/dashboard')} className=\"skip\">\r\n                Skip for now\r\n              </Button>\r\n              <Button disabled={!companyId} onClick={subscribe} className=\"start\" background=\"MainWarning\">\r\n                START MY Subscription\r\n              </Button>\r\n            </footer>\r\n          </section>\r\n        ) : (\r\n          ''\r\n        )}\r\n        <Message message={request_error} />\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Icon from '../../../components/Icon'\r\n\r\nconst menu_items = [\r\n  {\r\n    label: 'Overview',\r\n    route: 'dashboard',\r\n    icon: 'home',\r\n    active: true,\r\n  },\r\n  {\r\n    label: 'Payments',\r\n    route: 'payments',\r\n    icon: 'money-check',\r\n  },\r\n  {\r\n    label: 'Coaches',\r\n    route: 'coaches',\r\n    icon: 'user-tie',\r\n    active: true,\r\n  },\r\n  {\r\n    label: 'Clients',\r\n    route: 'clients',\r\n    icon: 'user-graduate',\r\n  },\r\n  {\r\n    label: 'My ISAs',\r\n    route: 'isas',\r\n    icon: 'file',\r\n    active: true,\r\n  },\r\n  {\r\n    label: 'Payment’s Accounts',\r\n    route: 'payment-accounts',\r\n    icon: 'university',\r\n  },\r\n  {\r\n    label: 'Billing And Subscription',\r\n    route: 'billing',\r\n    icon: 'credit-card',\r\n    active: true,\r\n  },\r\n  {\r\n    label: 'My Account',\r\n    route: 'settings',\r\n    icon: 'user-circle',\r\n  },\r\n]\r\n\r\ninterface MenuSideBarProps {}\r\n\r\nexport default function MenuSideBar(props: MenuSideBarProps) {\r\n  return (\r\n    <section className=\"MenuSideBar-module\">\r\n      {menu_items.map((item, i) => (\r\n        <NavLink\r\n          aria-disabled={!item.active}\r\n          key={i}\r\n          className=\"menu-item\"\r\n          activeClassName=\"is-active\"\r\n          to={item.route}\r\n        >\r\n          <div>\r\n            <Icon icon={item.icon as any} />\r\n          </div>\r\n          <p>{item.label}</p>\r\n        </NavLink>\r\n      ))}\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport MenuSideBar from '../../../../modules/company/MenuSideBar'\r\nimport Icon from '../../../../components/Icon'\r\nimport Loader from '../../../../components/Loader'\r\nimport CompanyService from '../../../../../services/company.service'\r\nimport { formatDate } from '../../../../../helpers/formattings'\r\n\r\nconst companyService = new CompanyService()\r\n\r\ninterface CompanyDashboardProps extends ScreenProps {}\r\n\r\nexport default function CompanyDashboard(props: CompanyDashboardProps) {\r\n  const [request_error, set_request_error] = useState<any>('')\r\n  const [loading, set_loading] = useState<boolean>(true)\r\n  const [data, set_data] = useState({\r\n    coaches: null,\r\n    isas: null,\r\n    last_payment: { date: null, value: null },\r\n    total_revenue: null,\r\n  })\r\n\r\n  const setData = async () => {\r\n    try {\r\n      const res = await companyService.overview(props.currentUser.company)\r\n      set_loading(false)\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        set_request_error(res.error || res.err_msg)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_data(res)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    setData()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"CompanyDashboard-page\">\r\n      <MenuSideBar />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <PageContent title=\"Overview\" error={request_error}>\r\n          <section className=\"boxes\">\r\n            <section className=\"total\">\r\n              <div>\r\n                <h2>Total Revenue</h2>\r\n                <p>{data.total_revenue} USD</p>\r\n              </div>\r\n              <div>\r\n                <h2>Last Payment</h2>\r\n                <p>\r\n                  {data.last_payment.value} USD\r\n                  <span>{data.last_payment.date ? formatDate(data.last_payment.date as any) : '-/-/-'}</span>\r\n                </p>\r\n              </div>\r\n            </section>\r\n            <section className=\"counts\">\r\n              <div>\r\n                <h2>\r\n                  {data.coaches}\r\n                  <span>coaches</span>\r\n                </h2>\r\n                <Icon icon=\"round_blue_user\" />\r\n              </div>\r\n              <div>\r\n                <h2>\r\n                  - <span>isa offers completed</span>\r\n                </h2>\r\n                <Icon icon=\"round_blue_doc\" />\r\n              </div>\r\n              <div>\r\n                <h2>\r\n                  - <span>active Clients</span>\r\n                </h2>\r\n                <Icon icon=\"round_blue_user\" />\r\n              </div>\r\n              <div>\r\n                <h2>\r\n                  - <span>isa offers In Progress</span>\r\n                </h2>\r\n                <Icon icon=\"round_blue_doc\" />\r\n              </div>\r\n            </section>\r\n          </section>\r\n        </PageContent>\r\n      )}\r\n    </article>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { User } from '../../../../interfaces/baseIntefaces'\r\nimport Icon from '../../../components/Icon'\r\nimport Button from '../../../components/Button'\r\nimport { useState } from 'react'\r\nimport AuthService from '../../../../services/auth.service'\r\nimport { log } from '../../../../services/logging.service'\r\n\r\nconst authService = new AuthService()\r\n\r\ninterface PageHeaderProps {\r\n  user?: User\r\n  setCurrentUser(u: User | null): void\r\n}\r\n\r\nexport default function PageHeader(props: PageHeaderProps) {\r\n  const [show_menu, set_show_menu] = useState(false)\r\n  const history = useHistory()\r\n\r\n  const onLogout = async () => {\r\n    try {\r\n      await authService.signOut()\r\n      props.setCurrentUser(null)\r\n      history.push('/login')\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"PageHeader-module\">\r\n        <nav>\r\n          <div\r\n            className=\"logo\"\r\n            onClick={() => {\r\n              if (props.user) {\r\n                return props.user.company ? history.push('/company/dashboard') : history.push('/my-isa')\r\n              }\r\n              history.push('/login')\r\n            }}\r\n          >\r\n            <img src=\"/web/assets/images/logo.png\" alt=\"logo\" />\r\n          </div>\r\n          {props.user && props.user.user_role === 1 && (\r\n            <Link className=\"switch\" to={'/admin/users'}>\r\n              Admin portal\r\n            </Link>\r\n          )}\r\n          <div className=\"profile\">\r\n            {props.user ? (\r\n              <>\r\n                <Icon icon=\"bell\" className=\"notification\" />\r\n                <Link to=\"/settings\">\r\n                  <Icon icon=\"gear\" /> Settings\r\n                </Link>\r\n                <div className=\"auth-menu\" onClick={() => set_show_menu(!show_menu)}>\r\n                  {props.user.profile_picture_link && props.user.profile_picture_link.length > 6 ? (\r\n                    <img src={props.user.profile_picture_link} className=\"profile_pic\" alt=\"profile_pic\" />\r\n                  ) : (\r\n                    <div className=\"initials\">\r\n                      <h2>\r\n                        {props.user.first_name[0]}\r\n                        {props.user.last_name[0]}\r\n                      </h2>\r\n                    </div>\r\n                  )}\r\n                  <Icon style={{ marginLeft: 6 }} icon=\"caret-down\" />\r\n                  {show_menu && (\r\n                    <div className=\"hidden-menu\">\r\n                      <Button onClick={onLogout}>Logout</Button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <Link to=\"/login\">\r\n                <Button>Sign in</Button>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </nav>\r\n        <div className=\"top-wrapper\" />\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n","import './style.scss'\r\nimport React, { ReactNode } from 'react'\r\nimport { fixClass, noScroll } from '../../../helpers/base'\r\nimport Icon from '../Icon'\r\n\r\ninterface PopUpProps {\r\n  isOpen: boolean\r\n  onClose(): void\r\n  className?: string\r\n  children: ReactNode[] | ReactNode\r\n}\r\n\r\nexport default function PopUp(props: PopUpProps) {\r\n  return props.isOpen ? (\r\n    <section className=\"PopUp-component\">\r\n      {noScroll}\r\n      <div className=\"overlay\" onClick={props.onClose} />\r\n      <div className={`popup-content${fixClass(props.className)}`}>\r\n        <Icon className=\"close\" onClick={props.onClose} icon=\"close\" />\r\n        {props.children}\r\n      </div>\r\n    </section>\r\n  ) : null\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { Coach, ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport MenuSideBar from '../../../../../modules/company/MenuSideBar'\r\nimport Icon from '../../../../../components/Icon'\r\nimport Button from '../../../../../components/Button'\r\nimport PopUp from '../../../../../components/PopUp'\r\nimport Input from '../../../../../components/Input'\r\nimport Select from '../../../../../components/Select/Select'\r\nimport CompanyService from '../../../../../../services/company.service'\r\nimport Message from '../../../../../components/Message'\r\nimport { makeName, notEmptyArray } from '../../../../../../helpers/base'\r\n\r\nconst companyService = new CompanyService()\r\n\r\ninterface CompanyCoachesProps extends ScreenProps {}\r\n\r\nexport default function CompanyCoaches(props: CompanyCoachesProps) {\r\n  const [loading, set_loading] = useState<boolean>(true)\r\n  const [request_error, set_request_error] = useState<any>('')\r\n  const [coaches, set_coaches] = useState<Coach[]>([])\r\n  const [show_new_coach_popup, set_show_new_coach_popup] = useState(false)\r\n  const [coach, set_coach] = useState({\r\n    first_name: '',\r\n    email: '',\r\n  })\r\n\r\n  const getCoaches = async () => {\r\n    try {\r\n      const res = await companyService.coaches(props.currentUser.company)\r\n      set_loading(false)\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        set_request_error(res.error || res.err_msg)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_coaches(res)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    getCoaches()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"CompanyCoaches-page\">\r\n      <MenuSideBar />\r\n      <PageContent error={request_error}>\r\n        <header>\r\n          <h2 className=\"page-title\">Coaches</h2>\r\n          <Button background=\"MainWarning\" onClick={() => set_show_new_coach_popup(true)}>\r\n            <Icon icon=\"plus\" /> New Coach\r\n          </Button>\r\n        </header>\r\n        <section className=\"coaches\">\r\n          {notEmptyArray(coaches) &&\r\n            coaches.map((coach, i) => (\r\n              <div className=\"coach\" key={i}>\r\n                <div>\r\n                  <Icon icon=\"person\" />\r\n                  <h2>\r\n                    {coach.type} <span>{makeName(coach)}</span>\r\n                  </h2>\r\n                </div>\r\n                <Icon icon=\"chevron-right\" />\r\n              </div>\r\n            ))}\r\n        </section>\r\n        <PopUp isOpen={show_new_coach_popup} onClose={() => set_show_new_coach_popup(false)}>\r\n          <section className=\"new-coach\">\r\n            <header>\r\n              <h2>Invite someone to join Company Name</h2>\r\n              <Input\r\n                onChange={e => set_coach({ ...coach, first_name: e })}\r\n                value={coach.first_name}\r\n                placeholder=\"First Name\"\r\n              />\r\n              <Input\r\n                onChange={e => set_coach({ ...coach, email: e })}\r\n                value={coach.email}\r\n                placeholder=\"Email Address\"\r\n              />\r\n              <Button background=\"MainWarning\">SEND INVITE</Button>\r\n            </header>\r\n            <footer>\r\n              {coaches.map((coach, i) => (\r\n                <div className=\"coach\" key={i}>\r\n                  <h2>\r\n                    {makeName(coach)} <span>{coach.email}</span>\r\n                  </h2>\r\n                  <Select value=\"Coach\" options={['']} onChange={e => e} placeholder=\"Coach\" />\r\n                </div>\r\n              ))}\r\n            </footer>\r\n          </section>\r\n        </PopUp>\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport Icon from '../../../../../components/Icon'\r\nimport Message from '../../../../../components/Message'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport SubscriptionOffer from '../../../../../modules/company/SubscriptionOffer'\r\nimport { INVOICES, OFFERS } from '../../../../../../constants/mockData'\r\nimport Loader from '../../../../../components/Loader'\r\nimport PlaidService from '../../../../../../services/plaid.service'\r\nimport MenuSideBar from '../../../../../modules/company/MenuSideBar'\r\nimport Tabs from '../../../../../components/Tabs'\r\nimport Table, { Header } from '../../../../../components/Table'\r\nimport Button from '../../../../../components/Button'\r\n\r\nconst plaidService = new PlaidService()\r\n\r\nconst table_headers: Header[] = [\r\n  {\r\n    key: 'date',\r\n    title: 'DATE',\r\n    sortable: true,\r\n  },\r\n  {\r\n    key: 'invoice_number',\r\n    title: 'Invoice Number',\r\n    sortable: true,\r\n  },\r\n  {\r\n    key: 'billing_period',\r\n    title: 'Billing\\n' + 'Period',\r\n    sortable: true,\r\n  },\r\n  {\r\n    key: 'amount',\r\n    title: 'Amount',\r\n    sortable: true,\r\n  },\r\n  {\r\n    key: 'status',\r\n    title: 'Status',\r\n    sortable: true,\r\n  },\r\n]\r\n\r\ninterface BillingAndSubsProps extends ScreenProps {}\r\n\r\nexport default function BillingAndSubs(props: BillingAndSubsProps) {\r\n  const [request_error, set_request_error] = useState<any>('')\r\n  const [mask, set_mask] = useState<string | null>('')\r\n  const [loading, set_loading] = useState<boolean>(true)\r\n  const [active_tab, set_active_tab] = useState<string>('subscription')\r\n\r\n  const companyId = props.currentUser.company\r\n\r\n  const getMask = async () => {\r\n    try {\r\n      const res = await plaidService.getMask(companyId)\r\n\r\n      set_loading(false)\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        set_request_error(res.error || res.err_msg)\r\n        set_mask(null)\r\n      }\r\n    } catch (e) {\r\n      set_mask(null)\r\n      set_request_error(e.error || e.toString())\r\n      set_loading(false)\r\n      setTimeout(() => set_request_error(''), 3000)\r\n      return set_loading(false)\r\n    }\r\n  }\r\n\r\n  const tab_strategy: any = {\r\n    subscription: (\r\n      <>\r\n        <div className=\"tab\">\r\n          <h2 className=\"tab-title\">My Subscription</h2>\r\n          <div className=\"offer-list\">\r\n            {OFFERS.map((offer, i) => (\r\n              <SubscriptionOffer offer={offer} key={i} />\r\n            ))}\r\n          </div>\r\n          <div className=\"payment-method\">\r\n            <h2>Payment method</h2>\r\n            <div>\r\n              <p>\r\n                {mask ? (\r\n                  <>\r\n                    <Icon icon=\"check-circle\" />\r\n                    Account ending in {mask}\r\n                  </>\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <footer>\r\n          <button>Cancel Subscription</button>\r\n        </footer>\r\n      </>\r\n    ),\r\n    billing: '',\r\n    invoices: (\r\n      <section className=\"tab\">\r\n        <h2 className=\"tab-title\">Invoices</h2>\r\n        {/*<Table rows={INVOICES} headers={table_headers} />*/}\r\n      </section>\r\n    ),\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    companyId ? getMask() : set_loading(false)\r\n  }, [])\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : (\r\n    <article className=\"BillingAndSubs-page\">\r\n      <MenuSideBar />\r\n      <PageContent title=\"Billing and Subscription\">\r\n        <section className=\"billing-info\">\r\n          <header>\r\n            <Tabs\r\n              tabs={['subscription', 'billing', 'invoices']}\r\n              onChange={tab => set_active_tab(tab)}\r\n              activeTab={active_tab}\r\n            />\r\n          </header>\r\n          {tab_strategy[active_tab]}\r\n        </section>\r\n\r\n        <Message message={request_error} />\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ISA, ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport MenuSideBar from '../../../../../modules/company/MenuSideBar'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport Icon from '../../../../../components/Icon'\r\nimport { notEmptyArray } from '../../../../../../helpers/base'\r\nimport CompanyService from '../../../../../../services/company.service'\r\nimport Loader from '../../../../../components/Loader'\r\nimport Select from '../../../../../components/Select/Select'\r\nimport IsaStatus from '../../../../../modules/company/MyIsa/IsaStatus'\r\nimport { Link } from 'react-router-dom'\r\nimport PlaidService from '../../../../../../services/plaid.service'\r\nimport Button from '../../../../../components/Button'\r\n\r\nconst companyService = new CompanyService()\r\nconst plaidService = new PlaidService()\r\n\r\ninterface CompanyIsasProps extends ScreenProps {}\r\n\r\nexport default function CompanyIsas(props: CompanyIsasProps) {\r\n  const [filter, set_filter] = useState('')\r\n  const [loading, set_loading] = useState<boolean>(true)\r\n  const [request_error, set_request_error] = useState<any>('')\r\n  const [isas, set_isas] = useState<ISA[]>([])\r\n\r\n  const getIsas = async () => {\r\n    try {\r\n      const res = await companyService.isas(props.currentUser.company)\r\n      set_loading(false)\r\n\r\n      if ((res && res.error) || res.err_msg) {\r\n        set_request_error(res.error || res.err_msg)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_isas(res)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    getIsas()\r\n  }, [])\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : (\r\n    <article className=\"CompanyIsas-page\">\r\n      <MenuSideBar />\r\n      <PageContent error={request_error}>\r\n        <header className=\"page-header\">\r\n          <h1 className=\"page-title\">My ISA’s</h1>\r\n          {notEmptyArray(isas) && (\r\n            <Select\r\n              value={filter}\r\n              options={['View all', 'active', 'paying', 'completed']}\r\n              onChange={e => set_filter(e)}\r\n              placeholder={'View all'}\r\n            />\r\n          )}\r\n        </header>\r\n        {notEmptyArray(isas) ? (\r\n          <section className=\"my_isa\">\r\n            {isas\r\n              .filter((i: any) => i.status.includes(filter === 'View all' ? '' : filter))\r\n              .map((isa: any, index: number) => (\r\n                <IsaStatus\r\n                  onClick={() => props.history.push('isas/' + isa.id)}\r\n                  key={index}\r\n                  name={isa.student.first_name + ' ' + isa.student.last_name}\r\n                  status={isa.status}\r\n                />\r\n              ))}\r\n            <Link to=\"isas/create\" className=\"new_isa\">\r\n              <Icon icon=\"new_isa_plus\" />\r\n              NEW ISA\r\n            </Link>\r\n          </section>\r\n        ) : (\r\n          <section className=\"empty-isa\">\r\n            <div className=\"icon\">\r\n              <Icon icon=\"empty_isa\" />\r\n            </div>\r\n            <h2>You have no ISA offers.</h2>\r\n            <div className=\"text_with_icon\">\r\n              <p>Start by creating a new one.</p>\r\n              <Icon icon=\"arrow_to_button\" />\r\n            </div>\r\n            <Button onClick={() => props.history.push('isas/create')} className=\"new_isa\">\r\n              <Icon icon=\"new_isa_plus\" />\r\n              NEW ISA\r\n            </Button>\r\n          </section>\r\n        )}\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../../../interfaces/baseIntefaces'\r\nimport { makeName } from '../../../../../../../helpers/base'\r\nimport PageContent from '../../../../../../modules/common/PageContent'\r\nimport Field from '../../../../../../components/Field'\r\nimport Tabs from '../../../../../../components/Tabs'\r\nimport Status from '../../../../../../modules/common/Status'\r\nimport IsaService from '../../../../../../../services/isa.service'\r\nimport Loader from '../../../../../../components/Loader'\r\nimport Message from '../../../../../../components/Message'\r\nimport MenuSideBar from '../../../../../../modules/company/MenuSideBar'\r\n\r\ninterface IsaOverviewProps extends ScreenProps {\r\n  match: any\r\n}\r\n\r\nconst isaService = new IsaService()\r\n\r\nexport default function CompanyIsaOverview(props: IsaOverviewProps) {\r\n  const [isa, set_isa] = useState<any>([])\r\n  const [active_tab, set_active_tab] = useState('ISA OFFER')\r\n  const [request_error, set_request_error] = useState('')\r\n  const [loading, set_loading] = useState(true)\r\n\r\n  const isa_id = props.match.params.id\r\n\r\n  const fetchIsa = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await isaService.getIsaById(isa_id)\r\n\r\n      if (res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_isa(res)\r\n      set_loading(false)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchIsa()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"CompanyIsaOverview-page\">\r\n      <MenuSideBar />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        isa && (\r\n          <PageContent>\r\n            <h1 className=\"page-title\">{makeName(isa.student)}</h1>\r\n            <section className=\"form\">\r\n              <Tabs tabs={['overview', 'isa offer']} onChange={tab => set_active_tab(tab)} activeTab={active_tab} />\r\n              {active_tab === 'overview' ? (\r\n                <div className=\"overview\">\r\n                  <div>\r\n                    <label>Total Paid</label>\r\n                    <p>\r\n                      0 USD\r\n                      <span>of {isa.cap} USD</span>\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Last Payment</label>\r\n                    <p>\r\n                      {/*1,250 USD*/}\r\n                      {/*<span>August 8th 2020</span>*/}\r\n                      N/A\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Current Income</label>\r\n                    {/*<p>95K / YEAR</p>*/}\r\n                    <p>${isa.current_income} / YEAR</p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Previous Income</label>\r\n                    {/*<p>95K / YEAR</p>*/}\r\n                    <p>${isa.current_income} / YEAR</p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <Status selected={isa.status} />\r\n                  <div className=\"fields\">\r\n                    <Field title=\"company\">{makeName(props.currentUser)}</Field>\r\n                    <Field title=\"Client\">{makeName(isa.student)}</Field>\r\n                    <Field className=\"full\" title=\"Current Income\">\r\n                      ${isa.current_income} / YEAR\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"time to be paid\">\r\n                      {isa.time_to_be_paid || '-'} weeks\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Percentage to be paid\">\r\n                      {isa.percentage || '-'}%\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Description\">\r\n                      {isa.description || '-'}\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Cancellation Period\">\r\n                      {isa.cancellation_period_weeks || '-'} weeks\r\n                    </Field>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </section>\r\n            <Message message={request_error} />\r\n          </PageContent>\r\n        )\r\n      )}\r\n    </article>\r\n  )\r\n}\r\n","import './style.scss'\r\nimport React, { useState } from 'react'\r\nimport { ScreenProps } from '../../../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../../../modules/common/PageContent'\r\nimport FAQ from '../../../../../../modules/company/CreateIsa/FAQ'\r\nimport { fixClass, isNumber, validateEmail } from '../../../../../../../helpers/base'\r\nimport { emailErrorMessage } from '../../../../../../../constants/auth'\r\nimport Input from '../../../../../../components/Input'\r\nimport TooltipBadge from '../../../../../../components/TooltipBadge'\r\nimport Button from '../../../../../../components/Button'\r\nimport IsaService from '../../../../../../../services/isa.service'\r\nimport Message from '../../../../../../components/Message'\r\nimport IsaAssessment from '../../../../../../modules/common/IsaAssessment'\r\nimport ISACalculator from '../../../../../../modules/on-boarding/ISACalculator'\r\nimport MenuSideBar from '../../../../../../modules/company/MenuSideBar'\r\n\r\nconst isaService = new IsaService()\r\n\r\nconst pricing = ['From total income', 'From new raise', 'Placement']\r\nconst OFFER_STEPS = ['client', 'program', 'isa offer', 'review', 'contract']\r\n\r\ntype IncomeKeys =\r\n  | 'description'\r\n  | 'percentage'\r\n  | 'time_to_be_paid'\r\n  | 'cap'\r\n  | 'cancellation_period'\r\n  | 'risk'\r\n  | 'current_income'\r\n\r\ninterface CreateIsaProps extends ScreenProps {}\r\n\r\nexport default function CompanyCreateIsa(props: CreateIsaProps) {\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n  const [selected_pricing, set_selected_pricing] = useState(pricing[0])\r\n  const [active_step, set_active_step] = useState(0)\r\n\r\n  const [client, set_client] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  })\r\n\r\n  const [error, set_error] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  })\r\n\r\n  const [total_income, set_total_income] = useState({\r\n    description: '',\r\n    percentage: '17',\r\n    time_to_be_paid: '2',\r\n    cap: '10000',\r\n    cancellation_period: '2',\r\n    risk: '20',\r\n    current_income: '80000',\r\n  })\r\n\r\n  const setIncome = (e: string, key: IncomeKeys) => set_total_income({ ...total_income, [key]: e })\r\n\r\n  const notValid = () =>\r\n    Object.values(client).some(i => i === '') ||\r\n    Object.values(total_income).some(i => i === '') ||\r\n    !validateEmail(client.email)\r\n\r\n  const sendOffer = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await isaService.create({\r\n        current_income: removeComma(total_income.current_income),\r\n        percentage: Number(total_income.percentage),\r\n        cap: removeComma(total_income.cap),\r\n        cancellation_period_weeks: Number(total_income.cancellation_period),\r\n        time_to_be_paid: Number(total_income.time_to_be_paid),\r\n        status: 'created',\r\n        description: total_income.description,\r\n        client,\r\n        coach_id: props.currentUser.id,\r\n      })\r\n\r\n      if (res && res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n      set_loading(false)\r\n\r\n      return props.history.push(`/isa/${res.id}`)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const addComma = (str: string) => {\r\n    return Number(str.replace(/,/g, '')).toLocaleString()\r\n  }\r\n\r\n  const removeComma = (str: string) => {\r\n    return Number(str.replace(/,/g, ''))\r\n  }\r\n\r\n  const offer_step_strategy: any = {\r\n    client: '',\r\n    program: '',\r\n    'isa offer': '',\r\n    review: '',\r\n    contract: '',\r\n  }\r\n\r\n  return (\r\n    <article className=\"CompanyCreateIsa-page\">\r\n      <MenuSideBar />\r\n      <PageContent title=\"New ISA Offer\">\r\n        <section className=\"container\">\r\n          <section className=\"offer-steps\">\r\n            {/*<Stepper steps={OFFER_STEPS} activeIndex={active_step}/>*/}\r\n            {/*{offer_step_strategy[OFFER_STEPS[active_step]]}*/}\r\n          </section>\r\n          <section className=\"client-info\">\r\n            <header>\r\n              <h2>Client Information</h2>\r\n              <Input\r\n                onChange={e => set_client({ ...client, first_name: e })}\r\n                value={client.first_name}\r\n                placeholder=\"First Name\"\r\n              />\r\n              <Input\r\n                onChange={e => set_client({ ...client, last_name: e })}\r\n                value={client.last_name}\r\n                placeholder=\"Last Name\"\r\n              />\r\n              <Input\r\n                className=\"email\"\r\n                error={error.email}\r\n                onChange={e => {\r\n                  set_error({ ...error, email: '' })\r\n                  set_client({ ...client, email: e })\r\n                  !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n                }}\r\n                value={client.email}\r\n                placeholder=\"Email Address\"\r\n              />\r\n            </header>\r\n            <footer>\r\n              <h2>Offer Details</h2>\r\n              <TooltipBadge label=\"Pricing\" tooltip=\"help text\" />\r\n              <div className=\"selects\">\r\n                {pricing.map((item, i) => (\r\n                  <button\r\n                    key={i}\r\n                    className={`${fixClass(selected_pricing === item && 'selected')}`}\r\n                    onClick={() => set_selected_pricing(item)}\r\n                  >\r\n                    {item}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div className=\"form\">\r\n                <Input\r\n                  onChange={e => setIncome(e, 'description')}\r\n                  placeholder=\"Description\"\r\n                  value={total_income.description}\r\n                />\r\n                {selected_pricing === 'From total income' && (\r\n                  <>\r\n                    <Input\r\n                      postFix=\"$\"\r\n                      onChange={e => setIncome(e, 'current_income')}\r\n                      placeholder=\"Current income\"\r\n                      value={addComma(total_income.current_income)}\r\n                    />\r\n                    <Input\r\n                      postFix=\"%\"\r\n                      onChange={e => isNumber(e) && Number(e) > 0 && Number(e) < 100 && setIncome(e, 'percentage')}\r\n                      placeholder=\"Percentage to be Paid\"\r\n                      value={total_income.percentage}\r\n                    />\r\n                    <Input\r\n                      postFix=\"Months\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'time_to_be_paid')}\r\n                      placeholder=\"Time to be Paid\"\r\n                      value={total_income.time_to_be_paid}\r\n                    />\r\n                    <Input\r\n                      postFix=\"USD\"\r\n                      onChange={e => setIncome(e, 'cap')}\r\n                      placeholder=\"Maximum to be paid\"\r\n                      value={addComma(total_income.cap)}\r\n                    />\r\n                    <Input\r\n                      postFix=\"Weeks\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'cancellation_period')}\r\n                      placeholder=\"Cancellation Period\"\r\n                      value={total_income.cancellation_period}\r\n                    />\r\n                    <Input\r\n                      postFix=\"%\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'risk')}\r\n                      placeholder=\"Risk Assessment\"\r\n                      value={total_income.risk}\r\n                    />\r\n                    {!notValid() && <IsaAssessment />}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </footer>\r\n            {selected_pricing.length > 0 && (\r\n              <div className=\"actions\">\r\n                <Button disabled={notValid()} onClick={sendOffer} loading={loading}>\r\n                  REVIEW and send offer\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          <section className=\"faq-and-calc\">\r\n            <ISACalculator\r\n              current_income={removeComma(total_income.current_income)}\r\n              percentage={Number(total_income.percentage)}\r\n              months={Number(total_income.time_to_be_paid)}\r\n              max={removeComma(total_income.cap)}\r\n            />\r\n            <FAQ />\r\n          </section>\r\n        </section>\r\n      </PageContent>\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport NotFound from './app/pages/public/404'\r\nimport MyIsa from './app/pages/public/company/my-isa'\r\nimport OnBoarding from './app/pages/public/coach/on-boarding'\r\nimport CreateIsa from './app/pages/public/company/my-isa/create-isa'\r\nimport SignUp from './app/pages/public/auth/sign-up'\r\nimport SignIn from './app/pages/public/auth/sign-in'\r\nimport IsaOverview from './app/pages/public/company/my-isa/isa-overview'\r\nimport ClientIsaOffer from './app/pages/public/client/isa-offer-steps/review'\r\nimport Settings from './app/pages/public/client/settings'\r\nimport AdminIsas from './app/pages/admin/Isas'\r\nimport AdminPlaid from './app/pages/admin/Plaid'\r\nimport AdminUsers from './app/pages/admin/Users'\r\nimport CompanyOnBoarding from './app/pages/public/company/register'\r\nimport Subscription from './app/pages/public/company/subscription'\r\nimport CompanyDashboard from './app/pages/public/company/dashboard'\r\nimport PageHeader from './app/modules/common/PageHeader'\r\nimport { ScreenProps } from './interfaces/baseIntefaces'\r\nimport CompanyCoaches from './app/pages/public/company/dashboard/coaches'\r\nimport BillingAndSubs from './app/pages/public/company/dashboard/billing-and-subs'\r\nimport CompanyIsas from './app/pages/public/company/dashboard/my-isas'\r\nimport CompanyIsaOverview from './app/pages/public/company/dashboard/my-isas/isa-overview'\r\nimport CompanyCreateIsa from './app/pages/public/company/dashboard/my-isas/create-isa'\r\n\r\nexport default function Routes(routerProps: Partial<ScreenProps>) {\r\n  const adminRoute = (Component: any, path: string) => (\r\n    <Route path={path}>\r\n      {(props: any) =>\r\n        routerProps.currentUser && routerProps.currentUser.user_role === 1 ? (\r\n          <Component {...props} {...routerProps} />\r\n        ) : (\r\n          <Redirect to={'/company/dashboard'} />\r\n        )\r\n      }\r\n    </Route>\r\n  )\r\n  const privateRoute = (Component: any, route: string, exact?: boolean) => {\r\n    return (\r\n      <Route\r\n        exact={!!exact}\r\n        path={route}\r\n        render={(props: any) =>\r\n          routerProps.currentUser ? <Component {...props} {...routerProps} /> : <Redirect to={'/login'} />\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Router basename={'/web'}>\r\n      <PageHeader user={routerProps.currentUser} setCurrentUser={routerProps.setCurrentUser as any} />\r\n      <Switch>\r\n        <Route path=\"/login\" render={(props: any) => <SignIn {...props} {...routerProps} />} />\r\n        <Route path=\"/register\" render={(props: any) => <SignUp {...props} {...routerProps} />} />\r\n\r\n        {/* Private Routes */}\r\n        {privateRoute(MyIsa, '/my-isa')}\r\n        {privateRoute(CreateIsa, '/isa/create')}\r\n        {privateRoute(IsaOverview, '/isa/:id')}\r\n        {privateRoute(Settings, '/settings')}\r\n        {privateRoute(OnBoarding, '/on-boarding')}\r\n        {privateRoute(Subscription, '/subscription/:id')}\r\n        {privateRoute(CompanyOnBoarding, '/company/register')}\r\n\r\n        {/* Company Routes */}\r\n        {privateRoute(CompanyDashboard, '/company/dashboard')}\r\n        {privateRoute(CompanyCoaches, '/company/coaches')}\r\n        {privateRoute(CompanyIsas, '/company/isas', true)}\r\n        {privateRoute(CompanyCreateIsa, '/company/isas/create')}\r\n        {privateRoute(CompanyIsaOverview, '/company/isas/:id')}\r\n        {privateRoute(BillingAndSubs, '/company/billing')}\r\n\r\n        {/* Admin Routes */}\r\n        {adminRoute(AdminUsers, '/admin/users')}\r\n        {adminRoute(AdminIsas, '/admin/isas')}\r\n        {adminRoute(AdminPlaid, '/admin/plaid')}\r\n\r\n        <Route path=\"/client/isa-offer/:id\" render={(props: any) => <ClientIsaOffer {...props} {...routerProps} />} />\r\n\r\n        {/*404*/}\r\n        <Redirect path=\"/\" to={routerProps.currentUser ? '/my-isa' : '/login'} exact />\r\n        <Route path=\"*\" render={(props: any) => <NotFound {...props} />} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}","import { Dispatch } from 'redux'\r\n\r\nconst SET_AUTH_FIELD = 'SET_AUTH_FIELD'\r\n\r\nexport type AuthKeys =\r\n  | 'first_name'\r\n  | 'last_name'\r\n  | 'email'\r\n  | 'phone_number'\r\n  | 'password'\r\n  | 'company_name'\r\n  | 'company_type'\r\n  | 'title'\r\n  | 'address'\r\n  | 'company_website'\r\n  | 'building_types'\r\n  | 'project_types'\r\n  | 'number_of_hourly_employees_range'\r\n\r\nexport interface AuthState {\r\n  first_name: string\r\n  last_name: string\r\n  email: string\r\n  phone_number: string\r\n  password: string\r\n  company_name: string\r\n  company_type: string\r\n  title: string\r\n  address: string\r\n  company_website: string\r\n  building_types: string\r\n  project_types: string\r\n  number_of_hourly_employees_range: string\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  first_name: '',\r\n  last_name: '',\r\n  email: '',\r\n  phone_number: '',\r\n  password: '',\r\n  company_name: '',\r\n  company_type: '',\r\n  title: '',\r\n  address: '',\r\n  company_website: '',\r\n  building_types: '',\r\n  project_types: '',\r\n  number_of_hourly_employees_range: '0-5',\r\n}\r\n\r\n// actions\r\nexport const setAuthField = (e: string, key: AuthKeys) => ({\r\n  type: SET_AUTH_FIELD,\r\n  val: e,\r\n  key,\r\n})\r\n\r\nexport const authState = (state: any) => ({\r\n  auth: state.auth,\r\n})\r\n\r\nexport const authDispatcher = (dispatch: Dispatch) => ({\r\n  setAuthField: (e: string, key: AuthKeys) => dispatch(setAuthField(e, key)),\r\n})\r\n\r\nexport default function authReducer(state = initialState, action: { key: AuthKeys; val: string; type: string }) {\r\n  if (action.type === SET_AUTH_FIELD) {\r\n    return { ...state, [action.key]: action.val }\r\n  }\r\n\r\n  return state\r\n}\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport authReducer from './reducers/auth'\r\nimport reduxThunk from 'redux-thunk'\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n})\r\n\r\nconst store = (initialState = {}) => {\r\n  const middlewares = [reduxThunk]\r\n\r\n  return createStore(rootReducer, initialState, applyMiddleware(...middlewares))\r\n}\r\n\r\nexport default store\r\n","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class UserService {\r\n  public async getCurrentUser() {\r\n    return await baseService.getJSON('user')\r\n  }\r\n\r\n  public async checkAuth() {\r\n    return await baseService.getJSON('check-auth')\r\n  }\r\n\r\n  public async editUser(details: any) {\r\n    return await baseService.patchJSON('user', details)\r\n  }\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport Routes from './Routes'\r\nimport { Provider } from 'react-redux'\r\nimport store from './redux/store'\r\nimport UserService from './services/user.service'\r\nimport Loader from './app/components/Loader'\r\nimport { log } from './services/logging.service'\r\nimport { User } from './interfaces/baseIntefaces'\r\nimport PlaidService from './services/plaid.service'\r\n\r\nconst configStore: any = store()\r\nconst userService = new UserService()\r\nconst plaidService = new PlaidService()\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState<User | null | undefined>(undefined)\r\n  const [plaid_token, set_plaid_token] = useState('')\r\n  const fetchUser = async () => {\r\n    const tokenRes = await plaidService.getToken()\r\n    set_plaid_token(tokenRes.link_token)\r\n    try {\r\n\r\n      const res = await userService.checkAuth()\r\n      if (res) {\r\n        const user = await userService.getCurrentUser()\r\n        return setCurrentUser(user)\r\n      } else {\r\n        return setCurrentUser(null)\r\n      }\r\n    } catch (e) {\r\n      log('Error getting current user: ', e)\r\n      return setCurrentUser(null)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchUser()\r\n  }, [])\r\n\r\n  return currentUser !== undefined ? (\r\n    <Provider store={configStore}>\r\n      <Routes plaid_token={plaid_token} currentUser={currentUser as User} fetchUser={fetchUser} setCurrentUser={(u: User | null) => setCurrentUser(u)} />\r\n    </Provider>\r\n  ) : (\r\n    <Loader />\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n)\r\n\r\nexport function register(config: any) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config: any) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config: any) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import './styles/global.scss'\r\nimport App from './App'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}