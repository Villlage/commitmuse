{"version":3,"sources":["app/pages/public/404/index.tsx","app/components/Icon.tsx","constants/system.ts","helpers/base.tsx","app/components/Button/index.tsx","app/modules/common/PageHeader/index.tsx","config/environment.ts","services/logging.service.ts","services/base.service.ts","services/isa.service.ts","app/modules/common/PageContent/index.tsx","app/modules/company/MyIsa/IsaStatus/index.tsx","app/components/Select/Select.tsx","app/components/Message/index.tsx","app/components/Loader.tsx","app/pages/public/company/my-isa/index.tsx","app/components/TooltipBadge/index.tsx","app/modules/on-boarding/BoardingField/index.tsx","app/modules/on-boarding/ISACalculator/index.tsx","app/pages/public/coach/on-boarding/index.tsx","app/components/ExpansionPanel/index.tsx","app/modules/company/CreateIsa/FAQ/index.tsx","app/components/Input/index.tsx","constants/auth.ts","app/modules/common/IsaAssessment/index.tsx","app/pages/public/company/my-isa/create-isa/index.tsx","services/auth.service.ts","helpers/formattings.ts","app/components/ButtonSelect/index.tsx","app/pages/public/auth/sign-up/index.tsx","app/pages/public/auth/sign-in/index.tsx","app/components/Field/index.tsx","app/components/Tabs/index.tsx","app/modules/common/Status/index.tsx","app/pages/public/company/my-isa/isa-overview/index.tsx","app/modules/client/IsaOfferReview/index.tsx","app/modules/common/Stepper/index.tsx","services/client.service.ts","app/pages/public/client/isa-offer-steps/sign-up/index.tsx","services/plaid.service.ts","app/pages/public/client/isa-offer-steps/review/index.tsx","app/pages/public/client/settings/index.tsx","services/admin.service.ts","app/modules/admin/AdminHeader/index.tsx","app/modules/admin/IsaBox/index.tsx","app/pages/admin/Isas/index.tsx","app/pages/admin/Plaid/index.tsx","app/modules/admin/UserBox/index.tsx","app/pages/admin/Users/index.tsx","services/company.service.ts","app/pages/public/company/register/index.tsx","app/pages/public/company/subscription/index.tsx","Routes.tsx","redux/reducers/auth.ts","redux/store.ts","services/user.service.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["NotFound","props","className","onClick","history","goBack","generateIconLink","icon","icons","active_star","arrow_right","save_profile","select_down","select_up","save_pdf","share","close","star","usa","pdf","gigs_handshake","briefcase","refer","certificate","round_down","checkmark","logo","calendar","person","share_gray","plus","star_outline","emptyProjects","send","sendWhite","arrow_up","tooltip_arrow","delete","edit","account","company","new_isa_plus","pencil","question_circle","question_circle_active","code","empty_isa","bell","arrow_to_button","Icon","replace","src","alt","style","USER_TYPES","SYSTEM_COLORS","MainPrimary","MainSecondary","MainSuccess","MainError","MainWarning","MainInfo","MainLight","MainWhite","BodyLight","BodyDarker","Title","Border","BorderDark","Background","ActivePrimary","ActiveSecondary","ActiveSuccess","ActiveError","ActiveWarning","ActiveInfo","ActiveLight","ActiveBorder","HoverPrimary","HoverSecondary","HoverError","HoverSuccess","HoverInfo","HoverWarning","HoverLight","HoverBorder","HoverWhite","status_colors","label","bg","text","active","emailREGEX","validateEmail","email","test","String","toLowerCase","notEmptyArray","arr","Array","isArray","length","fixClass","objectToUrlParams","obj","Object","keys","forEach","key","undefined","_","map","join","isNumber","navigator","platform","value","Number","isInteger","copyToClipboard","window","innerWidth","str","el","document","createElement","body","appendChild","select","execCommand","removeChild","makeName","u","first_name","last_name","roundK","val","Math","round","EPSILON","Btn","styled","button","background","color","Button","disabled","loading","includes","children","marginLeft","Loader","PageHeader","useHistory","push","user","user_role","to","profile_picture_link","ENV","dev","MAIN_API","staging","production","currentEnv","log","message","optionalParams","console","BaseService","handleError","res","error","values","err","i","handleResponseType","a","contentType","headers","get","indexOf","json","getJSON","url","params","fetch","method","credentials","response","postJSON","data","saveCookie","JSON","stringify","patchJSON","deleteJSON","postFormData","baseService","IsaService","isa","isa_id","PageContent","child","React","createEl","title","created","paying","completed","IsaStatus","name","status","borderColor","Select","useState","showOptions","setShowOptions","isError","placeholder","options","option","index","onChange","Message","static","Wrapper","div","id","width","height","viewBox","fill","stroke","strokeWidth","points","isaService","MyIsa","filter","set_filter","isas","set_isas","request_error","set_request_error","set_loading","getIsas","setTimeout","toString","useLayoutEffect","currentUser","e","student","TooltipBadge","show","set_show","tooltip","BoardingField","type","target","suffix","ISACalculator","copied_to_clipboard","set_copied_to_clipboard","current_income","set_current_income","future_income","set_future_income","useEffect","textAlign","min","max","step","bill","percentage","months","future_bill","__percentage","__months","__max","__current_income","__future_income","embedCalculator","OnBoarding","pricing","set_pricing","set_percentage","risk_assessment","set_risk_assessment","pay_time","set_pay_time","pay_maximum","set_pay_maximum","hourly_rate","ExpansionPanel","isOpen","set_isOpen","content","FAQ","FAQs","marginBottom","maximum","faq","Input","visible","set_visible","rippled","set_rippled","onFocus","onBlur","postFix","passwordLength","IsaAssessment","CreateIsa","selected_pricing","set_selected_pricing","client","set_client","set_error","description","time_to_be_paid","cap","cancellation_period","risk","total_income","set_total_income","setIncome","notValid","some","sendOffer","create","removeComma","cancellation_period_weeks","coach_id","addComma","toLocaleString","item","AuthService","password","Options","section","ButtonSelect","onSelect","selected","authService","SignUp","set_user","password_confirm","set_password_confirm","onSubmit","register","fetchUser","SignIn","login","Field","Tabs","tabs","tab","isActive","activeTab","Status","find","s","IsaOverview","set_isa","active_tab","set_active_tab","match","fetchIsa","getIsaById","IsaOfferReview","coach","href","onNext","Steps","Stepper","steps","activeIndex","ClientService","user_id","token","clientService","ClientIsaSignUp","set_password","resetPassword","PlaidService","meta","public_token","metadata","plaidService","offerStatuses","ClientIsaOffer","offer_step","set_offer_step","getIsa","getOffer","onSuccess","createItem","err_msg","handleSignUp","open","config","clientName","env","product","publicKey","usePlaidLink","offer_strategy","ready","Settings","onLogout","signOut","marginTop","AdminService","AdminHeader","show_menu","set_show_menu","activeClassName","IsaBox","date","created_at","moment","format","adminService","AdminIsas","fetchIsas","AdminPlaid","AdminUserBox","AdminUsers","users","set_users","fetchUsers","getUsers","companyService","on_boarding_steps","CompanyOnBoarding","active_step","set_active_step","number_of_employees_estimate","address_line_1","address_line_2","country","zip_code","city","state","set_data","address","boarding_steps","0","v","1","offers","oldCost","cost","Subscription","offer","Offer","Routes","routerProps","adminRoute","Component","path","basename","render","privateRoute","exact","route","initialState","phone_number","company_name","company_type","company_website","building_types","project_types","number_of_hourly_employees_range","rootReducer","combineReducers","auth","action","store","middlewares","reduxThunk","createStore","applyMiddleware","UserService","details","configStore","userService","App","setUser","checkAuth","getCurrentUser","Boolean","location","hostname","ReactDOM","getElementById","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.7cb9a577.chunk.js","sourcesContent":["import React from 'react'\r\nimport './style.scss'\r\n\r\nexport default function NotFound(props: any) {\r\n  return (\r\n    <section className=\"NotFound-page\">\r\n      <h1>This page doesn't exist</h1>\r\n      <h2>Check your link please</h2>\r\n      <button onClick={() => props.history.goBack()}>Go back</button>\r\n    </section>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport { CSSProperties } from 'react'\r\n\r\nconst iconsFolder = '/web/assets/icons/'\r\n\r\nconst generateIconLink = (icon: SystemIcons | string) => iconsFolder + icon + '.svg'\r\n\r\nexport const icons: any = {\r\n  active_star: generateIconLink('active_star'),\r\n  arrow_right: generateIconLink('arrow_right'),\r\n  save_profile: generateIconLink('save_profile'),\r\n  select_down: generateIconLink('select_down'),\r\n  select_up: generateIconLink('select_up'),\r\n  save_pdf: generateIconLink('save_pdf'),\r\n  share: generateIconLink('share'),\r\n  close: generateIconLink('close'),\r\n  star: generateIconLink('star'),\r\n  usa: generateIconLink('usa'),\r\n  pdf: generateIconLink('pdf'),\r\n  gigs_handshake: generateIconLink('gigs_handshake'),\r\n  briefcase: generateIconLink('briefcase'),\r\n  refer: generateIconLink('refer'),\r\n  certificate: generateIconLink('certificate'),\r\n  round_down: generateIconLink('round_down'),\r\n  checkmark: generateIconLink('checkmark'),\r\n  logo: generateIconLink('logo'),\r\n  calendar: generateIconLink('calendar'),\r\n  person: generateIconLink('person'),\r\n  share_gray: generateIconLink('share_gray'),\r\n  plus: generateIconLink('plus'),\r\n  star_outline: generateIconLink('star_outline'),\r\n  emptyProjects: generateIconLink('emptyProjects'),\r\n  send: generateIconLink('Send'),\r\n  sendWhite: generateIconLink('SendWhite'),\r\n  arrow_up: generateIconLink('arrow_up'),\r\n  tooltip_arrow: generateIconLink('tooltip_arrow'),\r\n  delete: generateIconLink('Delete'),\r\n  edit: generateIconLink('Edit'),\r\n  account: generateIconLink('account'),\r\n  company: generateIconLink('company'),\r\n  new_isa_plus: generateIconLink('new_isa_plus'),\r\n  pencil: generateIconLink('pencil'),\r\n  question_circle: generateIconLink('question-circle'),\r\n  question_circle_active: generateIconLink('question-circle-active'),\r\n  code: generateIconLink('code'),\r\n  empty_isa: generateIconLink('empty_isa'),\r\n  'caret-down': generateIconLink('caret-down'),\r\n  bell: generateIconLink('bell'),\r\n  arrow_to_button: generateIconLink('arrow_to_button'),\r\n  'chevron-right': generateIconLink('chevron-right'),\r\n  'arrow-right': generateIconLink('arrow-right'),\r\n  'eye': generateIconLink('eye'),\r\n  'mail': generateIconLink('mail'),\r\n  'file-download': generateIconLink('file-download'),\r\n  'key': generateIconLink('key'),\r\n  'gear': generateIconLink('gear'),\r\n  'globe': generateIconLink('globe'),\r\n  'building': generateIconLink('building'),\r\n  'location': generateIconLink('location'),\r\n  'globus': generateIconLink('globus'),\r\n  'check-circle': generateIconLink('check-circle'),\r\n  'blue-plus': generateIconLink('blue-plus'),\r\n}\r\n\r\nexport type SystemIcons =\r\n  | 'file-download'\r\n  | 'new_isa_plus'\r\n  | 'active_star'\r\n  | 'arrow_right'\r\n  | 'close'\r\n  | 'pdf'\r\n  | 'save_pdf'\r\n  | 'save_profile'\r\n  | 'select_down'\r\n  | 'select_up'\r\n  | 'share'\r\n  | 'star'\r\n  | 'usa'\r\n  | 'gigs_handshake'\r\n  | 'briefcase'\r\n  | 'refer'\r\n  | 'certificate'\r\n  | 'round_down'\r\n  | 'checkmark'\r\n  | 'logo'\r\n  | 'calendar'\r\n  | 'person'\r\n  | 'share_gray'\r\n  | 'plus'\r\n  | 'star_outline'\r\n  | 'emptyProjects'\r\n  | 'send'\r\n  | 'sendWhite'\r\n  | 'arrow_up'\r\n  | 'tooltip_arrow'\r\n  | 'delete'\r\n  | 'edit'\r\n  | 'account'\r\n  | 'company'\r\n  | 'pencil'\r\n  | 'question_circle'\r\n  | 'question_circle_active'\r\n  | 'code'\r\n  | 'empty_isa'\r\n  | 'caret-down'\r\n  | 'bell'\r\n  | 'arrow_to_button'\r\n  | 'chevron-right'\r\n  | 'arrow-right'\r\n  | 'eye'\r\n  | 'mail'\r\n  | 'key'\r\n  | 'gear'\r\n  | 'globe'\r\n  | 'building'\r\n  | 'location'\r\n  | 'globus'\r\n  | 'check-circle'\r\n  | 'blue-plus'\r\n\r\ninterface IconProps {\r\n  icon: SystemIcons\r\n  style?: CSSProperties\r\n  disabled?: boolean\r\n  animated?: boolean\r\n  className?: string\r\n  onClick?(): void\r\n}\r\n\r\nexport default function Icon(props: IconProps) {\r\n  const icon = props.icon.replace(/ /g, '')\r\n  return !!icons[icon] ? (\r\n    <img\r\n      onClick={props.onClick}\r\n      src={icons[icon]}\r\n      alt={props.icon + 'icon'}\r\n      style={props.style}\r\n      className={props.className}\r\n    />\r\n  ) : (\r\n    <span>No such icon</span>\r\n  )\r\n}\r\n","export const USER_TYPES = ['company', 'coach', 'client']\r\n\r\nexport const COLORS = {\r\n  body_darker: '#5E6672',\r\n  title: '#354151',\r\n  border: '#E1E8EE',\r\n  body_light: '#8795A9',\r\n  main: {\r\n    primary: '#253784',\r\n    secondary: '#3C3D4D',\r\n    light: '#F2F5F9',\r\n    white: '#FFFFFF',\r\n  },\r\n}\r\n\r\nexport const SYSTEM_COLORS = {\r\n  MainPrimary: '#253784',\r\n  MainSecondary: '#3c3d4d',\r\n  MainSuccess: '#21b881',\r\n  MainError: '#dc3545',\r\n  MainWarning: '#F0B429',\r\n  MainInfo: '#17a2b8',\r\n  MainLight: '#f2f5f9',\r\n  MainWhite: '#ffffff',\r\n  BodyLight: '#8795a9',\r\n  BodyDarker: '#5e6672',\r\n  Title: '#354151',\r\n  Border: '#e1e8ee',\r\n  BorderDark: '#c6ccd1',\r\n  Background: '#f2f3f4',\r\n  ActivePrimary: '#4152ab',\r\n  ActiveSecondary: '#282833',\r\n  ActiveSuccess: '#18aa75',\r\n  ActiveError: '#bd2130',\r\n  ActiveWarning: '#d39e00',\r\n  ActiveInfo: '#117a8b',\r\n  ActiveLight: '#e4e7eb',\r\n  ActiveBorder: '#c8ced4',\r\n  HoverPrimary: '#4558b8',\r\n  HoverSecondary: '#323340',\r\n  HoverError: '#c82333',\r\n  HoverSuccess: '#218838',\r\n  HoverInfo: '#138496',\r\n  HoverWarning: '#e0a800',\r\n  HoverLight: '#ebeef2',\r\n  HoverBorder: '#d4dbe0',\r\n  HoverWhite: '#f9f9f9',\r\n}\r\n\r\nexport const status_colors = [\r\n  {\r\n    label: 'created',\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  {\r\n    label: 'active',\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  {\r\n    label: 'paying',\r\n    bg: '#FFF3C4',\r\n    text: '#CB6E17',\r\n    active: true,\r\n  },\r\n  {\r\n    label: 'completed',\r\n    bg: '#BAE3FF',\r\n    text: '#0967D2',\r\n  },\r\n]\r\n","/* istanbul ignore file */\r\n\r\nimport * as _ from 'lodash'\r\nimport React, { ClassAttributes, DOMAttributes } from 'react'\r\nimport { User } from '../interfaces/baseIntefaces'\r\n\r\n//eslint-disable-next-line\r\nconst emailREGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\r\nexport const validateEmail = (email: string) => emailREGEX.test(String(email).toLowerCase())\r\nexport const validatePhoneNumber = (phoneNumber: string) =>\r\n  phoneNumber && isNumber(phoneNumber) && phoneNumber.length > 8\r\n\r\nexport const notEmptyArray = (arr: any[] | null | undefined) => Array.isArray(arr) && arr.length > 0\r\n\r\nexport const fixClass = (className: any) => (className ? ' ' + className : '')\r\n\r\nexport const noScroll = <style>{`html { overflow: hidden; }`}</style>\r\n\r\n// helper to count array of objects by object's specific property\r\nexport const countArrayByProp = (arr: any[], prop: string, val: any) =>\r\n  notEmptyArray(arr) ? arr.reduce((acc, cur) => (cur[prop] === val ? ++acc : acc), 0) : 0\r\n\r\n// helper to count array of objects by object's specific property\r\nexport const countArrayByPropLength = (arr: any[], prop: string, val: number) =>\r\n  notEmptyArray(arr) ? arr.reduce((acc, cur) => (cur[prop].length === val ? ++acc : acc), 0) : 0\r\n\r\n// helper to count array of objects by object's specific property\r\nexport const countArrayByExistProp = (arr: any[], prop: string) =>\r\n  notEmptyArray(arr) ? arr.reduce((acc, cur) => (!!cur[prop] ? ++acc : acc), 0) : 0\r\n\r\n// helper to turn object to url query string params. ex: {a: 1, b:2} to ?a=1&b=2\r\nexport const objectToUrlParams = (obj: any) => {\r\n  if (!obj) return ''\r\n  Object.keys(obj).forEach(key => {\r\n    if (obj[key] === null || obj[key] === undefined || obj[key] === '' || obj[key].length === 0) {\r\n      delete obj[key]\r\n    }\r\n  })\r\n  if (_.isEmpty(obj)) return ''\r\n  return (\r\n    '?' +\r\n    Object.keys(obj)\r\n      .map(key => key + '=' + obj[key])\r\n      .join('&')\r\n  )\r\n}\r\n\r\n// helper to capitalize string\r\nexport const capitalize = (str: string) =>\r\n  str\r\n    ? str\r\n        .split(' ')\r\n        .map(i => i.replace(/^\\w/, c => c.toUpperCase()))\r\n        .join(' ')\r\n    : ''\r\n\r\n// helper to check if MacOs is used by current user\r\nexport const isMac: boolean = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)\r\n\r\n// helper to use debounce from lodash\r\nexport const withDebounce = (func: any, delay: number) => _.debounce(func, delay)\r\n\r\n// helper to check if value is number\r\nexport const isNumber = (value: number | string) => Number.isInteger(Number(value))\r\n\r\n// helper to check if current device is mobile phone\r\nexport const is_mobile = window.innerWidth < 600\r\n\r\n// helper to get query params from url\r\nexport const useQuery = (location: Location) => new URLSearchParams(location.search)\r\n\r\n// recursive function to return as a string last property of the object\r\nexport const lastProperty = (obj: any): any => {\r\n  if (typeof obj !== 'object') {\r\n    return obj\r\n  }\r\n  for (const prop in obj) {\r\n    if (Array.isArray(obj[prop])) {\r\n      return `${prop}: ${obj[prop][0]}`\r\n    }\r\n    return lastProperty(obj[prop])\r\n  }\r\n}\r\n\r\nexport const hidePhoneNumber = (num: string) => {\r\n  if (!num) return ''\r\n  const area_code_and_country_code = num.substr(0, Math.min(4, num.length))\r\n  return area_code_and_country_code + ' XXX-XXXX'\r\n}\r\n\r\nexport const hideEmail = (email: string) =>\r\n  email\r\n    ? email\r\n        .split('@')[0]\r\n        .split('')\r\n        .map(() => 'x')\r\n        .join('') +\r\n      '@' +\r\n      email.split('@')[1]\r\n    : ''\r\n\r\nexport const copyToClipboard = (str: string) => {\r\n  const el = document.createElement('textarea')\r\n  el.value = str\r\n  document.body.appendChild(el)\r\n  el.select()\r\n  document.execCommand('copy')\r\n  document.body.removeChild(el)\r\n}\r\n\r\n// helper to get 1 lvl object difference\r\nexport const objDiff = (a: any, b: any) =>\r\n  _.reduce(a, (result, value, key: any) => (_.isEqual(value, b[key]) ? result : result.concat(key)), [])\r\n\r\nexport const embedCalculator = (\r\n  __percentage = 17,\r\n  __months = 7,\r\n  __max = 100,\r\n  __current_income = 95,\r\n  __future_income = 125,\r\n) => copyToClipboard(\r\n  `\r\n<script id=\"commit-muse-calc\">\r\n  const style = \"input[type=range]{width:100%;background-color:#fff;-webkit-appearance:none;border:0;margin:0}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:rgba(255,255,255,.6);border:1px solid #fff;width:100%;height:4px;cursor:pointer}input[type=range]::-webkit-slider-thumb{margin-top:-9px;width:20px;height:20px;background:#fff;border:0;border-radius:20px;cursor:pointer;-webkit-appearance:none}input[type=range]:focus::-webkit-slider-runnable-track{background:#fff}input[type=range]::-moz-range-track{background:rgba(255,255,255,.6);border:1px solid #fff;width:100%;height:4px;cursor:pointer}input[type=range]::-moz-range-thumb{width:20px;height:20px;background:#fff;border:0;border-radius:20px;cursor:pointer}input[type=range]::-ms-track{background:0 0;border-color:transparent;border-width:8px 0;color:transparent;width:100%;height:4px;cursor:pointer}input[type=range]::-ms-fill-lower{background:#fff;border:1px solid #fff}input[type=range]::-ms-fill-upper{background:rgba(255,255,255,.6);border:1px solid #fff}input[type=range]::-ms-thumb{width:20px;height:20px;background:#fff;border:0;border-radius:20px;cursor:pointer;margin-top:0}input[type=range]:focus::-ms-fill-lower{background:rgba(255,255,255,.6)}input[type=range]:focus::-ms-fill-upper{background:#fff}@supports (-ms-ime-align:auto){input[type=range]{margin:0}}#future_amount::-ms-thumb{background:#65d6ad!important}#future_amount::-moz-range-thumb{background:#65d6ad!important}#future_amount::-webkit-slider-thumb{background:#65d6ad!important}.ISACalculator-module{width:100%;max-width:512px;border-radius:10px;overflow:hidden;margin:0 auto}.ISACalculator-module header{background:#19216c;color:#fff;font-family:Heebo,sans-serif;font-style:normal;font-weight:500;font-size:16px;display:flex;justify-content:center;align-items:center;padding:12px 0}.ISACalculator-module header h2{font-weight:400}.ISACalculator-module .body .slider-wrapper{background:#4c63b6;padding:20px 16px}.ISACalculator-module .body .slider-wrapper .titles{display:grid;grid-template-columns:1fr 1fr}.ISACalculator-module .body .slider-wrapper .titles h2{font-family:Heebo-Bold,sans-serif;font-style:normal;font-weight:500;font-size:14px;text-transform:uppercase;color:#bed0f7}.ISACalculator-module .body .slider-wrapper .titles p{color:#fff;font-family:Heebo-Bold,sans-serif;font-style:normal;font-weight:500;font-size:16px}.ISACalculator-module .body .slider-wrapper .future-bill{display:flex;justify-content:space-between;margin-top:20px;padding-top:20px;border-top:1px solid #ffffff33}.ISACalculator-module .body .slider-wrapper .future-bill label{font-family:Heebo,sans-serif;font-style:normal;font-weight:500;font-size:14px;text-transform:uppercase;color:#bed0f7}.ISACalculator-module .body .slider-wrapper .future-bill p{color:#fff;font-family:Heebo-Bold,sans-serif;font-style:normal;font-weight:500;font-size:16px}.Slider-component{height:20px;display:flex;align-items:center;margin-top:20px}.empty-line{height:4px;width:100%;background:#ffffff4d;border-radius:3px;display:flex;justify-content:center}.line{width:100%}\"\r\n  const pe=document.getElementById(\"commit-muse-calc\").parentElement;let _percentage=${__percentage},_months=${__months},_max=${__max},_current_income=${__current_income},_future_income=${__future_income},bill=_percentage/100*_future_income*(_months/12);const set_bill=(e,n)=>(bill=_percentage/100*n*(_months/12),n>_max&&(bill=_max),bill>e&&(bill=0),document.getElementById(\"bill\").innerText=bill.toFixed(2).toString()),currentChange=e=>{const n=Number(e.target.value);_current_income=n,document.getElementById(\"current\").innerText=e.target.value,set_bill(n,_future_income)},futureChange=e=>{const n=Number(e.target.value);_future_income=n,document.getElementById(\"future\").innerText=e.target.value,set_bill(_current_income,n)},calc=\\`\\\\n<section class=\"ISACalculator-module\">\\\\n  <style>\\\\n  \\${style}\\\\n  </style>\\\\n  <header>\\\\n  <h2>ISA Calculator</h2>\\\\n</header>\\\\n<div class=\"body\">\\\\n  <div class=\"slider-wrapper\">\\\\n  <div class=\"titles\">\\\\n  <div>\\\\n  <h2>current income</h2>\\\\n<p><span id=\"current\">\\${_current_income}</span>K / YEAR</p>\\\\n  </div>\\\\n  <div>\\\\n  <h2>future income</h2>\\\\n<p><span id=\"future\">\\${_future_income}</span>K / YEAR</p>\\\\n  </div>\\\\n  </div>\\\\n\\\\n  <section class=\"Slider-component\">\\\\n  <div class=\"empty-line\">\\\\n  <input onchange=\"currentChange(event)\" class=\"line\" value=\"\\${_current_income}\" min=\"0\" max=\"200\" step=\"1\" id=\"current_amount\" type=\"range\" />\\\\n  <input onchange=\"futureChange(event)\" class=\"line\" value=\"\\${_future_income}\" min=\"0\" max=\"200\" step=\"1\" id=\"future_amount\" type=\"range\" />\\\\n  </div>\\\\n  </section>\\\\n\\\\n  <div class=\"future-bill\">\\\\n  <label>Future Bill</label>\\\\n<p>$<span id=\"bill\">\\${bill}</span>K / YEAR (\\${_percentage}%)</p>\\\\n  </div>\\\\n  </div>\\\\n  </div>\\\\n\\\\n  </section>\\\\n  \\`;pe.insertAdjacentHTML(\"beforeend\",calc);\r\n</script>\r\n`\r\n)\r\n\r\nexport const createEl = <P extends DOMAttributes<T>, T extends Element>(el: string, child: any, props?: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement> | null) => child && React.createElement(`${el}`, props, child)\r\n\r\nexport const makeName = (u: User) => u ? u.first_name + ' ' + u.last_name : ''\r\n\r\n// helper to check if value is number\r\nexport const intOrFloat = (value: string) =>\r\n  /^(?=.)([+-]?([0-9]*)(\\.([0-9]+))?)$/.test(value) || value === '' || value[value.length - 1] === '.'\r\n\r\nexport const roundK = (val: number) => Math.round((val + Number.EPSILON) * 100) / 100","import * as React from 'react'\r\nimport { CSSProperties } from 'react'\r\nimport styled from 'styled-components'\r\nimport { SYSTEM_COLORS } from '../../../constants/system'\r\nimport { fixClass } from '../../../helpers/base'\r\nimport './style.scss'\r\nimport Icon, { SystemIcons } from '../Icon'\r\n\r\nconst Btn = styled.button<any>`\r\n  // @ts-ignore\r\n  background: ${props => SYSTEM_COLORS[props.background]};\r\n  color: ${props => props.color || 'white'};\r\n  :hover {\r\n    // @ts-ignore\r\n    background: ${props => SYSTEM_COLORS[props.background.replace('Main', 'Hover')]};\r\n  }\r\n`\r\n\r\ntype ButtonBackground =\r\n  | 'MainPrimary'\r\n  | 'MainSecondary'\r\n  | 'MainSuccess'\r\n  | 'MainError'\r\n  | 'MainWarning'\r\n  | 'MainInfo'\r\n  | 'MainLight'\r\n  | 'MainWhite'\r\n\r\ninterface ButtonProps {\r\n  children: any\r\n  onClick?: any\r\n  className?: string\r\n  background?: ButtonBackground\r\n  color?: string\r\n  style?: CSSProperties\r\n  disabled?: boolean\r\n  loading?: boolean\r\n  icon?: SystemIcons\r\n}\r\n\r\nexport default function Button(props: ButtonProps) {\r\n  return (\r\n    <Btn\r\n      className={`Button-component${fixClass(props.className)}`}\r\n      style={props.style}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled || props.loading}\r\n      background={props.background || 'MainPrimary'}\r\n      color={['MainLight', 'MainWhite'].includes(props.background || '') ? SYSTEM_COLORS.Title : props.color}\r\n    >\r\n      {props.loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          {props.children} {props.icon && <Icon icon={props.icon} style={{ marginLeft: 6 }} />}\r\n        </>\r\n      )}\r\n    </Btn>\r\n  )\r\n}\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"lds-ring\">\r\n      <div />\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </div>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { User } from '../../../../interfaces/baseIntefaces'\r\nimport Icon from '../../../components/Icon'\r\nimport Button from '../../../components/Button'\r\nimport { useState } from 'react'\r\nimport AuthService from '../../../../services/auth.service'\r\nimport { log } from '../../../../services/logging.service'\r\n\r\ninterface PageHeaderProps {\r\n  user?: User\r\n}\r\n\r\nexport default function PageHeader(props: PageHeaderProps) {\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <>\r\n      <header className=\"PageHeader-module\">\r\n        <nav>\r\n          <div className=\"logo\" onClick={() => history.push('/my-isa')}>\r\n            <img src=\"/web/assets/images/logo.png\" alt=\"logo\" />\r\n          </div>\r\n          {props.user && props.user.user_role === 1 && <Link className=\"switch\" to={'/admin/users'}>Admin portal</Link>}\r\n          <div className=\"profile\">\r\n            {props.user ? (\r\n              <>\r\n                <Icon icon=\"bell\" className=\"notification\" />\r\n                <Link to=\"/settings\">\r\n                  <Icon icon=\"gear\" /> Settings\r\n                </Link>\r\n                <div className=\"auth-menu\">\r\n                  {props.user.profile_picture_link && props.user.profile_picture_link.length > 6 ? (\r\n                    <img src={props.user.profile_picture_link} className=\"profile_pic\" alt=\"profile_pic\" />\r\n                  ) : (\r\n                    <Icon className=\"profile_pic\" icon=\"person\" />\r\n                  )}\r\n                  <Icon icon=\"caret-down\" />\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <Link to=\"/login\">\r\n                <Button>Sign in</Button>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </nav>\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n","import ENVIRONMENT from './current_environment'\r\n\r\nexport type ENVs = 'staging' | 'production' | 'dev'\r\n\r\nconst ENV = {\r\n  dev: {\r\n    MAIN_API: 'http://localhost:5000/',\r\n  },\r\n  staging: {\r\n    MAIN_API: 'https://staging.commitmuse.com/',\r\n  },\r\n  production: {\r\n    MAIN_API: 'https://commitmuse.herokuapp.com/',\r\n  },\r\n}\r\n\r\nconst currentEnv = () => ENV[ENVIRONMENT]\r\n\r\nexport default currentEnv\r\n\r\n","const logsEnabled = true\r\n\r\nexport const log = (message?: any, ...optionalParams: any[]) => {\r\n  if (logsEnabled) {\r\n    console.log(message, ...optionalParams)\r\n  }\r\n}\r\n","import currentEnv from '../config/environment'\r\nimport { objectToUrlParams } from '../helpers/base'\r\nimport { log } from './logging.service'\r\n\r\ntype PostAPIs = 'register' | 'login' | 'user' | 'isas' | 'plaid/items' | 'companies'\r\n\r\ntype PatchAPIs = 'register' | 'login' | 'user' | string\r\n\r\ntype GetAPIs = 'logout' | 'user' | 'check-auth' | string\r\n\r\nexport default class BaseService {\r\n  public MAIN_API = currentEnv().MAIN_API\r\n\r\n  private handleError = (res: { error: { any: string[] } | string }) => {\r\n    if (typeof res.error === 'string') return res\r\n    const values = Object.values(res.error)\r\n    const keys = Object.keys(res.error)\r\n    const err = {\r\n      error: keys\r\n        .map((key, i) => {\r\n          const message = Array.isArray(values[i]) ? values[i].join(', ') : Object.values(values[i]).join(', ')\r\n          return key + ': ' + message\r\n        })\r\n        .join('\\n'),\r\n    }\r\n    log('Error in handleError method in BaseService', err)\r\n    return err\r\n  }\r\n\r\n  // check if type of response is JSON\r\n  private handleResponseType = async (res: Response) => {\r\n    const contentType = res.headers.get('content-type')\r\n    if (contentType && contentType.indexOf('application/json') !== -1) {\r\n      return await res.json()\r\n    } else {\r\n      log('Received type is not JSON but *: ', await res.text())\r\n      return null\r\n    }\r\n  }\r\n\r\n  // define request headers\r\n  private headers = () => {\r\n    return {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Headers': '*',\r\n    }\r\n  }\r\n\r\n  getJSON = async (url: GetAPIs, params?: object) => {\r\n    const res = await fetch(this.MAIN_API + url + `${objectToUrlParams(params)}`, {\r\n      method: 'GET',\r\n      headers: this.headers(),\r\n      credentials: 'include',\r\n    })\r\n    const response = await this.handleResponseType(res)\r\n    if (response && response.error) {\r\n      return this.handleError(response)\r\n    }\r\n    return response\r\n  }\r\n\r\n  postJSON = async (url: PostAPIs, data: any, saveCookie?: boolean) => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: 'POST',\r\n        headers: this.headers(),\r\n        body: JSON.stringify(data),\r\n        credentials: 'include',\r\n      })\r\n\r\n      if (saveCookie) {\r\n        log(res)\r\n      }\r\n\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error) {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing postJSON in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n\r\n  patchJSON = async (url: PatchAPIs, data: any) => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: 'PATCH',\r\n        headers: this.headers(),\r\n        body: JSON.stringify(data),\r\n        credentials: 'include',\r\n      })\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error && typeof response.error === 'object') {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing patchJSON in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n\r\n  deleteJSON = async (url: string, data: any) => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: 'DELETE',\r\n        headers: this.headers(),\r\n        body: JSON.stringify(data),\r\n        credentials: 'include',\r\n      })\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error && typeof response.error === 'object') {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing patchJSON in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n\r\n  postFormData = async (url: string, data: FormData, method?: 'post' | 'patch') => {\r\n    try {\r\n      const res = await fetch(this.MAIN_API + url, {\r\n        method: method || 'post',\r\n        credentials: 'include',\r\n        body: data,\r\n      })\r\n      const response = await this.handleResponseType(res)\r\n      if (response && response.error) {\r\n        return this.handleError(response)\r\n      }\r\n      return response\r\n    } catch (e) {\r\n      log('Error doing postFormData in base.service.ts: ', e)\r\n      throw e\r\n    }\r\n  }\r\n}\r\n","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class IsaService {\r\n\r\n  public async getIsas() {\r\n    return await baseService.getJSON('isas')\r\n  }\r\n\r\n  public async create(isa: any) {\r\n    return await baseService.postJSON('isas', isa)\r\n  }\r\n\r\n  public async getIsaById(isa_id: number) {\r\n    return await baseService.getJSON(`isas/${isa_id}`)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { createEl } from '../../../../helpers/base'\r\n\r\ninterface PageContentProps {\r\n  children: React.ReactChild | React.ReactChild[]\r\n  title?: string | React.ReactElement\r\n}\r\n\r\nexport default function PageContent(props: PageContentProps) {\r\n  return (\r\n    <section className=\"PageContent-module\">\r\n      <div className=\"top-wrapper\" />\r\n      <section className=\"content\">\r\n        {createEl('h1', props.title, { className: 'page-title' })}\r\n        {props.children}\r\n      </section>\r\n    </section>\r\n  )\r\n}","import React from 'react'\r\nimport './style.scss'\r\n\r\nconst status_colors: any = {\r\n  created: {\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  active: {\r\n    bg: '#C6F7E2',\r\n    text: '#147D64',\r\n  },\r\n  paying: {\r\n    bg: '#FFF3C4',\r\n    text: '#CB6E17',\r\n  },\r\n  completed: {\r\n    bg: '#BAE3FF',\r\n    text: '#0967D2',\r\n  },\r\n}\r\n\r\ntype IsaStatusProps = {\r\n  status: any\r\n  name: string\r\n  onClick(): void\r\n}\r\n\r\nexport default function IsaStatus(props: IsaStatusProps) {\r\n  return (\r\n    <div className=\"IsaStatus-module\" onClick={props.onClick}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        {props.status === 'paying' && (\r\n          <p\r\n            style={{\r\n              color: status_colors[props.status].text,\r\n            }}\r\n            className={props.status}\r\n          >\r\n            PAYING - 5K of 20K\r\n          </p>\r\n        )}\r\n        {props.status === 'completed' && (\r\n          <p\r\n            style={{\r\n              color: status_colors[props.status].text,\r\n            }}\r\n            className={props.status}\r\n          >\r\n            COMPLETED - 20K\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        // className={props.status + fixClass(props.status !== 'active' && 'round')}\r\n        className={props.status}\r\n        style={{\r\n          color: status_colors[props.status] ? status_colors[props.status].text : status_colors.status_colors.text,\r\n          background: status_colors[props.status] ? status_colors[props.status].bg : status_colors.status_colors.text,\r\n          borderColor: status_colors[props.status]\r\n            ? status_colors[props.status].text\r\n            : status_colors.status_colors.text,\r\n        }}\r\n      >\r\n        {/*{props.status === 'paying' && (*/}\r\n        {/*  <CircularProgressbar*/}\r\n        {/*    lineColor={status_colors[props.status].text}*/}\r\n        {/*    textColor={status_colors[props.status].text}*/}\r\n        {/*    value={25}*/}\r\n        {/*    text={`${25}%`}*/}\r\n        {/*  />*/}\r\n        {/*)}*/}\r\n        {/*{props.status === 'completed' && (*/}\r\n        {/*  <CircularProgressbar*/}\r\n        {/*    lineColor={status_colors[props.status].text}*/}\r\n        {/*    textColor={status_colors[props.status].text}*/}\r\n        {/*    value={100}*/}\r\n        {/*    text={`${100}%`}*/}\r\n        {/*  />*/}\r\n        {/*)}*/}\r\n        {props.status}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { useState } from 'react'\r\nimport { notEmptyArray, fixClass } from '../../../helpers/base'\r\nimport Icon, { SystemIcons } from '../Icon'\r\n\r\ninterface SelectProps {\r\n  value: string\r\n  options: string[] | null | undefined\r\n  onChange(option: string): void\r\n  placeholder: string\r\n  label?: string\r\n  error?: string\r\n  disabled?: boolean\r\n  icon?: SystemIcons\r\n}\r\n\r\nexport default function Select(props: SelectProps) {\r\n  const [showOptions, setShowOptions] = useState(false)\r\n  const isError = props.error && props.error.length > 0\r\n  return (\r\n    <div className={`Select-component${fixClass(isError && 'has-error')}${fixClass(props.disabled && 'disabled')}`}>\r\n      {props.label && <label>{props.label}</label>}\r\n      <div\r\n        onClick={() => !props.disabled && setShowOptions(!showOptions)}\r\n        className={`placeholder ${!!props.value ? 'value' : ''}`}\r\n      >\r\n        {props.icon && <Icon className=\"selected-icon\" icon={props.icon} />}\r\n\r\n        <div className=\"select-container\">\r\n          <div className={`ripple${fixClass(!!props.value && 'focused')}`}>{props.placeholder}</div>\r\n          {props.value || props.placeholder}\r\n        </div>\r\n        <Icon className=\"caret_down\" icon=\"select_down\" />\r\n        {showOptions && notEmptyArray(props.options) && (\r\n          <div className=\"options\">\r\n            {props.options!.map((option, index) => (\r\n              <div\r\n                className={`option${fixClass(option === props.value && 'selected')}`}\r\n                key={index}\r\n                onClick={() => {\r\n                  setShowOptions(false)\r\n                  props.onChange(option)\r\n                }}\r\n              >\r\n                {option}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showOptions && <div onClick={() => setShowOptions(!showOptions)} className=\"overlay\" />}\r\n      {isError && <p className=\"error\">{props.error}</p>}\r\n    </div>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport './style.scss'\r\nimport { fixClass } from '../../../helpers/base'\r\n\r\ntype MessageType = {\r\n  type: 'alert' | 'info'\r\n  text: string\r\n}\r\n\r\ninterface MessageProps {\r\n  message: MessageType | string\r\n  background?: string\r\n  static?: boolean\r\n  onClick?: () => void\r\n}\r\n\r\nconst Message = (props: MessageProps) => {\r\n  if (!props.message) return null\r\n  return typeof props.message === 'string' ? (\r\n    <div\r\n      className={`Message-component alert${fixClass(props.static && 'static')}`}\r\n      style={props.background ? { background: props.background } : {}}\r\n    >\r\n      {props.message}\r\n    </div>\r\n  ) : (\r\n    <div className={`Message-component info${fixClass(props.static && 'static')}`}>\r\n      <h2>Info</h2>\r\n      <p>{props.message.text}</p>\r\n      {props.onClick && (\r\n        <div>\r\n          <button onClick={props.onClick}>OK</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Icon from './Icon'\r\n\r\ninterface LoaderProps {}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  img {\r\n    width: 40px;\r\n    position: relative;\r\n    top: -77px;\r\n  }\r\n  svg {\r\n    -webkit-transform-origin: 50% 65%;\r\n    transform-origin: 50% 65%;\r\n  }\r\n\r\n  svg polygon {\r\n    stroke-dasharray: 17;\r\n    -webkit-animation: dash 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\r\n    animation: dash 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\r\n  }\r\n\r\n  @-webkit-keyframes dash {\r\n    to {\r\n      stroke-dashoffset: 136;\r\n    }\r\n  }\r\n\r\n  @keyframes dash {\r\n    to {\r\n      stroke-dashoffset: 136;\r\n    }\r\n  }\r\n  @-webkit-keyframes rotate {\r\n    100% {\r\n      -webkit-transform: rotate(360deg);\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @keyframes rotate {\r\n    100% {\r\n      -webkit-transform: rotate(360deg);\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`\r\n\r\nexport default function Loader(props: LoaderProps) {\r\n  return (\r\n    <Wrapper>\r\n      <svg id=\"triangle\" width=\"150px\" height=\"150px\" viewBox=\"-3 -4 39 39\">\r\n        <polygon fill=\"#FFFFFF\" stroke=\"#954bde\" strokeWidth=\"1\" points=\"16,0 32,32 0,32\" />\r\n      </svg>\r\n      <Icon icon=\"logo\" />\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\nimport Icon from '../../../../components/Icon'\r\nimport { notEmptyArray } from '../../../../../helpers/base'\r\nimport IsaService from '../../../../../services/isa.service'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport { Link } from 'react-router-dom'\r\nimport IsaStatus from '../../../../modules/company/MyIsa/IsaStatus'\r\nimport Select from '../../../../components/Select/Select'\r\nimport Message from '../../../../components/Message'\r\nimport Loader from '../../../../components/Loader'\r\n\r\nconst isaService = new IsaService()\r\n\r\ninterface MyIsa extends ScreenProps {}\r\n\r\nexport default function MyIsa(props: MyIsa) {\r\n  const [filter, set_filter] = useState('')\r\n  const [isas, set_isas] = useState<any[]>([])\r\n  const [request_error, set_request_error] = useState('')\r\n  const [loading, set_loading] = useState(true)\r\n\r\n  const getIsas = async () => {\r\n    set_loading(true)\r\n\r\n    try {\r\n      const res = await isaService.getIsas()\r\n\r\n      if (res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n      set_loading(false)\r\n      set_isas(res)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    getIsas()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"MyIsa-page\">\r\n      <PageHeader user={props.currentUser} />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <PageContent>\r\n          <header className=\"page-header\">\r\n            <h1 className=\"page-title\">My ISAs</h1>\r\n            {notEmptyArray(isas) && (\r\n              <Select\r\n                value={filter}\r\n                options={['View all', 'active', 'paying', 'completed']}\r\n                onChange={e => set_filter(e)}\r\n                placeholder={'View all'}\r\n              />\r\n            )}\r\n          </header>\r\n          {notEmptyArray(isas) ? (\r\n            <section className=\"my_isa\">\r\n              {isas\r\n                .filter((i: any) => i.status.includes(filter === 'View all' ? '' : filter))\r\n                .map((isa: any, index: number) => (\r\n                  <IsaStatus\r\n                    onClick={() => props.history.push('/isa/' + isa.id)}\r\n                    key={index}\r\n                    name={isa.student.first_name + ' ' + isa.student.last_name}\r\n                    status={isa.status}\r\n                  />\r\n                ))}\r\n              <Link to=\"isa/create\" className=\"new_isa\">\r\n                <Icon icon=\"new_isa_plus\" />\r\n                NEW ISA\r\n              </Link>\r\n            </section>\r\n          ) : (\r\n            <section className=\"empty-isa\">\r\n              <div className=\"icon\">\r\n                <Icon icon=\"empty_isa\" />\r\n              </div>\r\n              <h2>You have no ISA offers.</h2>\r\n              <div className=\"text_with_icon\">\r\n                <p>Start by creating a new one.</p>\r\n                <Icon icon=\"arrow_to_button\" />\r\n              </div>\r\n              <Link to=\"isa/create\" className=\"new_isa\">\r\n                <Icon icon=\"new_isa_plus\" />\r\n                NEW ISA\r\n              </Link>\r\n            </section>\r\n          )}\r\n        </PageContent>\r\n      )}\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../Icon'\r\n\r\ninterface TooltipBadgeProps {\r\n  tooltip: string\r\n  label: string\r\n}\r\n\r\nexport default function TooltipBadge(props: TooltipBadgeProps) {\r\n  const [show, set_show] = useState(false)\r\n  const icon = show ? `/web/assets/icons/question-circle-active.svg` : `/web/assets/icons/question-circle.svg`\r\n  return (\r\n    <div className=\"TooltipBadge-component\">\r\n      <label onClick={() => set_show(!show)}>{props.label}</label>\r\n      <div onClick={() => set_show(!show)} className=\"question_circle\">\r\n        <img alt=\"circle\" src={icon} />\r\n        {show && (\r\n          <div className=\"tooltip\">\r\n            {props.tooltip} <Icon icon=\"tooltip_arrow\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { isNumber } from '../../../../helpers/base'\r\nimport TooltipBadge from '../../../components/TooltipBadge'\r\n\r\ninterface BoardingFieldProps {\r\n  label: string\r\n  value: number\r\n  onChange(e: number): void\r\n  suffix: string\r\n  tooltip: string\r\n}\r\n\r\nexport default function BoardingField(props: BoardingFieldProps) {\r\n  return (\r\n    <div className=\"BoardingField-module\">\r\n      <TooltipBadge label={props.label} tooltip={props.tooltip} />\r\n      <div className=\"input\">\r\n        <input\r\n          type=\"text\"\r\n          value={props.value}\r\n          onChange={e => isNumber(e.target.value) && props.onChange(Number(e.target.value))}\r\n        />\r\n        <span>{props.suffix}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../../../components/Icon'\r\nimport { embedCalculator, roundK } from '../../../../helpers/base'\r\nimport Message from '../../../components/Message'\r\nimport { SYSTEM_COLORS } from '../../../../constants/system'\r\n\r\ninterface ISACalculatorProps {\r\n  current_income: number\r\n  percentage: number\r\n  months: number\r\n  max: number\r\n}\r\n\r\nexport default function ISACalculator(props: ISACalculatorProps) {\r\n  const [copied_to_clipboard, set_copied_to_clipboard] = useState(false)\r\n  const [current_income, set_current_income] = useState(props.current_income)\r\n  const [future_income, set_future_income] = useState(125)\r\n\r\n  useEffect(() => {\r\n    set_current_income(props.current_income / 1000)\r\n  }, [props.current_income])\r\n\r\n  const future_bill = () => {\r\n    let bill = ((props.percentage / 100) * future_income) * (props.months / 12)\r\n\r\n    if (future_income > props.max) {\r\n      bill = props.max\r\n    }\r\n\r\n    if (bill > current_income) {\r\n      bill = 0\r\n    }\r\n\r\n    if (future_income < current_income) {\r\n      bill = 0\r\n    }\r\n\r\n    return Math.round(bill)\r\n  }\r\n\r\n  const handleCopy = () => {\r\n    embedCalculator(props.percentage, props.months, props.max, current_income, future_income)\r\n    set_copied_to_clipboard(true)\r\n    return setTimeout(() => set_copied_to_clipboard(false), 2000)\r\n  }\r\n\r\n  return (\r\n    <section className=\"ISACalculator-module\">\r\n      <header>\r\n        <h2>ISA CALCULATOR</h2>\r\n      </header>\r\n\r\n      <div className=\"body\">\r\n        <div className=\"slider-wrapper\">\r\n          <div className=\"titles\">\r\n            <div>\r\n              <h2>current income</h2>\r\n              <p>${roundK(current_income)}K / YEAR</p>\r\n            </div>\r\n            <div style={{ textAlign: 'right' }}>\r\n              <h2>future income</h2>\r\n              <p>${roundK(future_income)}K / YEAR</p>\r\n            </div>\r\n          </div>\r\n\r\n          <section className=\"slider\">\r\n            <input onChange={e => set_current_income(Number(e.target.value))} className=\"line\" value={current_income} min={0} max={200} step={1} type=\"range\" />\r\n            <input onChange={e => set_future_income(Number(e.target.value))} className=\"line\" id=\"future_amount\" value={future_income} min={0} max={200} step={1} type=\"range\" />\r\n          </section>\r\n\r\n          <div className=\"future-bill\">\r\n            <label>Future Bill</label>\r\n            <p>${roundK(future_bill())}K ({props.percentage}%)</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <footer>\r\n        <p>Embed this calculator in your website:</p>\r\n        <button onClick={handleCopy}>\r\n          <Icon icon=\"code\" />\r\n          copy code\r\n        </button>\r\n      </footer>\r\n      {copied_to_clipboard && <Message message=\"Copied to clipboard!\" background={SYSTEM_COLORS.MainSuccess} />}\r\n    </section>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../../../../components/Icon'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport BoardingField from '../../../../modules/on-boarding/BoardingField'\r\nimport TooltipBadge from '../../../../components/TooltipBadge'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\nimport ISACalculator from '../../../../modules/on-boarding/ISACalculator'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\n\r\ninterface OnBoardingProps extends ScreenProps {}\r\n\r\nconst tooltip = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.'\r\n\r\nexport default function OnBoarding(props: OnBoardingProps) {\r\n  const [pricing, set_pricing] = useState<'total' | 'raise'>('total')\r\n  const [percentage, set_percentage] = useState(17)\r\n  const [risk_assessment, set_risk_assessment] = useState(20)\r\n  const [pay_time, set_pay_time] = useState(7)\r\n  const [pay_maximum, set_pay_maximum] = useState(10000)\r\n\r\n  return (\r\n    <article className=\"OnBoarding-page\">\r\n      <PageHeader user={props.currentUser} />\r\n        <PageContent>\r\n        <section className=\"form_wrapper\">\r\n          <header>\r\n            <h1>\r\n              {props.currentUser.first_name} {props.currentUser.last_name}\r\n            </h1>\r\n            <h2>Hourly Rate {props.currentUser.hourly_rate} USD</h2>\r\n            <Icon icon=\"pencil\" />\r\n          </header>\r\n          <footer>\r\n            <div className=\"pricing\">\r\n              <TooltipBadge label=\"Pricing\" tooltip={tooltip} />\r\n              <div className=\"selects\">\r\n                <button onClick={() => set_pricing('total')} className={pricing === 'total' ? 'active' : ''}>\r\n                  From total income\r\n                </button>\r\n                <button onClick={() => set_pricing('raise')} className={pricing !== 'total' ? 'active' : ''}>\r\n                  From new raise\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"fields percents\">\r\n              <BoardingField\r\n                label=\"Percentage to be Paid\"\r\n                value={percentage}\r\n                onChange={e => set_percentage(e)}\r\n                tooltip={tooltip}\r\n                suffix=\"%\"\r\n              />\r\n              <BoardingField\r\n                label=\"Risk assessment\"\r\n                value={risk_assessment}\r\n                onChange={e => set_risk_assessment(e)}\r\n                tooltip={tooltip}\r\n                suffix=\"%\"\r\n              />\r\n            </div>\r\n            <div className=\"fields amount\">\r\n              <BoardingField\r\n                tooltip={tooltip}\r\n                label=\"Time to be paid\"\r\n                value={pay_time}\r\n                onChange={e => set_pay_time(e)}\r\n                suffix=\"Months\"\r\n              />\r\n              <BoardingField\r\n                tooltip={tooltip}\r\n                label=\"MAXIMUM TO BE PAID\"\r\n                value={pay_maximum}\r\n                onChange={e => set_pay_maximum(e)}\r\n                suffix=\"USD\"\r\n              />\r\n            </div>\r\n\r\n            <section className=\"message\">\r\n              <TooltipBadge label=\"Isa assessment\" tooltip={tooltip} />\r\n              <h2>This ISA looks good!</h2>\r\n            </section>\r\n          </footer>\r\n        </section>\r\n        <ISACalculator percentage={percentage} months={pay_time} max={pay_maximum} current_income={10000} />\r\n        </PageContent>\r\n    </article>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Icon from '../Icon'\r\nimport { fixClass } from '../../../helpers/base'\r\n\r\ninterface ExpansionPanelProps {\r\n  title: string\r\n  content: any\r\n  isOpen?: boolean\r\n}\r\n\r\nexport default function ExpansionPanel(props: ExpansionPanelProps) {\r\n  const [isOpen, set_isOpen] = useState(props.isOpen || false)\r\n  return (\r\n    <section className=\"ExpansionPanel-component\">\r\n      <div className={`question${fixClass(isOpen && 'is-open')}`} onClick={() => set_isOpen(!isOpen)}>\r\n        <Icon icon=\"chevron-right\" />\r\n        <h2>{props.title}</h2>\r\n      </div>\r\n      <div className={`answer${fixClass(isOpen && 'is-open')}`}>{props.content}</div>\r\n    </section>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport ExpansionPanel from '../../../../components/ExpansionPanel'\r\nimport ISACalculator from '../../../on-boarding/ISACalculator'\r\n\r\ninterface FAQProps {\r\n  current_income: number\r\n  percentage: number\r\n  months: number\r\n  maximum: number\r\n}\r\n\r\nexport default function FAQ(props: FAQProps) {\r\n\r\n  const FAQs = [\r\n    {\r\n      title: 'How does it work?',\r\n      isOpen: true,\r\n      content: (\r\n        <>\r\n          <p style={{marginBottom: 20}}>\r\n            Income Share Agreements (ISAs) relieve the upfront financial burden of a student. The educator agrees to a\r\n            contract where the student does not pay tuition until they secure a salary. Then, a fixed percentage of their\r\n            income is paid to the educator via the app for a fixed duration. It is not a traditional loan or grant, and\r\n            there is no principal balance or interest rate.\r\n          </p>\r\n          <ISACalculator current_income={props.current_income} percentage={props.percentage} months={props.months} max={props.maximum}/>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Am I allowed to cancel the ISA?',\r\n      content: (\r\n        <p>\r\n          There is an allotted cancellation period that the student is allowed to utilize in the case that they choose to\r\n          cancel the contract. After that allotment, the contract can only be cancelled if the educator agrees to it.\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: 'May I repay my ISA early?',\r\n      content: <p>The ISA may be prepaid by paying the total payment cap that is stated in your disclosure.</p>,\r\n    },\r\n    {\r\n      title: 'Can someone hide their payments from me and pay less or not pay at all?',\r\n      content: (\r\n        <p>\r\n          Commit Muse will validate the students bank account as well as verify their income and taxes before the ISA is\r\n          complete. Therefore, they will not be able to hide or skip payments.\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: \"What happens when someone doesn't pay the ISA?\",\r\n      content: (\r\n        <p>\r\n          There is always a possibility of bad actors even if we take every precaution against them. In this case, we have\r\n          collection agencies who will ensure the money reaches the educator. For any further concerns, we would be happy\r\n          to talk!\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Is it legal?',\r\n      content: (\r\n        <p>\r\n          ISAs are 100% legal. According to CareerKarma, more than $500 million in ISAs will be generated in 2020 alone.\r\n        </p>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <section className=\"FAQ-module\">\r\n      <h2 className=\"faq-title\">Frequently Asked Questions</h2>\r\n      {FAQs.map((faq, i) => (\r\n        <ExpansionPanel key={i} title={faq.title} content={faq.content} isOpen={faq.isOpen} />\r\n      ))}\r\n    </section>\r\n  )\r\n}","import './style.scss'\r\nimport React, { CSSProperties, useState } from 'react'\r\nimport { fixClass } from '../../../helpers/base'\r\nimport Icon, { SystemIcons } from '../Icon'\r\n\r\ninterface InputProps {\r\n  onChange(e: string): void\r\n  value: string | number\r\n  placeholder?: string\r\n  error?: string\r\n  className?: string\r\n  postFix?: string\r\n  icon?: SystemIcons\r\n  style?: CSSProperties\r\n  type?: string\r\n  disabled?: boolean\r\n}\r\n\r\nexport default function Input(props: InputProps) {\r\n  const [visible, set_visible] = useState(props.type !== 'password')\r\n  const [rippled, set_rippled] = useState(false)\r\n  return (\r\n    <div\r\n      className={`Input-component${fixClass(props.error && 'has-error')}${fixClass(props.className)}${fixClass(\r\n        props.icon && 'with-icon',\r\n      )}${fixClass(rippled && 'rippled')}`}\r\n    >\r\n      {props.icon && <Icon icon={props.icon} />}\r\n      <div className=\"input-container\">\r\n        <div className={`ripple${fixClass((rippled || !!props.value) && 'focused')}`}>{props.placeholder}</div>\r\n        <input\r\n          onFocus={() => set_rippled(true)}\r\n          onBlur={() => {\r\n            !props.value && set_rippled(false)\r\n          }}\r\n          disabled={props.disabled}\r\n          type={visible ? 'text' : props.type || 'text'}\r\n          onChange={e => props.onChange(e.target.value)}\r\n          style={props.style}\r\n          placeholder={rippled ? '' : props.placeholder}\r\n          value={props.value}\r\n        />\r\n      </div>\r\n      {props.postFix && <div className=\"post-fix\">{props.postFix}</div>}\r\n      {props.type === 'password' && <Icon className=\"eye-icon\" onClick={() => set_visible(!visible)} icon=\"eye\" />}\r\n      {props.error && props.error.length > 0 && <p className=\"error\">{props.error}</p>}\r\n    </div>\r\n  )\r\n}\r\n","export const requiredFieldError = 'Field is required'\r\nexport const phoneNumberMustBeValid = 'Please enter a valid phone number'\r\nexport const emailErrorMessage = 'Please enter a valid email'\r\nexport const passwordLength = 'Must be at least 6 characters'\r\nexport const passwordMustMatch = 'Password must match'\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport TooltipBadge from '../../../components/TooltipBadge'\r\nimport { fixClass } from '../../../../helpers/base'\r\n\r\ninterface IsaAssessmentProps {\r\n  className?: string\r\n}\r\n\r\nexport default function IsaAssessment(props: IsaAssessmentProps) {\r\n  return (\r\n    <div className={`IsaAssessment-module${fixClass(props.className)}`}>\r\n      <TooltipBadge label=\"Isa assessment\" tooltip=\"good\" />\r\n      <p>This ISA looks good!</p>\r\n    </div>\r\n  )\r\n}","import './style.scss'\r\nimport { ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageHeader from '../../../../../modules/common/PageHeader'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport FAQ from '../../../../../modules/company/CreateIsa/FAQ'\r\nimport React, { useState } from 'react'\r\nimport { fixClass, isNumber, validateEmail } from '../../../../../../helpers/base'\r\nimport Input from '../../../../../components/Input'\r\nimport TooltipBadge from '../../../../../components/TooltipBadge'\r\nimport { emailErrorMessage } from '../../../../../../constants/auth'\r\nimport Button from '../../../../../components/Button'\r\nimport IsaService from '../../../../../../services/isa.service'\r\nimport Message from '../../../../../components/Message'\r\nimport IsaAssessment from '../../../../../modules/common/IsaAssessment'\r\n\r\nconst isaService = new IsaService()\r\n\r\nconst pricing = ['From total income', 'From new raise', 'Placement']\r\n\r\ntype IncomeKeys =\r\n  | 'description'\r\n  | 'percentage'\r\n  | 'time_to_be_paid'\r\n  | 'cap'\r\n  | 'cancellation_period'\r\n  | 'risk'\r\n  | 'current_income'\r\n\r\ninterface CreateIsaProps extends ScreenProps {}\r\n\r\nexport default function CreateIsa(props: CreateIsaProps) {\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n  const [selected_pricing, set_selected_pricing] = useState(pricing[0])\r\n\r\n  const [client, set_client] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  })\r\n\r\n  const [error, set_error] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  })\r\n\r\n  const [total_income, set_total_income] = useState({\r\n    description: '',\r\n    percentage: '17',\r\n    time_to_be_paid: '2',\r\n    cap: '10000',\r\n    cancellation_period: '2',\r\n    risk: '20',\r\n    current_income: '80000',\r\n  })\r\n\r\n  const setIncome = (e: string, key: IncomeKeys) => set_total_income({ ...total_income, [key]: e })\r\n\r\n  const notValid = () =>\r\n    Object.values(client).some(i => i === '') ||\r\n    Object.values(total_income).some(i => i === '') ||\r\n    !validateEmail(client.email)\r\n\r\n  const sendOffer = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await isaService.create({\r\n        current_income: removeComma(total_income.current_income),\r\n        percentage: Number(total_income.percentage),\r\n        cap: removeComma(total_income.cap),\r\n        cancellation_period_weeks: Number(total_income.cancellation_period),\r\n        time_to_be_paid: Number(total_income.time_to_be_paid),\r\n        status: 'created',\r\n        description: total_income.description,\r\n        client,\r\n        coach_id: props.currentUser.id,\r\n      })\r\n\r\n      if (res && res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n      set_loading(false)\r\n\r\n      return props.history.push(`/isa/${res.id}`)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const addComma = (str: string) => {\r\n    return Number(str.replace(/,/g, '')).toLocaleString()\r\n  }\r\n\r\n  const removeComma = (str: string) => {\r\n    return Number(str.replace(/,/g, ''))\r\n  }\r\n\r\n  return (\r\n    <article className=\"CreateIsa-page\">\r\n      <PageHeader user={props.currentUser} />\r\n      <PageContent title=\"New ISA Offer\">\r\n        <section className=\"container\">\r\n          <section className=\"client-info\">\r\n            <header>\r\n              <h2>Client Information</h2>\r\n              <Input\r\n                onChange={e => set_client({ ...client, first_name: e })}\r\n                value={client.first_name}\r\n                placeholder=\"First Name\"\r\n              />\r\n              <Input\r\n                onChange={e => set_client({ ...client, last_name: e })}\r\n                value={client.last_name}\r\n                placeholder=\"Last Name\"\r\n              />\r\n              <Input\r\n                className=\"email\"\r\n                error={error.email}\r\n                onChange={e => {\r\n                  set_error({ ...error, email: '' })\r\n                  set_client({ ...client, email: e })\r\n                  !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n                }}\r\n                value={client.email}\r\n                placeholder=\"Email Address\"\r\n              />\r\n            </header>\r\n            <footer>\r\n              <h2>Offer Details</h2>\r\n              <TooltipBadge label=\"Pricing\" tooltip=\"help text\" />\r\n              <div className=\"selects\">\r\n                {pricing.map((item, i) => (\r\n                  <button\r\n                    key={i}\r\n                    className={`${fixClass(selected_pricing === item && 'selected')}`}\r\n                    onClick={() => set_selected_pricing(item)}\r\n                  >\r\n                    {item}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div className=\"form\">\r\n                <Input\r\n                  onChange={e => setIncome(e, 'description')}\r\n                  placeholder=\"Description\"\r\n                  value={total_income.description}\r\n                />\r\n                {selected_pricing === 'From total income' && (\r\n                  <>\r\n                    <Input\r\n                      postFix=\"$\"\r\n                      onChange={e => setIncome(e, 'current_income')}\r\n                      placeholder=\"Current income\"\r\n                      value={addComma(total_income.current_income)}\r\n                    />\r\n                    <Input\r\n                      postFix=\"%\"\r\n                      onChange={e => isNumber(e) && Number(e) > 0 && Number(e) < 100 && setIncome(e, 'percentage')}\r\n                      placeholder=\"Percentage to be Paid\"\r\n                      value={total_income.percentage}\r\n                    />\r\n                    <Input\r\n                      postFix=\"Months\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'time_to_be_paid')}\r\n                      placeholder=\"Time to be Paid\"\r\n                      value={total_income.time_to_be_paid}\r\n                    />\r\n                    <Input\r\n                      postFix=\"USD\"\r\n                      onChange={e => setIncome(e, 'cap')}\r\n                      placeholder=\"Maximum to be paid\"\r\n                      value={addComma(total_income.cap)}\r\n                    />\r\n                    <Input\r\n                      postFix=\"Weeks\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'cancellation_period')}\r\n                      placeholder=\"Cancellation Period\"\r\n                      value={total_income.cancellation_period}\r\n                    />\r\n                    <Input\r\n                      postFix=\"%\"\r\n                      onChange={e => isNumber(e) && setIncome(e, 'risk')}\r\n                      placeholder=\"Risk Assessment\"\r\n                      value={total_income.risk}\r\n                    />\r\n                    {!notValid() && <IsaAssessment />}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </footer>\r\n            {selected_pricing.length > 0 && (\r\n              <div className=\"actions\">\r\n                <Button disabled={notValid()} onClick={sendOffer} loading={loading}>\r\n                  REVIEW and send offer\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          <FAQ\r\n            current_income={removeComma(total_income.current_income)}\r\n            percentage={Number(total_income.percentage)}\r\n            months={Number(total_income.time_to_be_paid)}\r\n            maximum={removeComma(total_income.cap)}\r\n          />\r\n        </section>\r\n      </PageContent>\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\nimport { formatEmail } from '../helpers/formattings'\r\n\r\nconst baseService = new BaseService()\r\n\r\ninterface User {\r\n  email: string\r\n  password: string\r\n}\r\n\r\nexport default class AuthService {\r\n  public async register(user: User) {\r\n      return await baseService.postJSON('register', user)\r\n  }\r\n\r\n  public async login(user: { password: string; email: string }) {\r\n    return await baseService.postJSON('login', { email: formatEmail(user.email), password: user.password })\r\n  }\r\n\r\n  public async signOut() {\r\n    return await baseService.getJSON('logout')\r\n  }\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const formatDate = (date: string) => moment(date).format('MM/DD/YYYY')\r\n\r\nexport const formatEmail = (email: string) => email.replace(/ /g, '').toLowerCase()\r\n","import React from 'react'\r\nimport { fixClass } from '../../../helpers/base'\r\nimport './style.scss'\r\nimport styled from 'styled-components'\r\n\r\nconst Options = styled.section<any>`\r\n  display: grid;\r\n  grid-template-columns: ${props => new Array(props.length).fill('1fr ').join('')};\r\n`\r\n\r\ninterface ButtonSelectProps {\r\n  options: string[]\r\n  selected: string\r\n  onSelect(option: string): void\r\n}\r\n\r\nexport default function ButtonSelect(props: ButtonSelectProps) {\r\n  return (\r\n    <Options length={props.options.length} className=\"ButtonSelect-component\">\r\n      {props.options.map((option, i) => (\r\n        <div onClick={() => props.onSelect(option)} className={`option${fixClass(option === props.selected && 'selected')}`} key={i}>\r\n          {option}\r\n        </div>\r\n      ))}\r\n    </Options>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Input from '../../../../components/Input'\r\nimport Icon from '../../../../components/Icon'\r\nimport { validateEmail } from '../../../../../helpers/base'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport AuthService from '../../../../../services/auth.service'\r\nimport { emailErrorMessage, passwordLength, passwordMustMatch, requiredFieldError } from '../../../../../constants/auth'\r\nimport Button from '../../../../components/Button'\r\nimport Message from '../../../../components/Message'\r\nimport { Link } from 'react-router-dom'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\nimport ButtonSelect from '../../../../components/ButtonSelect'\r\nimport { USER_TYPES } from '../../../../../constants/system'\r\n\r\nconst authService = new AuthService()\r\n\r\nexport default function SignUp(props: ScreenProps) {\r\n  const [user, set_user] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    password: '',\r\n    // type: 'company',\r\n  })\r\n\r\n  const [password_confirm, set_password_confirm] = useState('')\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const [error, set_error] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    password: '',\r\n    password_confirm: '',\r\n  })\r\n\r\n  const notValid = () =>\r\n    Object.values(user).some(i => i === '') ||\r\n    !validateEmail(user.email) ||\r\n    user.password.length < 6 ||\r\n    user.password !== password_confirm\r\n\r\n  const onSubmit = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await authService.register(user)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_loading(false)\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        await props.fetchUser()\r\n        set_loading(false)\r\n\r\n        return props.history.push('/my-isa')\r\n      }\r\n    } catch (e) {\r\n      set_loading(false)\r\n      log('Error on sign in: ', e)\r\n      set_request_error(e.error || e.toString)\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"SignUp-page\">\r\n      <PageContent>\r\n        <PageHeader user={props.currentUser} />\r\n        <h2>Register</h2>\r\n        <section className=\"form\">\r\n          <div className=\"fields\">\r\n            <Input\r\n              icon=\"account\"\r\n              placeholder=\"First Name *\"\r\n              error={error.first_name}\r\n              value={user.first_name}\r\n              onChange={e => {\r\n                set_error({ ...error, first_name: '' })\r\n                set_user({ ...user, first_name: e })\r\n                e.length < 1 && set_error({ ...error, first_name: requiredFieldError })\r\n              }}\r\n            />\r\n            <Input\r\n              icon=\"account\"\r\n              placeholder=\"Last Name *\"\r\n              error={error.last_name}\r\n              value={user.last_name}\r\n              onChange={e => {\r\n                set_error({ ...error, last_name: '' })\r\n                set_user({ ...user, last_name: e })\r\n                e.length < 1 && set_error({ ...error, last_name: requiredFieldError })\r\n              }}\r\n            />\r\n\r\n            <Input\r\n              className=\"full\"\r\n              icon=\"mail\"\r\n              placeholder=\"Email Address *\"\r\n              error={error.email}\r\n              value={user.email}\r\n              onChange={e => {\r\n                set_error({ ...error, email: '' })\r\n                set_user({ ...user, email: e })\r\n                !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n              }}\r\n            />\r\n            <Input\r\n              className=\"full\"\r\n              icon=\"key\"\r\n              placeholder=\"Password *\"\r\n              type=\"password\"\r\n              error={error.password}\r\n              value={user.password}\r\n              onChange={e => {\r\n                set_error({ ...error, password: '' })\r\n                set_user({ ...user, password: e })\r\n                e.length < 6 && set_error({ ...error, password: passwordLength })\r\n              }}\r\n            />\r\n            <Input\r\n              className=\"full\"\r\n              icon=\"key\"\r\n              placeholder=\"Confirm your password *\"\r\n              type=\"password\"\r\n              error={error.password_confirm}\r\n              value={password_confirm}\r\n              onChange={e => {\r\n                set_error({ ...error, password_confirm: '' })\r\n                set_password_confirm(e)\r\n                e !== user.password && set_error({ ...error, password_confirm: passwordMustMatch })\r\n              }}\r\n            />\r\n            <div className=\"select-type full\">\r\n              <label>I am a:</label>\r\n              <ButtonSelect\r\n                options={USER_TYPES}\r\n                selected={'company'}\r\n                onSelect={e => {\r\n                  // set_user({ ...user, type: e })\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <footer className=\"full\">\r\n            <p>\r\n              Already have an account? <Link to=\"/login\">Sign In</Link>\r\n            </p>\r\n\r\n            <Button disabled={notValid()} onClick={onSubmit} loading={loading}>\r\n              NEXT <Icon icon=\"arrow-right\" />{' '}\r\n            </Button>\r\n          </footer>\r\n        </section>\r\n      </PageContent>\r\n      {request_error.length > 0 && <Message message={request_error} />}\r\n    </article>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Input from '../../../../components/Input'\r\nimport Icon from '../../../../components/Icon'\r\nimport { validateEmail } from '../../../../../helpers/base'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport AuthService from '../../../../../services/auth.service'\r\nimport { emailErrorMessage, passwordLength } from '../../../../../constants/auth'\r\nimport Button from '../../../../components/Button'\r\nimport Message from '../../../../components/Message'\r\nimport { Link } from 'react-router-dom'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\n\r\nconst authService = new AuthService()\r\n\r\nexport default function SignIn(props: ScreenProps) {\r\n  const [user, set_user] = useState({\r\n    email: '',\r\n    password: '',\r\n  })\r\n\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const [error, set_error] = useState({\r\n    email: '',\r\n    password: '',\r\n  })\r\n\r\n  const notValid = () =>\r\n    Object.values(user).some(i => i === '') || !validateEmail(user.email) || user.password.length < 6\r\n\r\n  const onSubmit = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await authService.login(user)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_loading(false)\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        await props.fetchUser()\r\n        set_loading(false)\r\nconsole.log('res', res)\r\n        if (res.user_role === 1) {\r\n          return props.history.push('admin/users')\r\n        } else {\r\n          return props.history.push('/my-isa')\r\n        }\r\n      }\r\n    } catch (e) {\r\n      set_loading(false)\r\n      log('Error on sign in: ', e)\r\n      set_request_error(e.error || e.toString)\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"SignIn-page\">\r\n      <PageContent>\r\n        <PageHeader user={props.currentUser}/>\r\n        <h2>Login</h2>\r\n        <section className=\"form\">\r\n          <div className=\"fields\">\r\n            <Input\r\n              icon=\"mail\"\r\n              placeholder=\"Email Address\"\r\n              error={error.email}\r\n              value={user.email}\r\n              onChange={e => {\r\n                set_error({ ...error, email: '' })\r\n                set_user({ ...user, email: e })\r\n                !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\r\n              }}\r\n            />\r\n            <Input\r\n              icon=\"key\"\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              error={error.password}\r\n              value={user.password}\r\n              onChange={e => {\r\n                set_error({ ...error, password: '' })\r\n                set_user({ ...user, password: e })\r\n                e.length < 6 && set_error({ ...error, password: passwordLength })\r\n              }}\r\n            />\r\n          </div>\r\n          <footer className=\"full\">\r\n            <p>\r\n              Don't have an account?{' '}\r\n              <Link to=\"/register\">Sign Up</Link>\r\n            </p>\r\n\r\n            <Button disabled={notValid()} onClick={onSubmit} loading={loading}>\r\n              Login <Icon icon=\"arrow-right\" />{' '}\r\n            </Button>\r\n          </footer>\r\n        </section>\r\n      </PageContent>\r\n      {request_error.length > 0 && <Message message={request_error} />}\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport './style.scss'\r\nimport { fixClass } from '../../../helpers/base'\r\n\r\ninterface FieldProps {\r\n  children: any\r\n  title: string\r\n  className?: string\r\n}\r\n\r\nexport default function Field(props: FieldProps) {\r\n  return (\r\n    <div className={`Field-component${fixClass(props.className)}`}>\r\n      <label>{props.title}</label>\r\n      <p>{props.children}</p>\r\n    </div>\r\n  )\r\n}","import * as React from 'react'\r\nimport './style.scss'\r\nimport { notEmptyArray } from '../../../helpers/base'\r\n\r\ninterface TabsProps {\r\n  tabs: string[]\r\n  activeTab: string\r\n  onChange(tabs: string): void\r\n}\r\n\r\nexport default function Tabs(props: TabsProps) {\r\n  return (\r\n    <div className=\"Tabs-module\">\r\n      {notEmptyArray(props.tabs) &&\r\n        props.tabs.map((tab, index) => {\r\n          const isActive = tab.toLowerCase() === props.activeTab.toLowerCase()\r\n          return (\r\n            <div\r\n              style={\r\n                isActive\r\n                  ? {\r\n                      color: '#19216C',\r\n                      borderColor: '#19216C',\r\n                    }\r\n                  : undefined\r\n              }\r\n              onClick={() => props.onChange(tab)}\r\n              key={index}\r\n            >\r\n              {tab}\r\n            </div>\r\n          )\r\n        })}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { status_colors } from '../../../../constants/system'\r\nimport { fixClass } from '../../../../helpers/base'\r\n\r\ninterface StatusProps {\r\n  selected: 'created' | 'active' | 'paying' | 'completed'\r\n}\r\n\r\nexport default function Status(props: StatusProps) {\r\n  const className = status_colors.find(s => s.label === props.selected)\r\n  return (\r\n    <section className=\"Status-module\">\r\n      {status_colors.map((status, i) => (\r\n        <div\r\n          className={`status${fixClass(className && className.label === status.label && 'selected')}${fixClass(\r\n            className && className.label,\r\n          )}`}\r\n          key={i}\r\n        >\r\n          {status.label}\r\n        </div>\r\n      ))}\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageHeader from '../../../../../modules/common/PageHeader'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport Field from '../../../../../components/Field'\r\nimport Tabs from '../../../../../components/Tabs'\r\nimport Status from '../../../../../modules/common/Status'\r\nimport IsaService from '../../../../../../services/isa.service'\r\nimport Loader from '../../../../../components/Loader'\r\nimport { makeName } from '../../../../../../helpers/base'\r\nimport Message from '../../../../../components/Message'\r\n\r\ninterface IsaOverviewProps extends ScreenProps {\r\n  match: any\r\n}\r\n\r\nconst isaService = new IsaService()\r\n\r\nexport default function IsaOverview(props: IsaOverviewProps) {\r\n  const [isa, set_isa] = useState<any>([])\r\n  const [active_tab, set_active_tab] = useState('ISA OFFER')\r\n  const [request_error, set_request_error] = useState('')\r\n  const [loading, set_loading] = useState(true)\r\n\r\n  const isa_id = props.match.params.id\r\n\r\n  const fetchIsa = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await isaService.getIsaById(isa_id)\r\n\r\n      if (res.error) {\r\n        set_loading(false)\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_isa(res)\r\n      set_loading(false)\r\n    } catch (e) {\r\n      set_loading(false)\r\n      set_request_error(e.error || e.toString())\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchIsa()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"IsaOverview-page\">\r\n      <PageHeader user={props.currentUser} />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        isa && (\r\n          <PageContent>\r\n            <h1 className=\"page-title\">{makeName(isa.student)}</h1>\r\n            <section className=\"form\">\r\n              <Tabs tabs={['overview', 'isa offer']} onChange={tab => set_active_tab(tab)} activeTab={active_tab} />\r\n              {active_tab === 'overview' ? (\r\n                <div className=\"overview\">\r\n                  <div>\r\n                    <label>Total Paid</label>\r\n                    <p>\r\n                      0 USD\r\n                      <span>of {isa.cap} USD</span>\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Last Payment</label>\r\n                    <p>\r\n                      {/*1,250 USD*/}\r\n                      {/*<span>August 8th 2020</span>*/}\r\n                      N/A\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Current Income</label>\r\n                    {/*<p>95K / YEAR</p>*/}\r\n                    <p>${isa.current_income} / YEAR</p>\r\n                  </div>\r\n                  <div>\r\n                    <label>Previous Income</label>\r\n                    {/*<p>95K / YEAR</p>*/}\r\n                    <p>${isa.current_income} / YEAR</p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <Status selected={isa.status} />\r\n                  <div className=\"fields\">\r\n                    <Field title=\"company\">{makeName(props.currentUser)}</Field>\r\n                    <Field title=\"Client\">{makeName(isa.student)}</Field>\r\n                    <Field className=\"full\" title=\"Current Income\">\r\n                      ${isa.current_income} / YEAR\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"time to be paid\">\r\n                      {isa.time_to_be_paid || '-'} weeks\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Percentage to be paid\">\r\n                      {isa.percentage || '-'}%\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Description\">\r\n                      {isa.description || '-'}\r\n                    </Field>\r\n                    <Field className=\"full\" title=\"Cancellation Period\">\r\n                      {isa.cap || '-'} weeks\r\n                    </Field>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </section>\r\n            <Message message={request_error} />\r\n          </PageContent>\r\n        )\r\n      )}\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport Field from '../../../components/Field'\r\nimport IsaAssessment from '../../common/IsaAssessment'\r\nimport Icon from '../../../components/Icon'\r\nimport Button from '../../../components/Button'\r\nimport { makeName } from '../../../../helpers/base'\r\n\r\ninterface IsaOfferReviewProps {\r\n  isa: any\r\n  onNext(): void\r\n}\r\n\r\nexport default function IsaOfferReview(props: IsaOfferReviewProps) {\r\n  return (\r\n    <section className=\"client-isa_offer_review\">\r\n      <div className=\"fields\">\r\n        <Field title=\"company\">{makeName(props.isa.coach)}</Field>\r\n        <Field title=\"Client\">{makeName(props.isa.student)}</Field>\r\n        <Field className=\"full\" title=\"Current Income\">\r\n          ${props.isa.current_income}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Maximum to be paid\">\r\n          ${props.isa.cap}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Percentage to be paid\">\r\n          {props.isa.percentage}%\r\n        </Field>\r\n        <Field className=\"full\" title=\"Description\">\r\n          {props.isa.description}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Cancellation PEriod\">\r\n          {props.isa.cancellation_period_weeks ? props.isa.cancellation_period_weeks + ' weeks' : '-'}\r\n        </Field>\r\n        <Field className=\"full\" title=\"Time to be paid\">\r\n          {props.isa.time_to_be_paid ? props.isa.time_to_be_paid + ' month(s)' : '-'}\r\n        </Field>\r\n        <IsaAssessment className=\"full\" />\r\n      </div>\r\n      <footer>\r\n        <a href=\"#\">\r\n          <Icon icon=\"file-download\" />\r\n          DOWNLOAD CONTRACT\r\n        </a>\r\n        <Button background=\"MainWarning\" onClick={props.onNext}>\r\n          ACCEPT OFFER\r\n        </Button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}","import React from 'react'\r\nimport './style.scss'\r\nimport { fixClass } from '../../../../helpers/base'\r\nimport styled from 'styled-components'\r\n\r\nconst Steps = styled.section<any>`\r\n  grid-template-columns: ${props => new Array(props.length).fill('1fr ').join('')};\r\n`\r\n\r\ninterface StepperProps {\r\n  steps: Array<string>\r\n  activeIndex: number\r\n}\r\n\r\nexport default function Stepper(props: StepperProps) {\r\n  return (\r\n    <Steps length={props.steps.length} className=\"Stepper-module\">\r\n      {props.steps.map((step, i) => (\r\n        <div\r\n          className={`status${fixClass(i === props.activeIndex && 'selected')}`}\r\n          key={i}\r\n        >\r\n          {step}\r\n        </div>\r\n      ))}\r\n    </Steps>\r\n  )\r\n}","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class ClientService {\r\n\r\n  public async getOffer(isa_id: number) {\r\n    return await baseService.getJSON(`client/isas/${isa_id}`)\r\n  }\r\n\r\n  public async resetPassword(user_id: number, password: string) {\r\n    return await baseService.patchJSON(`users/reset-password`, {\r\n      token: user_id,\r\n      password: password\r\n    })\r\n  }\r\n}","import React, { useState } from 'react'\r\nimport './style.scss'\r\nimport Input from '../../../../../components/Input'\r\nimport Button from '../../../../../components/Button'\r\nimport { validateEmail } from '../../../../../../helpers/base'\r\nimport AuthService from '../../../../../../services/auth.service'\r\nimport { log } from '../../../../../../services/logging.service'\r\nimport { emailErrorMessage, passwordLength, passwordMustMatch } from '../../../../../../constants/auth'\r\nimport Message from '../../../../../components/Message'\r\nimport ClientService from '../../../../../../services/client.service'\r\n\r\nconst clientService = new ClientService()\r\n\r\ninterface ClientIsaSignUpProps {\r\n  user_id: number\r\n  email: string\r\n  onNext(): void\r\n}\r\n\r\nexport default function ClientIsaSignUp(props: ClientIsaSignUpProps) {\r\n  const [password, set_password] = useState('')\r\n\r\n  const [password_confirm, set_password_confirm] = useState('')\r\n  const [loading, set_loading] = useState(false)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const [error, set_error] = useState({\r\n    password: '',\r\n    password_confirm: '',\r\n  })\r\n\r\n  const onSubmit = async () => {\r\n    set_loading(true)\r\n    try {\r\n      const res = await clientService.resetPassword(props.user_id, password)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_loading(false)\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        set_loading(false)\r\n        await props.onNext()\r\n      }\r\n    } catch (e) {\r\n      set_loading(false)\r\n      log('Error on sign in: ', e)\r\n      set_request_error(e.error || e.toString)\r\n      return setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const notValid = () => password.length < 6 || password_confirm !== password\r\n\r\n  return (\r\n    <section className=\"ClientIsaSignUp-module\">\r\n      <div className=\"fields\">\r\n        <Input\r\n          disabled={true}\r\n          className=\"full\"\r\n          icon=\"mail\"\r\n          placeholder=\"Email Address *\"\r\n          value={props.email}\r\n          onChange={e => null}\r\n        />\r\n        <Input\r\n          className=\"full\"\r\n          icon=\"key\"\r\n          placeholder=\"Password *\"\r\n          type=\"password\"\r\n          error={error.password}\r\n          value={password}\r\n          onChange={e => {\r\n            set_error({ ...error, password: '' })\r\n            set_password(e)\r\n            e.length < 6 && set_error({ ...error, password: passwordLength })\r\n          }}\r\n        />\r\n        <Input\r\n          className=\"full\"\r\n          icon=\"key\"\r\n          placeholder=\"Confirm your password *\"\r\n          type=\"password\"\r\n          error={error.password_confirm}\r\n          value={password_confirm}\r\n          onChange={e => {\r\n            set_error({ ...error, password_confirm: '' })\r\n            set_password_confirm(e)\r\n            e !== password && set_error({ ...error, password_confirm: passwordMustMatch })\r\n          }}\r\n        />\r\n      </div>\r\n      <footer>\r\n        <Button background=\"MainWarning\" disabled={notValid()} onClick={onSubmit} icon=\"arrow-right\" loading={loading}>\r\n          NEXT\r\n        </Button>\r\n      </footer>\r\n      {request_error.length > 0 && <Message message={request_error} />}\r\n    </section>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\nimport { PlaidMetadata } from '../interfaces/baseIntefaces'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class PlaidService {\r\n\r\n  public async createItem(token: string, meta: PlaidMetadata) {\r\n    return await baseService.postJSON('plaid/items', {\r\n      public_token: token,\r\n      metadata: meta,\r\n    })\r\n  }\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { PlaidMetadata, ScreenProps } from '../../../../../../interfaces/baseIntefaces'\r\nimport PageHeader from '../../../../../modules/common/PageHeader'\r\nimport PageContent from '../../../../../modules/common/PageContent'\r\nimport FAQ from '../../../../../modules/company/CreateIsa/FAQ'\r\nimport IsaOfferReview from '../../../../../modules/client/IsaOfferReview'\r\nimport Stepper from '../../../../../modules/common/Stepper'\r\nimport ClientIsaSignUp from '../sign-up'\r\nimport { usePlaidLink } from 'react-plaid-link'\r\nimport PlaidService from '../../../../../../services/plaid.service'\r\nimport Message from '../../../../../components/Message'\r\nimport Button from '../../../../../components/Button'\r\nimport ClientService from '../../../../../../services/client.service'\r\n\r\nconst plaidService = new PlaidService()\r\nconst clientService = new ClientService()\r\nconst offerStatuses = ['review offer', 'sign up', 'link bank', 'sign contract']\r\n\r\ninterface ClientIsaOfferProps extends ScreenProps {\r\n  match: any\r\n}\r\n\r\nexport default function ClientIsaOffer(props: ClientIsaOfferProps) {\r\n  const [isa, set_isa] = useState<any>(null)\r\n  const [offer_step, set_offer_step] = useState(0)\r\n  const [request_error, set_request_error] = useState('')\r\n\r\n  const isa_id = props.match.params.id\r\n\r\n  const getIsa = async () => {\r\n    try {\r\n      const res = await clientService.getOffer(isa_id)\r\n\r\n      if (res) {\r\n        if (res.error) {\r\n          set_offer_step(offer_step - 1)\r\n          set_request_error(res.error)\r\n          setTimeout(() => set_request_error(''), 3000)\r\n        } else {\r\n          set_isa(res)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    getIsa()\r\n  }, [])\r\n\r\n  const onSuccess = async (token: string, metadata: PlaidMetadata) => {\r\n    try {\r\n      const res = await plaidService.createItem(token, metadata)\r\n\r\n      if (res) {\r\n        if (res.error || res.err_msg) {\r\n          set_offer_step(offer_step - 1)\r\n          set_request_error(res.error || res.err_msg)\r\n          setTimeout(() => set_request_error(''), 3000)\r\n        } else {\r\n          props.history.push(`/isa/${isa_id || 1}`)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      set_offer_step(offer_step - 1)\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const handleSignUp = async () => {\r\n    set_offer_step(offer_step + 1)\r\n    await props.fetchUser()\r\n    open()\r\n  }\r\n\r\n  const config = {\r\n    clientName: 'Commit Muse',\r\n    env: 'sandbox',\r\n    product: ['auth', 'transactions'],\r\n    publicKey: 'a004a070f0629da694fbae916414f3',\r\n    onSuccess: onSuccess,\r\n  }\r\n\r\n  const { open, ready, error } = usePlaidLink(config)\r\n  const offer_strategy: any = isa && {\r\n    'review offer': (\r\n      <IsaOfferReview\r\n        isa={isa}\r\n        onNext={() => {\r\n          set_offer_step(offer_step + 1)\r\n        }}\r\n      />\r\n    ),\r\n    'sign up': isa && <ClientIsaSignUp email={isa.student.email} user_id={isa.student.id.toString()} onNext={handleSignUp} />,\r\n    'link bank': (\r\n      <section className=\"link_bank\">\r\n        <Button background=\"MainWarning\" onClick={() => open()}>\r\n          Link Bank\r\n        </Button>\r\n      </section>\r\n    ),\r\n  }\r\n\r\n  return (\r\n    <article className=\"ClientIsaOffer-page\">\r\n      <PageHeader />\r\n      <PageContent>\r\n        <section className=\"offer-steps\">\r\n          <Stepper steps={offerStatuses} activeIndex={offer_step} />\r\n          {isa && offer_strategy[offerStatuses[offer_step]]}\r\n        </section>\r\n        {isa && <FAQ maximum={isa.cap} months={isa.time_to_be_paid} percentage={isa.percentage} current_income={isa.current_income} />}\r\n      </PageContent>\r\n      <Message message={request_error} />\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport './style.scss'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport Field from '../../../../components/Field'\r\nimport Button from '../../../../components/Button'\r\nimport { log } from '../../../../../services/logging.service'\r\nimport AuthService from '../../../../../services/auth.service'\r\n\r\nconst authService = new AuthService()\r\n\r\ninterface SettingsProps extends ScreenProps {}\r\n\r\nexport default function Settings(props: SettingsProps) {\r\n\r\n  const onLogout = async () => {\r\n    try {\r\n      await authService.signOut()\r\n      await props.fetchUser()\r\n      props.history.push('/login')\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"Settings-page\">\r\n      <PageHeader user={props.currentUser} />\r\n      <PageContent title=\"Settings\">\r\n        <div className=\"wrapper\">\r\n          <h2>Account Information</h2>\r\n          <section className=\"account_info\">\r\n            <Field title=\"FIRST NAME\">{props.currentUser.first_name}</Field>\r\n            <Field title=\"LAST NAME\">{props.currentUser.last_name}</Field>\r\n            <Field className=\"full\" title=\"Email address\">{props.currentUser.email}</Field>\r\n            <Field className=\"full\" title=\"\">Change Password</Field>\r\n          </section>\r\n          <h2>Contract Information</h2>\r\n          <section className=\"contract_info\">\r\n            <Field className=\"full\" title=\"Current income\">$ - / YEAR</Field>\r\n            <Field className=\"full\" title=\"\">Cancel ISA Contract</Field>\r\n          </section>\r\n          <Button style={{marginTop: 16}} onClick={onLogout}>Logout</Button>\r\n        </div>\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class AdminService {\r\n\r\n  public async getUsers() {\r\n    return await baseService.getJSON(`admin/users`)\r\n  }\r\n  public async getIsas() {\r\n    return await baseService.getJSON(`admin/isas`)\r\n  }\r\n}","import * as React from 'react'\r\nimport './style.scss'\r\nimport { Link, NavLink, useHistory } from 'react-router-dom'\r\nimport { User } from '../../../../interfaces/baseIntefaces'\r\nimport Icon from '../../../components/Icon'\r\nimport Button from '../../../components/Button'\r\nimport { useState } from 'react'\r\nimport AuthService from '../../../../services/auth.service'\r\nimport { log } from '../../../../services/logging.service'\r\n\r\nconst authService = new AuthService()\r\n\r\ninterface AdminHeaderProps {\r\n  user: User\r\n}\r\n\r\nexport default function AdminHeader(props: AdminHeaderProps) {\r\n  const [show_menu, set_show_menu] = useState(false)\r\n  const history = useHistory()\r\n\r\n  const onLogout = async () => {\r\n    try {\r\n      await authService.signOut()\r\n      history.push('/login')\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"AdminHeader-module\">\r\n        <nav>\r\n          <div className=\"logo\" onClick={() => history.push('/my-isa')}>\r\n            <img src=\"/web/assets/images/logo.png\" alt=\"logo\" />\r\n          </div>\r\n          <div className=\"menu-list\">\r\n            <NavLink activeClassName=\"is-active\" to=\"/admin/users\">\r\n              Users\r\n            </NavLink>\r\n            <NavLink activeClassName=\"is-active\" to=\"/admin/isas\">\r\n              ISAS\r\n            </NavLink>\r\n            <NavLink activeClassName=\"is-active\" to=\"/admin/plaid\">\r\n              Plaid\r\n            </NavLink>\r\n            <NavLink activeClassName=\"is-active\" className=\"switch\" to=\"/my-isa\">\r\n              Web App\r\n            </NavLink>\r\n          </div>\r\n          <div className=\"profile\">\r\n            {props.user ? (\r\n              <>\r\n                <Icon icon=\"bell\" className=\"notification\" />\r\n                <Link to=\"/settings\">\r\n                  <Icon icon=\"gear\" /> Settings\r\n                </Link>\r\n                <div className=\"auth-menu\" onClick={() => set_show_menu(!show_menu)}>\r\n                  {props.user.profile_picture_link && props.user.profile_picture_link.length > 6 ? (\r\n                    <img src={props.user.profile_picture_link} className=\"profile_pic\" alt=\"profile_pic\" />\r\n                  ) : (\r\n                    <Icon className=\"profile_pic\" icon=\"person\" />\r\n                  )}\r\n                  <Icon icon=\"caret-down\" />\r\n                  {show_menu && (\r\n                    <div className=\"hidden-menu\">\r\n                      <Button onClick={onLogout}>Logout</Button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <Link to=\"/login\">\r\n                <Button>Sign in</Button>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </nav>\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { ISA } from '../../../../interfaces/baseIntefaces'\r\nimport Button from '../../../components/Button'\r\nimport Field from '../../../components/Field'\r\nimport { formatDate } from '../../../../helpers/formattings'\r\n\r\ninterface IsaBoxProps {\r\n  isa: ISA\r\n}\r\n\r\nexport default function IsaBox(props: IsaBoxProps) {\r\n  return (\r\n    <section className=\"IsaBox-module\">\r\n      <header>\r\n        <div className=\"left-actions\">\r\n          <Button>EDIT</Button>\r\n        </div>\r\n        <div className=\"right-actions\">\r\n          <Button>VIEW</Button>\r\n        </div>\r\n      </header>\r\n      <div className=\"body\">\r\n        <div>\r\n          <Field title=\"ID\">{props.isa.id}</Field>\r\n          <Field title=\"Created at\">{formatDate(props.isa.created_at)}</Field>\r\n          <Field title=\"Coach ID\">{props.isa.coach}</Field>\r\n          <Field title=\"Student ID\">{props.isa.student}</Field>\r\n          <Field title=\"Status\">{props.isa.status}</Field>\r\n        </div>\r\n        <div>\r\n          <Field title=\"CAP\">{props.isa.cap}</Field>\r\n          <Field title=\"Current income\">{props.isa.current_income}</Field>\r\n          <Field title=\"Percentage\">{props.isa.percentage}</Field>\r\n          <Field title=\"Time to be paid\">{props.isa.time_to_be_paid}</Field>\r\n        </div>\r\n        <Field title=\"description\">{props.isa.description}</Field>\r\n      </div>\r\n      <footer></footer>\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport AdminService from '../../../../services/admin.service'\r\nimport { ISA, ScreenProps } from '../../../../interfaces/baseIntefaces'\r\nimport { log } from '../../../../services/logging.service'\r\nimport AdminHeader from '../../../modules/admin/AdminHeader'\r\nimport { notEmptyArray } from '../../../../helpers/base'\r\nimport IsaBox from '../../../modules/admin/IsaBox'\r\n\r\nconst adminService = new AdminService()\r\n\r\ninterface AdminIsasProps extends ScreenProps {}\r\n\r\nexport default function AdminIsas(props: AdminIsasProps) {\r\n  const [isas, set_isas] = useState<ISA[]>([])\r\n\r\n  const fetchIsas = async () => {\r\n    try {\r\n      const res = await adminService.getIsas()\r\n      set_isas(res)\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchIsas()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"AdminIsas-page\">\r\n      <AdminHeader user={props.currentUser} />\r\n      <div className=\"content\">\r\n        {notEmptyArray(isas) && isas.map((isa, i) => <IsaBox key={i} isa={isa}/>)}\r\n      </div>\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport './style.scss'\r\nimport AdminHeader from '../../../modules/admin/AdminHeader'\r\n\r\nexport default function AdminPlaid(props: any) {\r\n  return (\r\n    <article className=\"AdminPlaid-page\">\r\n      <AdminHeader user={props.currentUser} />\r\n      <div className=\"content\"></div>\r\n    </article>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport { User } from '../../../../interfaces/baseIntefaces'\r\nimport Button from '../../../components/Button'\r\nimport Icon from '../../../components/Icon'\r\nimport Field from '../../../components/Field'\r\n\r\ninterface AdminUserBoxProps {\r\n  user: User\r\n}\r\n\r\nexport default function AdminUserBox(props: AdminUserBoxProps) {\r\n  return (\r\n    <section className=\"AdminUserBox-module\">\r\n      <header>\r\n        <div className=\"profile-photo\">\r\n          {props.user.profile_picture_link ? (\r\n            <img src={props.user.profile_picture_link} alt=\"profile_picture\" />\r\n          ) : (\r\n            <Icon icon=\"person\" />\r\n          )}\r\n        </div>\r\n        <div className=\"right-actions\">\r\n            <Button>EDIT</Button>\r\n          <Button>VIEW</Button>\r\n        </div>\r\n      </header>\r\n      <div className=\"body\">\r\n        <Field title=\"ID\">{props.user.id}</Field>\r\n        <Field title=\"Name\">\r\n          {props.user.first_name} {props.user.last_name}\r\n        </Field>\r\n        <Field title=\"Email\">{props.user.email}</Field>\r\n        <Field title=\"Type\">{props.user.type}</Field>\r\n      </div>\r\n      <footer></footer>\r\n    </section>\r\n  )\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport AdminHeader from '../../../modules/admin/AdminHeader'\r\nimport { ScreenProps, User } from '../../../../interfaces/baseIntefaces'\r\nimport AdminService from '../../../../services/admin.service'\r\nimport { log } from '../../../../services/logging.service'\r\nimport { notEmptyArray } from '../../../../helpers/base'\r\nimport AdminUserBox from '../../../modules/admin/UserBox'\r\n\r\nconst adminService = new AdminService()\r\n\r\ninterface AdminUsersProps extends ScreenProps {}\r\n\r\nexport default function AdminUsers(props: AdminUsersProps) {\r\n  const [users, set_users] = useState<User[]>([])\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const res = await adminService.getUsers()\r\n      set_users(res)\r\n    } catch (e) {\r\n      log(e)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchUsers()\r\n  }, [])\r\n\r\n  return (\r\n    <article className=\"AdminUsers-page\">\r\n      <AdminHeader user={props.currentUser} />\r\n      <div className=\"content\">\r\n        {notEmptyArray(users) && users.map(u => <AdminUserBox key={u.id} user={u}/>)}\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n","import BaseService from './base.service'\r\nimport { Company } from '../interfaces/baseIntefaces'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class CompanyService {\r\n\r\n  public async create(company: Company) {\r\n    return await baseService.postJSON('companies', company)\r\n  }\r\n}","import React, { useLayoutEffect, useState } from 'react'\r\nimport './style.scss'\r\nimport { PlaidMetadata, ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\nimport Stepper from '../../../../modules/common/Stepper'\r\nimport Select from '../../../../components/Select/Select'\r\nimport Input from '../../../../components/Input'\r\nimport Button from '../../../../components/Button'\r\nimport CompanyService from '../../../../../services/company.service'\r\nimport Message from '../../../../components/Message'\r\nimport { usePlaidLink } from 'react-plaid-link'\r\nimport PlaidService from '../../../../../services/plaid.service'\r\n\r\nconst companyService = new CompanyService()\r\nconst plaidService = new PlaidService()\r\n\r\nconst on_boarding_steps = ['company details', 'link bank']\r\n\r\ntype CompanyOnBoardingKeys =\r\n  | 'number_of_employees_estimate'\r\n  | 'name'\r\n  | 'address_line_1'\r\n  | 'address_line_2'\r\n  | 'country'\r\n  | 'zip_code'\r\n  | 'city'\r\n  | 'state'\r\n\r\ninterface CompanyOnBoardingProps extends ScreenProps {}\r\n\r\nexport default function CompanyOnBoarding(props: CompanyOnBoardingProps) {\r\n  const [request_error, set_request_error] = useState('')\r\n  const [active_step, set_active_step] = useState(0)\r\n  const [data, set_data] = useState({\r\n    number_of_employees_estimate: '1',\r\n    name: '',\r\n    address_line_1: '',\r\n    address_line_2: '',\r\n    country: '',\r\n    zip_code: '',\r\n    city: '',\r\n    state: '',\r\n  })\r\n\r\n  const notValid = () => Object.values(data).some((v: any) => v.length === 0)\r\n\r\n  const onSuccess = async (token: string, metadata: PlaidMetadata) => {\r\n    try {\r\n      const res = await plaidService.createItem(token, metadata)\r\n\r\n      if (res) {\r\n        const error = res.error || res.err_msg\r\n\r\n        if (error) {\r\n          set_request_error(res.error)\r\n          return setTimeout(() => set_request_error(''), 3000)\r\n        }\r\n\r\n        props.history.push('/subscription')\r\n      }\r\n    } catch (e) {\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const config = {\r\n    clientName: 'Commit Muse',\r\n    env: 'sandbox',\r\n    product: ['auth', 'transactions'],\r\n    publicKey: 'a004a070f0629da694fbae916414f3',\r\n    onSuccess: onSuccess,\r\n  }\r\n\r\n  const { open } = usePlaidLink(config)\r\n\r\n  const onNext = async () => {\r\n    try {\r\n      const res = await companyService.create({\r\n        name: data.name,\r\n        number_of_employees_estimate: data.number_of_employees_estimate,\r\n        address: `${data.address_line_1}, ${data.address_line_2}, ${data.country}, ${data.city}, ${data.state}, ${data.zip_code}`,\r\n      })\r\n\r\n      if (res && res.error) {\r\n        set_request_error(res.error)\r\n        return setTimeout(() => set_request_error(''), 3000)\r\n      }\r\n\r\n      set_active_step(active_step + 1)\r\n      open()\r\n    } catch (e) {\r\n      set_request_error(e.error || e.toString())\r\n      setTimeout(() => set_request_error(''), 3000)\r\n    }\r\n  }\r\n\r\n  const onChange = (e: any, key: CompanyOnBoardingKeys) => {\r\n    set_data({ ...data, [key]: e })\r\n  }\r\n\r\n  const boarding_steps: any = {\r\n    0: (\r\n      <>\r\n        <div className=\"fields\">\r\n          <Select\r\n            icon=\"globe\"\r\n            value={data.number_of_employees_estimate}\r\n            options={['1', '2-10', '10-50', '50+']}\r\n            onChange={e => onChange(e, 'number_of_employees_estimate')}\r\n            placeholder=\"Number of people in the company\"\r\n          />\r\n          <Input icon=\"building\" onChange={e => onChange(e, 'name')} value={data.name} placeholder=\"Company Name\" />\r\n          <Input\r\n            icon=\"location\"\r\n            onChange={e => onChange(e, 'address_line_1')}\r\n            value={data.address_line_1}\r\n            placeholder=\"Address Line 1\"\r\n          />\r\n          <Input\r\n            icon=\"location\"\r\n            onChange={e => onChange(e, 'address_line_2')}\r\n            value={data.address_line_2}\r\n            placeholder=\"Address Line 2\"\r\n          />\r\n          <Input icon=\"globus\" onChange={e => onChange(e, 'country')} value={data.country} placeholder=\"Country\" />\r\n          <div className=\"zip-code\">\r\n            <Input onChange={e => onChange(e, 'zip_code')} value={data.zip_code} placeholder=\"Zip Code\" />\r\n            <Input onChange={e => onChange(e, 'city')} value={data.city} placeholder=\"City\" />\r\n            <Input onChange={e => onChange(e, 'state')} value={data.state} placeholder=\"State\" />\r\n          </div>\r\n        </div>\r\n        <footer>\r\n          <Button disabled={notValid()} onClick={onNext} background=\"MainWarning\" icon=\"arrow-right\">\r\n            NEXT\r\n          </Button>\r\n        </footer>\r\n      </>\r\n    ),\r\n    1: (\r\n      <section className=\"link_bank\">\r\n        <Button background=\"MainWarning\" onClick={() => open()}>\r\n          Link Bank\r\n        </Button>\r\n      </section>\r\n    ),\r\n  }\r\n\r\n  return (\r\n    <article className=\"CompanyOnBoarding-page\">\r\n      <PageContent>\r\n        <PageHeader user={props.currentUser} />\r\n        <h2>Register</h2>\r\n        <section className=\"on_boarding-form\">\r\n          <Stepper steps={on_boarding_steps} activeIndex={active_step} />\r\n          {boarding_steps[active_step]}\r\n          <Message message={request_error} />\r\n        </section>\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport './syle.scss'\r\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\r\nimport PageContent from '../../../../modules/common/PageContent'\r\nimport PageHeader from '../../../../modules/common/PageHeader'\r\nimport Icon from '../../../../components/Icon'\r\nimport Button from '../../../../components/Button'\r\n\r\ninterface Offer {\r\n  title: string\r\n  description: string\r\n  oldCost: number\r\n  cost: number\r\n}\r\n\r\nconst offers: Offer[] = [\r\n  {\r\n    title: 'Monthly Suscription',\r\n    description: 'Complete access to Commit Muse',\r\n    oldCost: 50,\r\n    cost: 30,\r\n  },\r\n  {\r\n    title: 'Client Fee',\r\n    description: 'Per active ISA student, each month',\r\n    oldCost: 8,\r\n    cost: 2,\r\n  },\r\n]\r\n\r\ninterface SubscriptionProps extends ScreenProps {}\r\n\r\nexport default function Subscription(props: SubscriptionProps) {\r\n  return (\r\n    <article className=\"Subscription-page\">\r\n      <PageHeader user={props.currentUser} />\r\n\r\n      <PageContent title=\"Subscription\">\r\n        <section className=\"subscription-offer\">\r\n          <h2>Early adopter Discount offer:</h2>\r\n          <div className=\"offer-list\">\r\n            {offers.map((offer, i) => (\r\n              <Offer offer={offer} key={i} />\r\n            ))}\r\n          </div>\r\n          <div className=\"payment-method\">\r\n            <h2>Payment method</h2>\r\n            <div>\r\n              <p>\r\n                <Icon icon=\"check-circle\" />\r\n                Account ending in 1234\r\n              </p>\r\n              <Button>\r\n                <Icon icon=\"blue-plus\" />\r\n                Other Payment Method\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <footer>\r\n            <Button className=\"skip\">Skip for now</Button>\r\n            <Button className=\"start\" background=\"MainWarning\">START MY Subscription</Button>\r\n          </footer>\r\n        </section>\r\n      </PageContent>\r\n    </article>\r\n  )\r\n}\r\n\r\nfunction Offer({ offer }: { offer: Offer }) {\r\n  return (\r\n    <div className=\"offer\">\r\n      <div className=\"description\">\r\n        <h2>{offer.title}</h2>\r\n        <p>{offer.description}</p>\r\n      </div>\r\n      <div className=\"cost\">\r\n        <h2>${offer.oldCost}</h2>\r\n        <p>${offer.cost}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport { ScreenProps } from './interfaces/baseIntefaces'\r\nimport NotFound from './app/pages/public/404'\r\nimport MyIsa from './app/pages/public/company/my-isa'\r\nimport OnBoarding from './app/pages/public/coach/on-boarding'\r\nimport CreateIsa from './app/pages/public/company/my-isa/create-isa'\r\nimport SignUp from './app/pages/public/auth/sign-up'\r\nimport SignIn from './app/pages/public/auth/sign-in'\r\nimport IsaOverview from './app/pages/public/company/my-isa/isa-overview'\r\nimport ClientIsaOffer from './app/pages/public/client/isa-offer-steps/review'\r\nimport Settings from './app/pages/public/client/settings'\r\nimport AdminIsas from './app/pages/admin/Isas'\r\nimport AdminPlaid from './app/pages/admin/Plaid'\r\nimport AdminUsers from './app/pages/admin/Users'\r\nimport CompanyOnBoarding from './app/pages/public/company/register'\r\nimport Subscription from './app/pages/public/company/subscription'\r\n\r\nexport default function Routes(routerProps: any) {\r\n  const adminRoute = (Component: any, path: string) => (\r\n    <Route path={path}>\r\n      {(props: any) =>\r\n        routerProps.currentUser && routerProps.currentUser.user_role === 1 && <Component {...props} {...routerProps} />\r\n      }\r\n    </Route>\r\n  )\r\n\r\n  return (\r\n    <Router basename={'/web'}>\r\n      <Switch>\r\n        <Route path=\"/login\" render={(props: any) => <SignIn {...props} {...routerProps} />} />\r\n        <Route path=\"/register\" render={(props: any) => <SignUp {...props} {...routerProps} />} />\r\n\r\n        {/* Private Routes */}\r\n        {privateRoute(MyIsa, '/my-isa', routerProps)}\r\n        {privateRoute(CreateIsa, '/isa/create', routerProps)}\r\n        {privateRoute(IsaOverview, '/isa/:id', routerProps)}\r\n        {privateRoute(Settings, '/settings', routerProps)}\r\n        {privateRoute(OnBoarding, '/on-boarding', routerProps)}\r\n        {privateRoute(Subscription, '/subscription', routerProps)}\r\n        {privateRoute(CompanyOnBoarding, '/company/register', routerProps)}\r\n\r\n        {/* Admin Routes */}\r\n        {adminRoute(AdminUsers, '/admin/users')}\r\n        {adminRoute(AdminIsas,  '/admin/isas')}\r\n        {adminRoute(AdminPlaid, '/admin/plaid')}\r\n\r\n        <Route path=\"/client/isa-offer/:id\" render={(props: any) => <ClientIsaOffer {...props} {...routerProps} />} />\r\n\r\n        {/*404*/}\r\n        <Redirect path=\"/\" to={routerProps.currentUser ? '/my-isa' : '/login'} exact />\r\n        <Route path=\"*\" render={(props: any) => <NotFound {...props} />} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nconst privateRoute = (Component: any, route: string, routerProps: ScreenProps) => {\r\n  return (\r\n    <Route\r\n      path={route}\r\n      render={(props: any) =>\r\n        routerProps.currentUser ? (\r\n          <Component {...props} {...routerProps} />\r\n        ) : (\r\n          <Redirect to={'/login'} />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}","import { Dispatch } from 'redux'\r\n\r\nconst SET_AUTH_FIELD = 'SET_AUTH_FIELD'\r\n\r\nexport type AuthKeys =\r\n  | 'first_name'\r\n  | 'last_name'\r\n  | 'email'\r\n  | 'phone_number'\r\n  | 'password'\r\n  | 'company_name'\r\n  | 'company_type'\r\n  | 'title'\r\n  | 'address'\r\n  | 'company_website'\r\n  | 'building_types'\r\n  | 'project_types'\r\n  | 'number_of_hourly_employees_range'\r\n\r\nexport interface AuthState {\r\n  first_name: string\r\n  last_name: string\r\n  email: string\r\n  phone_number: string\r\n  password: string\r\n  company_name: string\r\n  company_type: string\r\n  title: string\r\n  address: string\r\n  company_website: string\r\n  building_types: string\r\n  project_types: string\r\n  number_of_hourly_employees_range: string\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  first_name: '',\r\n  last_name: '',\r\n  email: '',\r\n  phone_number: '',\r\n  password: '',\r\n  company_name: '',\r\n  company_type: '',\r\n  title: '',\r\n  address: '',\r\n  company_website: '',\r\n  building_types: '',\r\n  project_types: '',\r\n  number_of_hourly_employees_range: '0-5',\r\n}\r\n\r\n// actions\r\nexport const setAuthField = (e: string, key: AuthKeys) => ({\r\n  type: SET_AUTH_FIELD,\r\n  val: e,\r\n  key,\r\n})\r\n\r\nexport const authState = (state: any) => ({\r\n  auth: state.auth,\r\n})\r\n\r\nexport const authDispatcher = (dispatch: Dispatch) => ({\r\n  setAuthField: (e: string, key: AuthKeys) => dispatch(setAuthField(e, key)),\r\n})\r\n\r\nexport default function authReducer(state = initialState, action: { key: AuthKeys; val: string; type: string }) {\r\n  if (action.type === SET_AUTH_FIELD) {\r\n    return { ...state, [action.key]: action.val }\r\n  }\r\n\r\n  return state\r\n}\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport authReducer from './reducers/auth'\r\nimport reduxThunk from 'redux-thunk'\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n})\r\n\r\nconst store = (initialState = {}) => {\r\n  const middlewares = [reduxThunk]\r\n\r\n  return createStore(rootReducer, initialState, applyMiddleware(...middlewares))\r\n}\r\n\r\nexport default store\r\n","import BaseService from './base.service'\r\n\r\nconst baseService = new BaseService()\r\n\r\nexport default class UserService {\r\n  public async getCurrentUser() {\r\n    return await baseService.getJSON('user')\r\n  }\r\n\r\n  public async checkAuth() {\r\n    return await baseService.getJSON('check-auth')\r\n  }\r\n\r\n  public async editUser(details: any) {\r\n    return await baseService.patchJSON('user', details)\r\n  }\r\n}\r\n","import React, { useLayoutEffect, useState } from 'react'\r\nimport Routes from './Routes'\r\nimport { Provider } from 'react-redux'\r\nimport store from './redux/store'\r\nimport UserService from './services/user.service'\r\nimport Loader from './app/components/Loader'\r\nimport { log } from './services/logging.service'\r\nimport { User } from './interfaces/baseIntefaces'\r\n\r\nconst configStore: any = store()\r\nconst userService = new UserService()\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState<User | null | undefined>(null)\r\n  const fetchUser = async () => {\r\n    try {\r\n      const res = await userService.checkAuth()\r\n      if (res) {\r\n        const user = await userService.getCurrentUser()\r\n        return setUser(user)\r\n      } else {\r\n        return setUser(undefined)\r\n      }\r\n    } catch (e) {\r\n      log('Error getting current user: ', e)\r\n      return setUser(undefined)\r\n    }\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    fetchUser()\r\n  }, [])\r\n\r\n  return user !== null ? (\r\n    <Provider store={configStore}>\r\n      <Routes currentUser={user} fetchUser={fetchUser} />\r\n    </Provider>\r\n  ) : (\r\n    <Loader />\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n)\r\n\r\nexport function register(config: any) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config: any) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config: any) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import './styles/global.scss'\r\nimport App from './App'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}